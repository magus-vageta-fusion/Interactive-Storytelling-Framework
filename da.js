!function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.da=e():t.da=e()}(window,function(){return c=[function(t,e,r){"use strict";function clone(t){return t?JSON.parse(JSON.stringify(t)):t}function fillerDefinition(t,e,r){void 0===r&&(r={}),t.hasOwnProperty(e)||(t[e]=r)}function deg(t){return 180*t/Math.PI}function rad(t){return t*Math.PI/180}function unwrapRad(t){for(;t>Math.PI;)t-=2*Math.PI;for(;t<-Math.PI;)t+=2*Math.PI;return t}function clamp(t,e,r){return t<e?e:r<t?r:t}function roundToDec(t,e){return parseFloat(t.toFixed(e))}function point(t,e){return{x:t,y:e}}function makePoint(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return{x:t.apply(void 0,e.map(function(t){return t.x})),y:t.apply(void 0,e.map(function(t){return t.y}))}}r.r(e),r.d(e,"clone",function(){return clone}),r.d(e,"fillerDefinition",function(){return fillerDefinition}),r.d(e,"deg",function(){return deg}),r.d(e,"rad",function(){return rad}),r.d(e,"unwrapRad",function(){return unwrapRad}),r.d(e,"clamp",function(){return clamp}),r.d(e,"roundToDec",function(){return roundToDec}),r.d(e,"point",function(){return point}),r.d(e,"makePoint",function(){return makePoint}),r.d(e,"origin",function(){return n}),r.d(e,"breakPoint",function(){return o}),r.d(e,"endPoint",function(){return a}),r.d(e,"add",function(){return add}),r.d(e,"diff",function(){return diff}),r.d(e,"norm",function(){return norm}),r.d(e,"angle",function(){return angle}),r.d(e,"scale",function(){return scale}),r.d(e,"getUnitVector",function(){return getUnitVector}),r.d(e,"getPerpendicularVector",function(){return getPerpendicularVector}),r.d(e,"extractPoint",function(){return extractPoint}),r.d(e,"reflect",function(){return reflect}),r.d(e,"adjust",function(){return adjust}),r.d(e,"adjustPoints",function(){return adjustPoints}),r.d(e,"scalePoints",function(){return scalePoints}),r.d(e,"rotatePoints",function(){return rotatePoints}),r.d(e,"applyToCurve",function(){return applyToCurve}),r.d(e,"getPointOnCurve",function(){return getPointOnCurve}),r.d(e,"getPointOnLine",function(){return getPointOnLine}),r.d(e,"splitCurve",function(){return splitCurve}),r.d(e,"interpolateCurve",function(){return interpolateCurve}),r.d(e,"simpleQuadratic",function(){return simpleQuadratic}),r.d(e,"elevateDegree",function(){return elevateDegree}),r.d(e,"getCubicControlPoints",function(){return getCubicControlPoints}),r.d(e,"transformCurve",function(){return transformCurve}),r.d(e,"reverseDrawPoint",function(){return reverseDrawPoint}),r.d(e,"continueCurve",function(){return continueCurve}),r.d(e,"none",function(){return c}),r.d(e,"drawPoints",function(){return drawPoints}),r.d(e,"drawCircle",function(){return drawCircle}),r.d(e,"drawSpecificCurl",function(){return drawSpecificCurl}),r.d(e,"tracePoint",function(){return tracePoint});var n=Object.freeze({x:0,y:0}),o=Object.freeze({x:999,y:111,break:!0}),a=Object.freeze({x:333,y:222,end:!0});function add(t,e,r){return void 0===r&&(r=1),makePoint(function(t,e){return t+e*r},t,e)}function diff(t,e){return makePoint(function(t,e){return e-t},t,e)}function norm(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function angle(t){return Math.atan2(t.y,t.x)}function scale(t,e,r){return void 0===r&&(r=n),add(r,diff(r,t),e)}function getUnitVector(t){var e=norm(t);return makePoint(function(t){return t/e},t)}function getPerpendicularVector(t){return getUnitVector({x:-t.y,y:t.x})}function extractPoint(t){return{x:t.x,y:t.y}}function reflect(t,e,r){return void 0===e&&(e=1/0),void 0===r&&(r=0),t?(e===1/0?(o=n=0,r=t.y):o=(n=(t.x+(t.y-r)*e)/(1+e*e))*e,{x:2*n-t.x,y:2*o-t.y+2*r}):t;var n,o}function adjust(t,e,r){if(!t)return t;var n={x:t.x+e,y:t.y+r};return t.cp1&&(n.cp1={x:t.cp1.x+e,y:t.cp1.y+r}),t.cp2&&(n.cp2={x:t.cp2.x+e,y:t.cp2.y+r}),n}function adjustPoints(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=[];return t.forEach(function(t){o.push(adjust(t,e,r))}),o}function scalePoints(o,a){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];t.forEach(function(t){var e,r,n;t&&!1!==t.hasOwnProperty("x")&&(r=(e=scale(t,a,o)).x,n=e.y,t.x=r,t.y=n,t.cp1&&(t.cp1=scale(t.cp1,a,o)),t.cp2&&(t.cp2=scale(t.cp2,a,o)))})}function rotatePoints(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Math.cos(t),a=Math.sin(t);r.forEach(function(t){t&&!1!==t.hasOwnProperty("x")&&(rotateDiff(e,t,a,o),t.cp1&&rotateDiff(e,t.cp1,a,o),t.cp2&&rotateDiff(e,t.cp2,a,o))})}function rotateDiff(t,e,r,n){var o=diff(t,e),a=o.x*n-o.y*r,i=o.x*r+o.y*n;e.x=t.x+a,e.y=t.y+i}var i=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};function applyToCurve(t,e,r){var n=r.linear,o=r.quadratic,a=r.cubic,i=extractPoint(t),c=extractPoint(e);if(e.cp1&&e.cp2)return a(i,e.cp1,e.cp2,c);var s=e.cp1||e.cp2;return s?o(i,s,c):n(i,c)}function getPointOnCurve(r,t,e){return applyToCurve(t,e,{linear:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return getPointOnLine.apply(void 0,i([r],t))},quadratic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return makePoint.apply(void 0,i([function getQuadraticValue(t,e,r,n){return(e+n-2*r)*t*t+2*(r-e)*t+e}.bind(null,r)],t))},cubic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return makePoint.apply(void 0,i([function getCubicValue(t,e,r,n,o){return e*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*n*(1-t)*t*t+o*t*t*t}.bind(null,r)],t))}})}function getPointOnLine(t,e,r){return makePoint(function getLinearValue(t,e,r){return t*(r-e)+e}.bind(null,t),e,r)}function splitCurve(t,e,r){return applyToCurve(e,r,{linear:function splitLinear(t,e,r){var n=getPointOnLine(t,e,r);return{left:{p1:e,p2:n},right:{p1:n,p2:r}}}.bind(null,t),quadratic:function splitQuadratic(t,e,r,n){var o=getPointOnLine(t,e,r),a=getPointOnLine(t,r,n),i=getPointOnLine(t,o,a),c={p1:e,p2:i};c.p2.cp1=o;var s={p1:extractPoint(i),p2:n};return s.p2.cp1=a,{left:c,right:s}}.bind(null,t),cubic:function splitBezier(t,e,r,n,o){var a=getPointOnLine(t,e,r),i=getPointOnLine(t,r,n),c=getPointOnLine(t,n,o),s=getPointOnLine(t,a,i),l=getPointOnLine(t,i,c),u=getPointOnLine(t,s,l),p={p1:e,p2:u};p.p2.cp1=a,p.p2.cp2=s;var f={p1:extractPoint(u),p2:o};return f.p2.cp1=l,f.p2.cp2=c,{left:p,right:f}}.bind(null,t)})}function interpolateQuadratic(t,e,r,n){return function solveQuadraticEquation(t,e,r){var n=e*e-4*t*r;return n<0?[]:[(-e+Math.sqrt(n))/(2*t),(-e-Math.sqrt(n))/(2*t)]}(t-2*e+r,2*(e-t),t-n)}function cubeRoot(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function interpolateCubic(t,e,r,n,o){var a=3*(e-=o)-(t-=o)-3*(r-=o)+(n-=o);return function solveCubicEquation(t,e,r){var n=t/3,o=(3*e-t*t)/3/3,a=(2*t*t*t-9*t*e+27*r)/27/2,i=roundToDec(a*a+o*o*o,8);if(0<i){var c,s=Math.sqrt(i);return[(c=cubeRoot(-a+s))-cubeRoot(a+s)-n]}if(0===i)return[2*(c=cubeRoot(-a))-n,-c-n];var l=Math.sqrt(-o*o*o),u=-a/l;u<-1?u=-1:1<u&&(u=1);var p=Math.acos(u),f=2*cubeRoot(l);return[f*Math.cos(p/3)-n,f*Math.cos((p+2*Math.PI)/3)-n,f*Math.cos((p+4*Math.PI)/3)-n]}((3*t-6*e+3*r)/a,(-3*t+3*e)/a,t/a).map(function(t){return roundToDec(t,4)})}function interpolateCurve(r,n,o){var a;if(null===o.x)a="y";else{if(null!==o.y)return[];a="x"}return applyToCurve(r,n,{linear:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function interpolateLinear(t,e,r){return e===t?[]:[(r-t)/(e-t)]}.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))},quadratic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return interpolateQuadratic.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))},cubic:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return interpolateCubic.apply(void 0,i(t.map(function(t){return t[a]}),[o[a]]))}}).filter(function(t){return 0<=(t=roundToDec(t,3))&&t<=1}).map(function(t){var e=getPointOnCurve(t,r,n);return e.t=t,e})}function simpleQuadratic(t,e,r,n){return void 0===r&&(r=.5),void 0===n&&(n=0),add(getPointOnLine(r,t,e),getPerpendicularVector(diff(t,e)),n)}function elevateDegree(t,e){var n=[t];for(var r in e)e.hasOwnProperty(r)&&r.startsWith("cp")&&n.push(e[r]);n.push(extractPoint(e));for(var o=extractPoint(e),a=1,i=n.length;a<i;++a)!function(t,e){var r=t/e;o["cp"+t]=makePoint(function(t,e){return r*t+(1-r)*e},n[t-1],n[t])}(a,i);return o}function getCubicControlPoints(e,r){return applyToCurve(e,r,{linear:function(){var t=elevateDegree(e,elevateDegree(e,r));return[t.cp1,t.cp2]},quadratic:function(){var t=elevateDegree(e,r);return[t.cp1,t.cp2]},cubic:function(){return[r.cp1,r.cp2]}})}function transformCurve(t,e,r,n){if(!r)return n;if(!n)return r;var o=getCubicControlPoints(e,r),a=o[0],i=o[1],c=getCubicControlPoints(e,n),s=c[0],l=c[1],u=getPointOnLine(t,r,n);return u.cp1=getPointOnLine(t,a,s),u.cp2=getPointOnLine(t,i,l),u}function reverseDrawPoint(t,e){return t&&e?{x:t.x,y:t.y,cp1:clone(e.cp2),cp2:clone(e.cp1)}:t}function continueCurve(t,e,r){return void 0===r&&(r=1),applyToCurve(t,e,{linear:function(){return add(e,diff(t,e),r)},quadratic:function(){return scale(elevateDegree(t,e).cp2,-r,e)},cubic:function(){return scale(e.cp2,-r,e)}})}var c="rgba(0,0,0,0)";function drawPoints(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!(e.length<1)){var n=e[0];n&&(n.break&&(n=e[1]),n.break||n.end||t.moveTo(n.x,n.y));for(var o=1,a=e.length;o<a;++o){var i=e[o];i&&(i.break?++o<e.length&&(i=e[o],t.moveTo(i.x,i.y)):i.cp2&&i.cp1?t.bezierCurveTo(i.cp1.x,i.cp1.y,i.cp2.x,i.cp2.y,i.x,i.y,i.traceOptions):i.cp1?t.quadraticCurveTo(i.cp1.x,i.cp1.y,i.x,i.y,i.traceOptions):i.cp2?t.quadraticCurveTo(i.cp2.x,i.cp2.y,i.x,i.y,i.traceOptions):i.break||i.end||t.lineTo(i.x,i.y))}}}function drawCircle(t,e){var r=.552284749831*e,n={x:t.x,y:t.y+e,cp1:void 0,cp2:void 0},o={x:t.x+e,y:t.y,cp1:void 0,cp2:void 0},a={x:t.x,y:t.y-e,cp1:void 0,cp2:void 0},i={x:t.x-e,y:t.y,cp1:void 0,cp2:void 0};return n.cp1={x:i.x,y:i.y+r},n.cp2={x:n.x-r,y:n.y},o.cp1={x:n.x+r,y:n.y},o.cp2={x:o.x,y:o.y+r},a.cp1={x:o.x,y:o.y-r},a.cp2={x:a.x+r,y:a.y},i.cp1={x:a.x-r,y:a.y},i.cp2={x:i.x,y:i.y-r},[n,o,a,i,n]}function drawSpecificCurl(t,e,r){var n=extractPoint(t),o=extractPoint(e),a=extractPoint(r),i=t.t,c=void 0===i?.5:i,s=t.deflection,l=void 0===s?.5:s;o.cp1=simpleQuadratic(n,o,c,l);var u=r.t,c=void 0===u?.5:u,p=r.deflection,l=void 0===p?.5:p;return a.cp1=simpleQuadratic(n,o,c,l),[n,o,a]}function tracePoint(t,e){return e?"number"==typeof e&&(e={radius:e}):e={radius:1},t.traceOptions={point:e},t}},function(t,e,r){"use strict";var s=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.ClothingPart=e.Clothes=e.processClothingPartLocation=e.Clothing=void 0;var n=r(0),a=r(21),l=r(3),o=r(2),i=r(6),c=(Clothing.prototype.stroke=function(t,e){return n.none},Clothing.prototype.fill=function(t,e){return"#fff"},Clothing);function Clothing(){for(var a=this,i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];Object.assign(this,{clothingLayer:e.Clothes.Layer.BASE,thickness:1.2,noCover:!1}),this.parts=[],this.name="",Object.assign.apply(Object,s([this],i)),this.side=l.getSideValue(this.side);var c=0===this.parts.length;this.partPrototypes.forEach(function(t){var e=t.side,r=t.Part,n={};Object.assign.apply(Object,s([n],i.map(function(t){return t[r.name]})));var o=new r(n);Object.assign(a,o),c&&(processClothingPartLocation(e,o),(o._owner=a).parts.push(o))},this),Object.assign.apply(Object,s([this],i)),this.side=l.getSideValue(this.side),this.parts.forEach(function(t){t._owner=a})}function processClothingPartLocation(t,e){void 0!==e.forcedSide&&(t=e.forcedSide);var r,n,o=l.getSideLocation(t);return e.forcedNoSideString||"right"!==o&&"left"!==o||(r=a.extractUnmodifiedLocation(e.loc),a.locationIsSideless(r)||(n=a.extractLocationModifier(e.loc),e.loc=n+o+" "+r)),e.side=l.getSideValue(t),e}e.Clothing=c,e.processClothingPartLocation=processClothingPartLocation,e.Clothes={Layer:Object.freeze({BASE:0,INNER:1,MID:2,OUTER:3,NUM_LAYERS:4}),create:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(t.bind.apply(t,s([void 0],e)))},simpleStrokeFill:function(t,e,r){i.setStrokeAndFill(t,{fill:r.fill,stroke:r.stroke},e),t.lineWidth=r.thickness}};var u=(ClothingPart.prototype.renderClothingPoints=function(t,e){},ClothingPart);function ClothingPart(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.assign.apply(Object,s([this,{layer:o.Layer.FRONT,loc:"torso",forcedNoSideString:!1}],t))}e.ClothingPart=u},function(t,c,e){"use strict";function getCanvas(t,e){var r="string"==typeof t?document.getElementById(t):t;e.hasOwnProperty("parent")||(e.parent=document.createElement("div"),document.body.appendChild(e.parent),e.parent.style.width=e.width+"px",e.parent.style.height=e.height+"px");var n=!r;if(n){if("string"!=typeof t)throw new Error("First time creating canvas should pass in canvas holder id (string)");(r=document.createElement("canvas")).id=t}var o=r;for(var a in o.width=e.width,o.height=e.height,o.style.position="absolute",e)e.hasOwnProperty(a)&&("width"===a||"height"===a||e.hasOwnProperty(a)&&(o.style[a]=e[a]));return n&&e.parent.insertBefore(o,e.parent.firstChild),o}function getCanvasHandle(t){return"string"==typeof t?document.getElementById(t):t}Object.defineProperty(c,"__esModule",{value:!0}),c.getCanvasHandle=c.showCanvasGroup=c.hideCanvasGroup=c.getCanvas=c.getCanvasGroup=c.seamWidth=c.ShadingLayers=c.Layer=void 0,c.Layer=Object.freeze({BASE:0,BACK:1,FRONT:2,SHADING_FRONT:3,MALE_GENITALS:4,MIDRIFT:5,SHADING_MIDRIFT:6,ARMS:7,SHADING_ARMS:8,GENITALS:9,SHADING_GENITALS:10,BELOW_HAIR:11,SHADING_BELOW_HAIR:12,HAIR:13,SHADING_HAIR:14,ABOVE_HAIR:15,EFFECTS:16,NUM_LAYERS:17}),c.ShadingLayers=[c.Layer.SHADING_FRONT,c.Layer.SHADING_MIDRIFT,c.Layer.SHADING_ARMS,c.Layer.SHADING_GENITALS,c.Layer.SHADING_BELOW_HAIR,c.Layer.SHADING_HAIR],c.seamWidth=0,c.getCanvasGroup=function getCanvasGroup(t,e){var r=t;"string"==typeof t?r=document.getElementById(t):t=t.id;var n=Object.assign({width:"500",height:"800",parent:r},e);r.style.width=n.width+"px",r.style.height=n.height+"px",r.style.textAlign="left";for(var o=0;o<=c.Layer.NUM_LAYERS;++o){var a=t+o,i=o!==c.Layer.NUM_LAYERS?{visibility:"hidden"}:null;getCanvas(a,Object.assign({},n,{"z-index":o},i))}return r},c.getCanvas=getCanvas,c.hideCanvasGroup=function hideCanvasGroup(t){getCanvasHandle(t).style.display="none"},c.showCanvasGroup=function showCanvasGroup(t){getCanvasHandle(t).style.display="block"},c.getCanvasHandle=getCanvasHandle},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),l=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.getAttachedLocation=e.getSideValue=e.isParentPart=e.partConflict=e.prototypeAppliesToSide=e.getSideLocation=e.Part=e.BodyPart=e.BasePart=void 0;var u=r(21),a=r(0),i=r(2),c=(BasePart.prototype.stroke=function(t,e){return"inherit"},BasePart.prototype.fill=function(t,e){return"inherit"},BasePart.prototype.getLineWidth=function(t){return 1.5},BasePart.prototype.toString=function(){return this.loc},BasePart.prototype.calcDrawPoints=function(t,e,r,n){return[]},BasePart);function BasePart(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.parentPart=null,this.layer=i.Layer.BASE,this.reflect=!1,this.coverConceal=[],this.uncoverable=!1,this.aboveParts=[],this.belowParts=[],Object.assign.apply(Object,l([this],t))}e.BasePart=c;var s,p=(o(BodyPart,s=c),BodyPart.prototype.stroke=function(t,e){return a.none},BodyPart.prototype.fill=function(t,e){return"inherit"},BodyPart.prototype.getLineWidth=function(t){return.8},BodyPart);function BodyPart(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.apply(this,t)||this}function getSideLocation(t){return"right"===t||"left"===t?t:t===e.Part.LEFT?"left":t===e.Part.RIGHT?"right":null}function getSideValue(t){return"left"===t||t===e.Part.LEFT?e.Part.LEFT:e.Part.RIGHT}e.BodyPart=p,e.Part={RIGHT:0,LEFT:1,create:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Object.assign.apply(Object,l([{}],e)),o=new t(n),a=n&&n.hasOwnProperty("side")?n.side:null;null===a&&(a=u.extractSideLocation(o.loc)),void 0!==o.forcedSide&&(a=o.forcedSide);var i,c,s=getSideLocation(a);return"right"!==s&&"left"!==s||(i=u.extractBaseLocation(o.loc),c=u.extractLocationModifier(o.loc),o.loc=c+s+" "+i),o.side=getSideValue(a),o}},e.getSideLocation=getSideLocation,e.prototypeAppliesToSide=function prototypeAppliesToSide(t,e){if(null===t)return!0;var r=e.name.toLowerCase();return!!r.startsWith(t)||!r.startsWith("left")&&!r.startsWith("right")},e.partConflict=function partConflict(t,e){return t.side===e.side&&(Object.getPrototypeOf(t)===Object.getPrototypeOf(e)||u.extractUnmodifiedLocation(t.loc)===u.extractUnmodifiedLocation(e.loc)&&("-"===t.loc.charAt(0)||"-"===e.loc.charAt(0)||"+"!==t.loc.charAt(0)&&"+"!==e.loc.charAt(0)))},e.isParentPart=function isParentPart(t,e){if(!e.parentPart)return!1;if(u.extractBaseLocation(t.loc)!==e.parentPart)return!1;var r=u.extractSideLocation(t.loc);return!(null!==r&&r!==u.extractSideLocation(e.loc))},e.getSideValue=getSideValue,e.getAttachedLocation=function getAttachedLocation(t){var e=new t;return u.extractUnmodifiedLocation(e.loc)}},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.__version__=void 0,o(r(0),e),o(r(30),e),o(r(32),e),o(r(8),e),o(r(49),e),o(r(21),e),o(r(25),e),o(r(6),e),o(r(2),e),o(r(41),e),o(r(69),e),o(r(9),e),o(r(45),e),o(r(16),e),o(r(160),e),o(r(161),e),o(r(162),e),o(r(70),e),o(r(71),e),o(r(72),e),o(r(73),e),o(r(74),e),o(r(75),e),o(r(11),e),o(r(76),e),o(r(77),e),o(r(78),e),o(r(79),e),o(r(80),e),o(r(163),e),o(r(29),e),o(r(81),e),o(r(38),e),o(r(39),e),o(r(40),e),o(r(3),e),o(r(82),e),o(r(83),e),o(r(84),e),o(r(85),e),o(r(86),e),o(r(87),e),o(r(88),e),o(r(89),e),o(r(90),e),o(r(91),e),o(r(92),e),o(r(93),e),o(r(94),e),o(r(1),e),o(r(164),e),o(r(165),e),o(r(31),e),o(r(46),e),o(r(20),e),o(r(23),e),o(r(18),e),o(r(19),e),o(r(22),e),o(r(17),e),o(r(13),e),o(r(166),e),o(r(47),e),o(r(167),e),o(r(168),e),o(r(14),e),o(r(27),e),o(r(169),e),o(r(28),e),o(r(170),e),o(r(171),e),o(r(172),e),o(r(173),e),o(r(174),e),o(r(26),e),o(r(48),e),o(r(175),e),o(r(176),e),o(r(177),e),o(r(178),e),o(r(179),e),o(r(180),e),o(r(181),e),o(r(43),e),o(r(44),e),o(r(182),e),e.__version__="1.34.2",console.log("da.__version__ = "+e.__version__)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawStar=e.drawSpiral=e.copyCurve=e.polar2cartesian=e.cartesian2polar=e.perpendicularPoint=e.getLacingPoints=e.pointLineIntersection=e.lineCubicIntersection=e.lineLineIntersection=e.straightenCurve=e.findBetween=e.getLimbPointsBellowPoint=e.getLimbPointsNegative=e.getLimbPointsAbovePoint=e.getLimbPoints=void 0;var y=r(0);function findBetween(t,e,r){return void 0===r&&(r=.5),"object"==typeof e&&(e.x,1)&&(e.y,1)&&"object"==typeof t&&(t.x,1)&&(t.y,1)?{x:findBetween(t.x,e.x,r),y:findBetween(t.y,e.y,r)}:("object"==typeof e&&console.log("ERROR! The first variable inputed in findBetween() is not a primitive value (ie is object)! "),"object"==typeof t&&console.log("ERROR! The second variable inputed in findBetween() is not a primitive value (ie is object)! "),t+(e-t)*r)}function cartesian2polar(t,e){(e=e||{}).x||(e.x=0),e.y||(e.y=0);var r=t.x-e.x,n=t.y-e.y;return{r:Math.sqrt(Math.pow(r,2)+Math.pow(n,2)),theta:Math.atan2(n,r)}}function polar2cartesian(t,e,r){return(r=r||{}).x||(r.x=0),r.y||(r.y=0),{x:t*Math.cos(e)+r.x,y:t*Math.sin(e)+r.y}}e.getLimbPoints=function getLimbPoints(){for(var t=[],e=[],r=arguments[0],n=arguments[1],o=arguments[2],a=r.y-(r.y-n.y)*o,i=3;i<arguments.length;i++)arguments[i]&&t.push(y.clone(arguments[i]));if(a>t[0].y)e[0]=t[0];else if(a<t[t.length-1].y)e=t;else for(i=1;i<t.length;i++){if(a==t[i].y){e=t.splice(0,i+1);break}if(a>t[i].y){var c=function point_between(t,e,r){var n=t.y-e.y,o=Math.abs((r-t.y)/n);return y.splitCurve(o,t,e).left.p2}(t[i-1],t[i],a);(e=t.splice(0,i))[e.length]=c;break}}return e},e.getLimbPointsAbovePoint=function getLimbPointsAbovePoint(){function point_between(t,e){var r=y.interpolateCurve(t,e,{x:null,y:o.y}),n=y.splitCurve(r[0].t,t,e);return{bottom:n.left.p2,second:n.right.p2}}for(var t=[],e=[],o=arguments[0],r=o.y,n=arguments[1],a=2;a<arguments.length;a++)arguments[a]&&t.push(y.clone(arguments[a]));if(r>t[0].y)e[0]=t[0];else if(r<t[t.length-1].y)e=t;else for(a=1;a<t.length;a++){if(r==t[a].y){e=t.splice(0,a+1);break}if(r>t[a].y){var i,c=void 0;n?(c=(i=point_between(t[a],t[a-1])).bottom,t[a-1]=i.second):c=(i=point_between(t[a-1],t[a])).bottom,(e=t.splice(0,a)).push(c);break}}return n&&e.reverse(),e},e.getLimbPointsNegative=function getLimbPointsNegative(){for(var t=[],e=[],r=arguments[0],n=arguments[1],o=arguments[2],a=r.y-(r.y-n.y)*o,i=3;i<arguments.length;i++)arguments[i]&&t.push(y.clone(arguments[i]));if(a>t[0].y)e=t;else if(a<t[t.length-1].y)e[0]=t[t.length-1];else for(i=t.length-2;0<=i;i--)if(a<t[i].y){var c=function point_between(t,e,r){var n=t.y-e.y,o=Math.abs((r-t.y)/n),a=y.splitCurve(o,t,e);return{top:a.left.p2,second:a.right.p2}}(t[i],t[i+1],a),s=c.top;t[i+1]=c.second,t.splice(0,i+1),(e=t).unshift(s);break}return e},e.getLimbPointsBellowPoint=function getLimbPointsBellowPoint(o,t){function point_between(t,e){var r=y.interpolateCurve(t,e,{x:null,y:o.y}),n=y.splitCurve(r[0].t,t,e);return{point:n.left.p2,second:n.right.p2}}for(var e=[],r=[],n=o.y,a=2;a<arguments.length;a++)arguments[a]&&e.push(y.clone(arguments[a]));if(n>e[0].y)r=e;else if(n<e[e.length-1].y)r[0]=e[e.length-1];else for(a=e.length-2;0<=a;a--)if(n<e[a].y){var i=void 0;t?i=point_between(e[a+1],e[a]):(i=point_between(e[a],e[a+1]),e[a+1]=i.second),e.splice(0,a+1),(r=e).unshift(i.point);break}return t&&r.reverse(),r},e.findBetween=findBetween,e.straightenCurve=function straightenCurve(t,e,r){var n={x:findBetween(t.x,e.x,.5),y:findBetween(t.y,e.y,.5)};e.cp1&&(e.cp1.x=findBetween(e.cp1.x,n.x,r),e.cp1.y=findBetween(e.cp1.y,n.y,r)),e.cp2&&(e.cp2.x=findBetween(e.cp2.x,n.x,r),e.cp2.y=findBetween(e.cp2.y,n.y,r))},e.lineLineIntersection=function lineLineIntersection(t,e,r,n){var o=e.y-t.y,a=t.x-e.x,i=o*t.x+a*t.y,c=n.y-r.y,s=r.x-n.x,l=c*r.x+s*r.y,u=o*s-c*a;return 0==u?void console.log("Err - lineLineIntersection - they are paralel"):{x:(s*i-a*l)/u,y:(o*l-c*i)/u}},e.lineCubicIntersection=function lineCubicIntersection(t,e,r,n){function cubeRoot(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}var o=n.y-r.y,a=r.x-n.x,i=r.x*(r.y-n.y)+r.y*(n.x+r.x);function bezierCoeffs(t,e,r,n){var o=Array();return o[0]=3*e-t+-3*r+n,o[1]=3*t-6*e+3*r,o[2]=-3*t+3*e,o[3]=t,o}var c=bezierCoeffs(t.x,e.cp1.x,e.cp2.x,e.x),s=bezierCoeffs(t.y,e.cp1.y,e.cp2.y,e.y),l=Array();l[0]=o*c[0]+a*s[0],l[1]=(o*c[1]+a*s[1])/l[0],l[2]=(o*c[2]+a*s[2])/l[0],l[3]=(o*c[3]+a*s[3]+i)/l[0];for(var u=function solveCubicEquation(t,e,r){var n=t/3,o=(3*e-t*t)/3/3,a=(2*t*t*t-9*t*e+27*r)/27/2,i=function roundToDec(t,e){return parseFloat(t.toFixed(e))}(a*a+o*o*o,8);if(0<i){var c,s=Math.sqrt(i);return[(c=cubeRoot(-a+s))-cubeRoot(a+s)-n]}if(0===i)return[2*(c=cubeRoot(-a))-n,-c-n];var l=Math.sqrt(-o*o*o),u=-a/l;u<-1?u=-1:1<u&&(u=1);var p=Math.acos(u),f=2*cubeRoot(l);return[f*Math.cos(p/3)-n,f*Math.cos((p+2*Math.PI)/3)-n,f*Math.cos((p+4*Math.PI)/3)-n]}(l[1],l[2],l[3]),p=0,f=p,y=0;y<u.length;y++)0<=(p=function roundToDecimal(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)}(u[y],15))&&p<=1&&(f=p);return{x:c[0]*f*f*f+c[1]*f*f+c[2]*f+c[3],y:s[0]*f*f*f+s[1]*f*f+s[2]*f+s[3]}},e.pointLineIntersection=function pointLineIntersection(t,e,r){var n=function lineEquation(t,e){var r=(e.y-t.y)/(e.x-t.x);return{m:r,b:t.y-r*t.x}}(t,e);return r.y-n.m*r.x-n.b},e.getLacingPoints=function getLacingPoints(t,e,r,n,o,a){void 0===a&&(a=0),o=Math.abs(Math.round(o));for(var i=[],c=[],s=1/++o,l=0;l*s<=1;l++)l%2!=0?(i[l]=y.adjust(y.getPointOnCurve(s*l,t,e),a,0),c[l]=y.adjust(y.getPointOnCurve(s*l,r,n),-a,0)):(i[l]=y.adjust(y.getPointOnCurve(s*l,r,n),-a,0),c[l]=y.adjust(y.getPointOnCurve(s*l,t,e),a,0));return{inner:i,outer:c}},e.perpendicularPoint=function perpendicularPoint(t,e,r,n){var o=findBetween(t,e,r);return polar2cartesian(n,cartesian2polar(e,t).theta+Math.PI/2,o)},e.cartesian2polar=cartesian2polar,e.polar2cartesian=polar2cartesian,e.copyCurve=function copyCurve(t,e,r,n){var o,a,i,c,s=cartesian2polar(e,t).r,l=cartesian2polar(n,r).r/s,u=findBetween(e,t),p=findBetween(n,r);e.cp1&&(i=(o=cartesian2polar(e.cp1,u)).r,c=o.theta,c-=cartesian2polar(e,u).theta,c+=cartesian2polar(n,p).theta,n.cp1=polar2cartesian(i*l,c,p)),e.cp2&&(i=(a=cartesian2polar(e.cp2,u)).r,c=a.theta,c-=cartesian2polar(e,u).theta,c+=cartesian2polar(n,p).theta,n.cp2=polar2cartesian(i*l,c,p))},e.drawSpiral=function drawSpiral(t,e,r,n){void 0===n&&(n=1),n=0<=n?1:-1;var o=[],a=cartesian2polar(e,t),i=a.r,c=a.theta,s=i/(50*r);o[o.length]=polar2cartesian(i,c,t);for(var l=0;l<50*r;l++)i-=s,c-=2*Math.PI/50*n,o[o.length]=polar2cartesian(i,c,t);return o},e.drawStar=function drawStar(t,e,r,n,o,a,i){void 0===o&&(o=!0),void 0===a&&(a=0),void 0===i&&(i=0);for(var c=[],s=Math.PI/2*3,l=Math.PI/e,u=o?-1:1,p=0;p<e;p++)c[c.length]={x:t.x+Math.cos(s)*r*u,y:t.y+Math.sin(s)*r*u},s+=l,c[c.length]={x:t.x+Math.cos(s)*n*u,y:t.y+Math.sin(s)*n*u},s+=l;if(c[c.length]={x:t.x,y:t.y-r*u},0<a)c[c.length]=y.breakPoint,c=c.concat(y.drawCircle({x:t.x,y:t.y},r));else if(a<0){c[c.length]=y.breakPoint;for(var f=0;f<=2*e;)c[c.length]=c[f],f++,f++;c[c.length]=c[0]}if(0<i)c[c.length]=y.breakPoint,c=c.concat(y.drawCircle({x:t.x,y:t.y},n));else if(i<0){c[c.length]=y.breakPoint;for(f=1;f<=2*e;)c[c.length]=c[f],f++,f++;c[c.length]=c[1]}return c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.averageQuadratic=e.dist=e.requirePart=e.inheritFill=e.inheritStroke=e.setStrokeAndFill=e.convertPointsToCanvasUnits=e.cucm=e.cmcu=e.incu=void 0;var a=r(25),s=r(21),l=r(0);function cmcu(t){return 2*t}e.incu=function incu(t){return 2.54*t*2},e.cmcu=cmcu,e.cucm=function cucm(t){return t/2},e.convertPointsToCanvasUnits=function convertPointsToCanvasUnits(t){if(Array.isArray(t))for(var e=0;e<t.length;++e)convertPointsToCanvasUnits(t[e]);else if("object"==typeof t)for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;++n){var o=r[n];"x"===o||"y"===o?t[o]=2*t[o]:convertPointsToCanvasUnits(t[o])}},e.setStrokeAndFill=function setStrokeAndFill(t,e,r){var n=a.getLoadedPattern.call(e,e.stroke,t,r);t.strokeStyle="inherit"===n?r.baseStroke:n;var o=a.getLoadedPattern.call(e,e.fill,t,r);t.fillStyle="inherit"===o?r.baseFill:o},e.inheritStroke=function inheritStroke(t,e){var r=s.extractUnmodifiedLocation(this.loc),n=e.avatar.getClothingInLocation.call(e.avatar,r),o=null;if(n.forEach(function(t){(null===o||t.clothingLayer>o.clothingLayer)&&(o=t)}),o){var a=o;return"function"==typeof a.stroke?a.stroke(t,e):a.stroke}var i=e.avatar.getPartInLocation.call(e.avatar,r);if(i){if("function"==typeof i.stroke){var c=i.stroke(t,e);if(c!==l.none)return c}if(i.stroke!==l.none)return i.stroke}return e.baseStroke},e.inheritFill=function inheritFill(t,e){var r=e.avatar.getPartInLocation(this.loc);return r?"function"==typeof r.fill?r.fill(t,e):r.fill:e.baseFill},e.requirePart=function requirePart(t,e){if(!1===e.hasOwnProperty(t))throw new Error("Trying to draw "+t+" but it hasn't been defined yet")},e.dist=function dist(t,e){var r=l.diff(t,e);return l.norm(r)},e.averageQuadratic=function averageQuadratic(t,e,r,n,o,a,i){r=r||.5,n=n||0,o=o||0;var c,s={x:t.x*r+e.x*(1-r)+n,y:t.y*r+e.y*(1-r)+o};return a&&((c=e).cp1=s,s=l.splitCurve(a,t,c).right.p2.cp1),i&&((c=e).cp1=s,s=l.splitCurve(i,t,c).left.p2.cp1),s}},function(t,e,r){"use strict";r.r(e),r.d(e,"HairPart",function(){return n}),r.d(e,"Hair",function(){return i});var o=r(2),a=r(3);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _construct(t,e,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=_isNativeReflectConstruct();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(HairPart,a["BasePart"]);var n=_createSuper(HairPart);function HairPart(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,HairPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.HAIR,reflect:!1,coverConceal:[],uncoverable:!1}].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(HairPart,[{key:"stroke",value:function stroke(t,e){return e.hairStroke}},{key:"fill",value:function fill(t,e){return e.hairFill}},{key:"getLineWidth",value:function getLineWidth(){return 1.5}}]),HairPart}(),i={create:function create(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var o=_construct(t,r);return!1===o.hasOwnProperty("side")&&(o.side=Object(a.getSideValue)(null)),o},hairBack:Object.freeze({loc:"back hair",layer:o.Layer.BACK,belowParts:["parts groin"]}),hairAboveEars:Object.freeze({loc:"ears hair",layer:o.Layer.BELOW_HAIR,aboveParts:["ears"]}),hairMedium:Object.freeze({loc:"medium hair",layer:o.Layer.GENITALS,aboveParts:["chest","neck"]}),hairFront:Object.freeze({loc:"front hair",layer:o.Layer.HAIR})}},function(t,e,r){"use strict";function extractRGB(t){var e=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(e)return{r:parseInt(e[1]),g:parseInt(e[2]),b:parseInt(e[3])};var r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([+-]?\d+(\.\d+)?)\s*\)/.exec(t);return r?{r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:parseFloat(r[4])}:null}function extractHSL(t){var e=/hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/.exec(t);return e?{h:parseInt(e[1]),s:parseInt(e[2]),l:parseInt(e[3])}:null}function extractHex(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function RGBToHSL(t){var e=[t.r,t.g,t.b],r=e[0],n=e[1],o=e[2];r/=255,n/=255,o/=255;var a,i=Math.max(r,n,o),c=Math.min(r,n,o),s=(i+c)/2;if(i===c)a=u=0;else{var l=i-c,u=.5<s?l/(2-i-c):l/(i+c);switch(i){case r:a=(n-o)/l+(n<o?6:0);break;case n:a=(o-r)/l+2;break;case o:a=(r-n)/l+4}a/=6}return a*=360,u*=100,s*=100,t.hasOwnProperty("a")?{h:a,s:u,l:s,a:t.a}:{h:a,s:u,l:s}}function adjustColor(t,e){var r=null;if("string"==typeof t?null===(r=extractHSL(t))&&(r=(r=(r=r||extractRGB(t))||extractHex(t))&&RGBToHSL(r)):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")?r=t:t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")&&(r=RGBToHSL(t)),null===r)throw Error("Unknown adjustment for ".concat(t," and ").concat(e));r.h+=e.h||0,r.s+=e.s||0,r.l+=e.l||0;var n=0;return r.hasOwnProperty("a")&&(n+=r.a),e.hasOwnProperty("a")&&(n+=e.a),n?"hsla(".concat(r.h.toFixed(1),",").concat(r.s.toFixed(1),"%,").concat(r.l.toFixed(1),"%,").concat(n.toFixed(2),")"):"hsl(".concat(r.h.toFixed(1),",").concat(r.s.toFixed(1),"%,").concat(r.l.toFixed(1),"%)")}function Ziggurat(){var i=123456789,c=Array(128),s=Array(128),l=Array(128);function RNOR(){var t=SHR3(),e=127&t;return Math.abs(t)<l[e]?t*c[e]:function nfix(t,e){var r,n,o=3.442619855899,a=1/o;for(;;){if(r=t*c[e],0==e){for(r=-Math.log(UNI())*a,n=-Math.log(UNI());n+n<r*r;)r=-Math.log(UNI())*a,n=-Math.log(UNI());return 0<t?o+r:-o-r}if(s[e]+UNI()*(s[e-1]-s[e])<Math.exp(-.5*r*r))return r;if(t=SHR3(),e=127&t,Math.abs(t)<l[e])return t*c[e]}}(t,e)}function SHR3(){var t=i;return t^=t<<13,t^=t>>>17,i+(i=t^=t<<5)|0}function UNI(){return.5*(1+SHR3()/-Math.pow(2,31))}this.nextGaussian=RNOR,function zigset(){i^=(new Date).getTime();var t=2147483648,e=3.442619855899,r=e,n=.00991256303526217,o=n/Math.exp(-.5*e*e);l[0]=Math.floor(e/o*t),l[1]=0,c[0]=o/t,c[127]=e/t,s[0]=1,s[127]=Math.exp(-.5*e*e);for(var a=126;1<=a;a--)e=Math.sqrt(-2*Math.log(n/e+Math.exp(-.5*e*e))),l[a+1]=Math.floor(e/r*t),r=e,s[a]=Math.exp(-.5*e*e),c[a]=e/t}()}var n;function randNormal(t,e){return(n=n||new Ziggurat).nextGaussian()*e+t}function testRandGenerator(t){for(var e={},r=-100;r<101;++r)e[r]=0;for(;0<t--;)++e[Math.round(randNormal(10,20))];var n=[];for(var o in e)n.push(o+"\t"+e[o]);console.log(n.join("\n"))}function averagePoint(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.5;return{x:t.x*(1-r)+e.x*r,y:t.y*(1-r)+e.y*r}}function topologicalSort(i,c){for(var s=i.length,l=new Array(s),u={},t=s;t--;)u[t]||!function visit(e,t,r){if(0<=r.indexOf(e))throw new Error("Cyclic dependency: "+JSON.stringify(e));if(!~i.indexOf(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(u[t])return;u[t]=!0;var n=c.filter(function(t){return t[0]===e});if(t=n.length){var o=r.concat(e);do{var a=n[--t][1];visit(a,i.indexOf(a),o)}while(t)}l[--s]=e}(i[t],t,[]);return l}function simpleTopologicalSort(t){return topologicalSort(function uniqueNodes(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];e.indexOf(o[0])<0&&e.push(o[0]),e.indexOf(o[1])<0&&e.push(o[1])}return e}(t),t)}r.r(e),r.d(e,"extractRGB",function(){return extractRGB}),r.d(e,"extractHSL",function(){return extractHSL}),r.d(e,"extractHex",function(){return extractHex}),r.d(e,"RGBToHSL",function(){return RGBToHSL}),r.d(e,"adjustColor",function(){return adjustColor}),r.d(e,"randNormal",function(){return randNormal}),r.d(e,"testRandGenerator",function(){return testRandGenerator}),r.d(e,"averagePoint",function(){return averagePoint}),r.d(e,"topologicalSort",function(){return topologicalSort}),r.d(e,"simpleTopologicalSort",function(){return simpleTopologicalSort}),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.last||(Array.prototype.last=function(){return this.length?this[this.length-1]:null}),Array.prototype.extend||(Array.prototype.extend=function(t){this.push.apply(this,t)}),Array.prototype.contains=function(t){var o=t!=t,e=o||"function"!=typeof Array.prototype.indexOf?function indexOf(t){for(var e=-1,r=-1,e=0;e<this.length;e++){var n=this[e];if(o&&n!=n||n===t){r=e;break}}return r}:Array.prototype.indexOf;return-1<e.call(this,t)},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t})},function(t,p,e){"use strict";var f=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(p,"__esModule",{value:!0}),p.drawFocusedWindow=p.coverNipplesIfHaveNoBreasts=p.connectEndPoints=p.drawPartsLayer=p.drawPart=p.renderParts=p.renderBase=p.draw=p.defaultConfig=void 0;var y=e(157),h=e(25),d=e(32),g=e(42),P=e(3),b=e(21),v=e(6),_=e(69),m=e(8),S=e(2),C=e(1),O=e(0),k=e(41),w=e(43),j=e(18),x=e(44);function calcPart(t,e){var r=t.avatar;e.hasOwnProperty("Mods")&&(k.applyMods(r.Mods,e.Mods),r.calcAll()),e.calcDrawPoints.call(r.dim,t[e.side],r._clampedMods,!0,e),e.reflect&&e.calcDrawPoints.call(r.dim,t[1-e.side],r._clampedMods,!0,e),e.hasOwnProperty("Mods")&&(k.removeMods(r.Mods,e.Mods),r.calcAll())}function renderBase(t,e){for(var r=S.Layer.BASE;r<S.Layer.NUM_LAYERS;++r){e.clip[r]={};var n=t[r];n.save(),n.scale(-1,1),n.beginPath(),e.clip[r][P.Part.LEFT]=drawPartsLayer(e,r,P.Part.LEFT,n),n.fill(),n.restore(),e.clip[r][P.Part.RIGHT]=drawPartsLayer(e,r,P.Part.RIGHT,n),n.fill()}}function strokePart(t,e){t.beginPath(),O.drawPoints.apply(null,[t].concat(e)),t.stroke()}function orderParts(a){var i=["parts","faceParts","decorativeParts","hairParts","clothingParts","shadingParts","tattoos"],r=[],c=new Map,n=[],o=0,s=[];i.forEach(function(e){a[e].forEach(function(t){r[o]=t,c.set(t,o),n.push(e),++o})}),i.forEach(function(t){a[t].forEach(function(t){!function findDependencies(n){var o=c.get(n);n.parentPart&&a.parts.forEach(function(t){P.isParentPart(t,n)&&s.push([o,c.get(t)])});n.aboveParts&&n.aboveParts.forEach(function(e){var t,r=null;-1<e.indexOf(" ")&&(t=e.split(" "),r=t[0],e=t[1]),i.forEach(function(t){r&&r!==t||a[t].forEach(function(t){t===n||t.layer>n.layer||e===b.extractBaseLocation(b.extractUnmodifiedLocation(t.loc))&&s.push([o,c.get(t)])})})});n.belowParts&&n.belowParts.forEach(function(e){var t,r=null;-1<e.indexOf(" ")&&(t=e.split(" "),r=t[0],e=t[1]),i.forEach(function(t){r&&r!==t||a[t].forEach(function(t){t===n||n.layer>t.layer||e===b.extractBaseLocation(b.extractUnmodifiedLocation(t.loc))&&s.push([c.get(t),o])})})})}(t)})}),function findClothingLayerDependencies(){for(var r=[],e=0;e<C.Clothes.Layer.NUM_LAYERS;++e)r.push([]);a.clothingParts.forEach(function(t){var e=t._owner.clothingLayer;r[e].push(t)});for(e=0;e<r.length;++e)for(var t=e+1;t<r.length;++t)!function(t){r[e].forEach(function(e){r[t].forEach(function(t){e.layer<=t.layer&&s.push([c.get(t),c.get(e)])})})}(t)}(),function findClothingSameLayerOrdering(){var r={};a.clothingParts.forEach(function(t){var e=t._owner.clothingLayer;r.hasOwnProperty(e)?r[e].push(t):r[e]=[t]});for(var t in r)!function(t){if(!1===r.hasOwnProperty(t))return;var e=r[t];e.forEach(function(r){(r.aboveSameLayerParts||r.belowSameLayerParts)&&e.forEach(function(t){var e;t!==r&&t.layer===r.layer&&(e=b.extractBaseLocation(b.extractUnmodifiedLocation(t.loc)),mutualSameLayerOrdering(r.aboveSameLayerParts,t.aboveSameLayerParts)||mutualSameLayerOrdering(r.belowSameLayerParts,t.belowSameLayerParts)||(r.aboveSameLayerParts&&-1<r.aboveSameLayerParts.indexOf(e)&&s.push([c.get(r),c.get(t)]),r.belowSameLayerParts&&-1<r.belowSameLayerParts.indexOf(e)&&s.push([c.get(t),c.get(r)])))})})}(t);function mutualSameLayerOrdering(t,e){var r=!1;return t&&e&&t.forEach(function(t){-1<e.indexOf(t)&&(r=!0)}),r}}();for(var t=[],e=0;e<o;++e)t.push(e);for(var l=m.topologicalSort(t,s).reverse(),u=[],p=[],f=0;f<l.length;++f){var y=l[f];u.push(r[y]),p.push(n[y])}return{orderedPartTypes:p,orderedParts:u}}function renderParts(c,s,t){for(var l=s.avatar,e=orderParts(l),r=e.orderedPartTypes,u=e.orderedParts,o=[],n={},a=0;a<u.length;++a){var i=u[a];if(i.coverConceal&&i.coverConceal.length)if(l.checkPartCoveredByClothing(i))continue;n.hasOwnProperty(r[a])||(n[r[a]]={});var p=n[r[a]];switch(p.hasOwnProperty(i.loc)&&delete p[i.loc],r[a]){case"parts":case"faceParts":case"decorativeParts":!function renderPart(t,e,r){if(!t.calcDrawPoints)return;var n=c[t.layer];n.save(),t.side!==P.Part.LEFT&&!0!==t.reflect||n.scale(-1,1);v.setStrokeAndFill(n,t,s),n.lineWidth=t.getLineWidth(l);var o,a=t.clipFill?t.clipFill(s[t.side]):s.clip[t.layer][t.side];n.save(),clipPart(n,a),drawPart(s,u,e,t.layer,t.side,r),fillPart(n,r[t.loc]),n.restore(),o="function"==typeof t.stroke&&0===t.stroke.length?t.stroke()!==O.none:t.stroke!==O.none;{o&&(t.clipStroke?(i=t.clipStroke(s[t.side]),n.save(),clipPart(n,i),strokePart(n,r[t.loc]),n.restore()):strokePart(n,r[t.loc]))}{var i;!0===t.reflect&&(n.scale(-1,1),n.save(),clipPart(n,a),fillPart(n,r[t.loc]),n.restore(),o&&(t.hasOwnProperty("clipStroke")?(i=t.clipStroke(s[t.side]),n.save(),clipPart(n,i),strokePart(n,r[t.loc]),n.restore()):strokePart(n,r[t.loc])))}n.restore()}(i,a,p);break;case"shadingParts":!function renderShading(t,e,r){var n=c[t.layer+1];n.save(),t.side!==P.Part.LEFT&&!0!==t.reflect||n.scale(-1,1);v.setStrokeAndFill(n,t,s),n.save(),t.clipFill&&clipPart(n,t.clipFill.call(l.dim,s[t.side]));drawPart(s,u,e,t.layer,t.side,r),fillPart(n,r[t.loc]),strokePart(n,r[t.loc]),n.restore(),!0===t.reflect&&(n.scale(-1,1),t.clipFill&&clipPart(n,t.clipFill.call(l.dim,s[t.side])),fillPart(n,r[t.loc]),strokePart(n,r[t.loc]));n.restore()}(i,a,p);break;case"hairParts":!function renderHairPart(t){var e=c[t.layer];e.save(),v.setStrokeAndFill(e,t,s),t.renderHairPoints.call(l.dim,e,s[t.side],l._clampedMods,s),t.reflect&&(e.save(),e.scale(-1,1),t.renderHairPoints.call(l.dim,e,s[1-t.side],l._clampedMods,s),e.restore());e.restore()}(i);break;case"clothingParts":!function renderClothingPart(t){if(t instanceof j.ShoeSidePart)return o.push(t);var e=c[t.layer],r=t.side;e.save(),t.side===P.Part.LEFT&&e.scale(-1,1);t.renderClothingPoints.call(t._owner,s[r],e,l._clampedMods,l),e.restore(),t.reflect&&(e.save(),e.scale(-1,1),t.renderClothingPoints.call(t._owner,s[1-r],e,l._clampedMods,l),e.restore())}(i);break;case"tattoos":!function renderTattoo(t){var e=x.Tattoos.getRender(t),r=c[t.layer],n=t.renderTattooLocation(s[t.side]);r.save(),t.side===P.Part.LEFT&&r.scale(-1,1);{var o;t.ignoreClip||(o=s.clip[t.layer][t.side],clipPart(r,o))}h.drawTattooPattern(t,e,r,n),r.restore()}(i)}}!function renderItems(){var i={x:-s.cx-s.ox+5,y:.15*s.height/2.5};l.items.forEach(function(t){var e=w.Items.getItemRender(t),r=e.width,n=e.height;t.width&&(n*=t.width/r,r=t.width);var o=c[t.layer];o.scale(1,-1);var a=t.renderItemLocation(s,r,n);a?o.drawImage(e,a.x,-a.y,r,-n):(o.drawImage(e,i.x,-i.y,r,-n),i.y+=n),o.scale(1,-1)})}(),function synthesizeLayers(){var t=s.canvasGroup[S.Layer.NUM_LAYERS],e=t.getContext("2d");{var r;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),s.shadingCanvas||((r=document.createElement("canvas")).width=s.canvasGroup[0].width,r.height=s.canvasGroup[0].height,s.shadingCanvas=r)}for(var n=s.shadingCanvas.getContext("2d"),o=S.Layer.BASE+1;o<S.Layer.NUM_LAYERS;++o)S.ShadingLayers.indexOf(o)<0?(e.globalCompositeOperation="source-over",e.drawImage(s.canvasGroup[o],0,0)):(n.clearRect(0,0,s.shadingCanvas.width,s.shadingCanvas.height),n.drawImage(s.canvasGroup[o],0,0),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),e.globalCompositeOperation="multiply",e.drawImage(s.shadingCanvas,0,0),n.globalCompositeOperation="source-over");s.canvasGroup[S.Layer.BASE].getContext("2d").drawImage(t,0,0),e.globalCompositeOperation="source-over",e.drawImage(s.canvasGroup[S.Layer.BASE],0,0)}(),t.renderShoeSideView&&function renderShoeSideView(){var r=s.canvasGroup[S.Layer.NUM_LAYERS].getContext("2d");r.save(),r.translate(s.ox,s.height-30);var t=s.scaling;r.scale(t,-t);var e=220/t,n=.2*s.height/t;r.rect(0,0,e,n),r.clip(),o.forEach(function(t){var e=t.side;r.save(),t.renderShoeSidePart.call(t._owner,s[e],r,{feetBias:l._clampedMods.feetBias,feetLength:l.dim.feetLength,feetWidth:l.dim.feetWidth}),r.restore()}),r.restore()}()}function drawPart(o,a,t,i,e,c){var s=a[t];if(s.layer===i&&(s.reflect||s.side===e&&!c[s.loc])){var r=o.avatar;s.hasOwnProperty("Mods")&&(k.applyMods(r.Mods,s.Mods),r.calcAll());var n=s._owner?s._owner:r.dim,l=s.calcDrawPoints.call(n,o[e],r._clampedMods,!1,s,r);if(l){s.hasOwnProperty("Mods")&&(k.removeMods(r.Mods,s.Mods),r.calcAll());for(var u=[],p=0;p<l.length;++p)l[p]&&l[p].hasOwnProperty("child")?a.forEach(function(t,e){var r,n;P.isParentPart(s,t)&&(r=b.extractUnmodifiedLocation(t.loc),c.hasOwnProperty(r)||(n=P.getSideValue(b.extractSideLocation(r)),drawPart(o,a,e,i,n,c)),u.splice.apply(u,f([u.length,0],c[r])),c[r]=[])}):u.push(l[p]);return c[s.loc]=u}}}function drawPartsLayer(t,e,r,n){for(var o=[],a={},i=0;i<t.avatar.parts.length;++i){drawPart(t,t.avatar.parts,i,e,r,a);var c=t.avatar.parts[i];t.avatar.checkPartCoveredByClothing(c)||o.push(t.avatar.parts[i].loc)}var s=function synthesizeDrawPoints(t,e){for(var r=[],n=0;n<t.length;++n)r.splice.apply(r,f([r.length,0],e[t[n]]||[]));return r}(o,a);return O.drawPoints.apply(null,[n].concat(s)),s}function clipPart(t,e){e&&(t.beginPath(),O.drawPoints.apply(null,[t].concat(e)),t.closePath(),t.clip())}function fillPart(t,e){t.beginPath();var r=[];e.forEach(function(t){t&&t.hasOwnProperty("fillOnly")?r.push.apply(r,t.fillOnly):r.push(t)}),O.drawPoints.apply(null,[t].concat(r));var n=null,o=r[r.length-1];if(o!==O.endPoint){for(var a=0;a<r.length;++a)if(r[a]&&!r[a].break&&!r[a].end){n=r[a];break}for(var i,a=r.length-1;0<=a;--a)if(r[a]&&!r[a].break&&!r[a].end){o=r[a];break}n&&(i=connectEndPoints(o,n),O.drawPoints(t,null,i),t.fill())}else t.fill()}function connectEndPoints(t,e,r){void 0===r&&(r=.25);var n=O.extractPoint(e);return n.cp1=O.simpleQuadratic(t,e,.5,v.dist(t,e)*r),n}p.defaultConfig=Object.freeze({nameColor:"#000",genderColor:"#000",heightColor:"#000",heightBarColor:"#000",backgroundColor:"#fff",transparentBackground:!0,printAdditionalInfo:!0,printVitals:!0,printHeight:!0,renderShoeSideView:!0,offsetX:0,offsetY:0}),p.draw=function draw(t,r,e,n){if(!d.loaded)throw new Error("trying to draw without having loaded first! (call da.load() before)");if(h.patternLoadingQueue.length)return function iterablePromise(e){return Promise.all(e).then(function(t){return e.length!=t.length?iterablePromise(e):t})}(h.patternLoadingQueue).then(function(){return h.patternLoadingQueue.length=0,draw(t,r,e,n)});var o=Object.assign({},p.defaultConfig,e);if(r.Mods.shoeHeight=r.heightAdjust(),o.passThrough||r.calcAll(),!g.Skeleton[r.skeleton])throw new Error("can't find skeleton with name "+r.skeleton);var a={};a.cx=80+o.offsetX,a.cy=200+o.offsetY,a.avatar=r,a[P.Part.LEFT]={},a[P.Part.RIGHT]={},r.parts.forEach(function(t){calcPart(a,t)}),r.faceParts.forEach(function(t){calcPart(a,t)}),r.decorativeParts.forEach(function(t){var e=t.loc;(r.getPartInLocation(e)||r.getPartInLocation(e,r.faceParts))&&calcPart(a,t)}),r.fillMissingDrawpoints(a[P.Part.LEFT]),r.fillMissingDrawpoints(a[P.Part.RIGHT]),v.convertPointsToCanvasUnits(a[P.Part.LEFT]),v.convertPointsToCanvasUnits(a[P.Part.RIGHT]),_.configureBaseColors(a);for(var i=[],c=t.children.length-1;0<=c;--c)i.push(t.children[c]);a.canvasGroup=i;for(var s=[],l=y.hasOwnProperty("default")?y.default:y,c=0;c<S.Layer.NUM_LAYERS;++c){var u=new l(i[c].getContext("2d"));_.initCanvas(i[c],u,o,r,a,c,!0,n),s.push(u)}return a.height=i[S.Layer.BASE].height,a.width=i[S.Layer.BASE].width,a.clip={},new Promise(function(t){return renderBase(s,a),renderParts(s,a,o),a.ctxGroup=s,a.ctx=new l(i[S.Layer.NUM_LAYERS].getContext("2d")),_.initCanvas(i[S.Layer.NUM_LAYERS],a.ctx,o,r,a,S.Layer.NUM_LAYERS,!1,n),t(a),a})},p.renderBase=renderBase,p.renderParts=renderParts,p.drawPart=drawPart,p.drawPartsLayer=drawPartsLayer,p.connectEndPoints=connectEndPoints,p.coverNipplesIfHaveNoBreasts=function coverNipplesIfHaveNoBreasts(t,e,r){return!t.hasOwnProperty("breast")&&(e.save(),e.lineWidth=10,v.setStrokeAndFill(e,{fill:O.none,stroke:r.fill},t),e.beginPath(),O.drawPoints(e,O.breakPoint,t.chest.nipples),e.stroke(),e.restore(),!0)},p.drawFocusedWindow=function drawFocusedWindow(t,e,r){var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);var o=e.ctx.canvas,a=r.center.x-r.width/2,i=r.center.y+r.height/2,c=e.ctx.tf.last().applyToPoint(a,i),s=r.width*e.scaling,l=r.height*e.scaling,u=Math.min(t.width,t.height/l*s);n.drawImage(o,c.x,c.y,s,l,0,0,u,t.height)}},function(t,r,e){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(r,"__esModule",{value:!0}),r.ShadingPart=r.shadingLight=r.shadingMedium=r.shadingDark=r.shine=void 0;var i=e(0),c=e(3),s=e(2);r.shine="hsla(0,100%,100%,0.2)",r.shadingDark="hsl(0,15%,80%)",r.shadingMedium="hsl(0,15%,85%)",r.shadingLight="hsl(0,15%,90%)";var l,u=(l=c.BasePart,o(ShadingPart,l),ShadingPart.prototype.stroke=function(t,e){return i.none},ShadingPart.prototype.fill=function(t,e){return r.shadingDark},ShadingPart.prototype.getLineWidth=function(t){return 0},ShadingPart);function ShadingPart(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return l.call(this,Object.assign.apply(Object,a([{layer:s.Layer.FRONT}],t)))||this}r.ShadingPart=u},function(t,e,r){"use strict";r.r(e),r.d(e,"FacePart",function(){return n});var o=r(0),a=r(2),i=r(3);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(FacePart,i["BasePart"]);var n=_createSuper(FacePart);function FacePart(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,FacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.BELOW_HAIR,reflect:!1,coverConceal:[],uncoverable:!1}].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(FacePart,[{key:"stroke",value:function stroke(){return o.none}},{key:"fill",value:function fill(){return"inherit"}},{key:"getLineWidth",value:function getLineWidth(){return 1.5}}]),FacePart}()},function(t,e,r){"use strict";var n=r(102);t.exports=Function.prototype.bind||n},function(t,e,r){"use strict";r.r(e),r.d(e,"RingBotPart",function(){return s}),r.d(e,"RingTopPart",function(){return l}),r.d(e,"StudPart",function(){return u}),r.d(e,"ChainPart",function(){return p}),r.d(e,"Jewelry",function(){return n}),r.d(e,"Piercing",function(){return f}),r.d(e,"RingPiercing",function(){return y}),r.d(e,"StudPiercing",function(){return h}),r.d(e,"ChainJewelry",function(){return d});var a=r(1),o=r(2),i=r(4),c=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(RingBotPart,a["ClothingPart"]);var n=_createSuper(RingBotPart);function RingBotPart(){_classCallCheck(this,RingBotPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"".concat(i.Location.EAR),reflect:!1,belowParts:["faceParts ".concat(i.Location.EAR)]},{radius:2}].concat(e))}return _createClass(RingBotPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(i.locateRelativeToDrawpoint)(t,this.relativeLocation);a.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),e.arc(r.x,r.y,this.radius,0,2*Math.PI),e.stroke()}}]),RingBotPart}(),l=function(){_inherits(RingTopPart,a["ClothingPart"]);var n=_createSuper(RingTopPart);function RingTopPart(){_classCallCheck(this,RingTopPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"".concat(i.Location.EAR),reflect:!1,aboveParts:["faceParts ".concat(i.Location.EAR)]}].concat(e))}return _createClass(RingTopPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(i.locateRelativeToDrawpoint)(t,this.relativeLocation);a.Clothes.simpleStrokeFill(e,t,this),e.beginPath();var n=Object(c.rad)(this.rotation);e.arc(r.x,r.y,this.radius,n,Math.PI+n),e.stroke()}}]),RingTopPart}(),u=function(){_inherits(StudPart,a["ClothingPart"]);var n=_createSuper(StudPart);function StudPart(){_classCallCheck(this,StudPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"".concat(i.Location.NOSE),reflect:!1,aboveParts:["faceParts ".concat(i.Location.NOSE)]},{radius:.3}].concat(e))}return _createClass(StudPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(i.locateRelativeToDrawpoint)(t,this.relativeLocation);a.Clothes.simpleStrokeFill(e,t,this),e.beginPath();var n=Object(c.drawCircle)(r,this.radius);c.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n))),e.fill()}}]),StudPart}(),p=function(){_inherits(ChainPart,a["ClothingPart"]);var n=_createSuper(ChainPart);function ChainPart(){_classCallCheck(this,ChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.HAIR,loc:"+".concat(i.Location.NOSE),reflect:!1},{thickness:.7,slack:1}].concat(e))}return _createClass(ChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(i.locateRelativeToDrawpoint)(t,this.relativeLocation),n=Object(i.locateRelativeToDrawpoint)(t,this.endRelativeLocation);a.Clothes.simpleStrokeFill(e,t,this),n.cp1=Object(c.point)((r.x+n.x)/2,(r.y+n.y)/2-this.slack*Object(c.norm)(Object(c.diff)(r,n))),e.beginPath(),e.setLineDash([1,1]),Object(c.drawPoints)(e,r,n),e.stroke(),e.setLineDash([])}}]),ChainPart}(),n=function(){_inherits(Jewelry,a["Clothing"]);var n=_createSuper(Jewelry);function Jewelry(){_classCallCheck(this,Jewelry);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:a.Clothes.Layer.INNER,stroke:"rgb(255,223,0)",fill:"rgb(255,223,0)"}].concat(e))}return Jewelry}(),f=function(){_inherits(Piercing,n);var o=_createSuper(Piercing);function Piercing(){var e;_classCallCheck(this,Piercing);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this,{rotation:0}].concat(r))).parts.forEach(function(t){t.loc=e.loc,Object(a.processClothingPartLocation)(e.side,t)}),e}return Piercing}(),y=function(){_inherits(RingPiercing,f);var n=_createSuper(RingPiercing);function RingPiercing(){_classCallCheck(this,RingPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"ear.mid",dx:0,dy:0},loc:"".concat(i.Location.EAR),requiredParts:"faceParts"}].concat(e))}return _createClass(RingPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:l}]}}]),RingPiercing}(),h=function(){_inherits(StudPiercing,f);var n=_createSuper(StudPiercing);function StudPiercing(){_classCallCheck(this,StudPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:0,dy:0},loc:"".concat(i.Location.NOSE),requiredParts:"faceParts"}].concat(e))}return _createClass(StudPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:u}]}}]),StudPiercing}(),d=function(){_inherits(ChainJewelry,f);var n=_createSuper(ChainJewelry);function ChainJewelry(){_classCallCheck(this,ChainJewelry);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:0,dy:0},endRelativeLocation:{drawpoint:"ear.mid",dx:0,dy:0},loc:"".concat(i.Location.NOSE),requiredParts:"faceParts"}].concat(e))}return _createClass(ChainJewelry,[{key:"partPrototypes",get:function get(){return[{side:null,Part:p}]}}]),ChainJewelry}()},function(t,e,r){"use strict";r.r(e),r.d(e,"DressBreastPart",function(){return i}),r.d(e,"DressBasePart",function(){return c}),r.d(e,"calcDressCleavage",function(){return calcDressCleavage}),r.d(e,"calcDressBase",function(){return calcDressBase}),r.d(e,"DetachedSleevePart",function(){return n}),r.d(e,"SuperSleevePart",function(){return s}),r.d(e,"calcSuperSleeve",function(){return calcSuperSleeve}),r.d(e,"LacingPart",function(){return l}),r.d(e,"Dress",function(){return u}),r.d(e,"SuperDress",function(){return y});var p=r(1),o=r(3),f=r(9),a=r(2),v=r(0),_=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(DressBreastPart,p["ClothingPart"]);var n=_createSuper(DressBreastPart);function DressBreastPart(){_classCallCheck(this,DressBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return _createClass(DressBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){p.Clothes.simpleStrokeFill(e,t,this);var r,n,o,a,i,c,s=calcDressBase.call(this,t),l=s.cleavageBot,u=s.cleavageTop;e.beginPath(),Object(v.drawPoints)(e,{x:0,y:0},Object(v.adjust)(l,.38*-this.thickness,0),Object(v.adjust)(u,.38*-this.thickness,0),{x:100,y:250},{x:100,y:0}),e.clip(),Object(f.coverNipplesIfHaveNoBreasts)(t,e,this)||(r=Object(v.adjust)(t.breast.top,.5,.7),n=Object(v.adjust)(t.breast.tip,.1,0),o=Object(v.adjust)(t.breast.bot,0,-.6),a=Object(v.adjust)(t.breast.in,-.9,-.5),i=Object(v.adjust)(t.breast.cleavage,-.6,0),c=Object(v.adjust)(Object(f.connectEndPoints)(i,r),0,.2),e.beginPath(),Object(v.drawPoints)(e,r,n,o,a,i,c),e.fill(),e.beginPath(),Object(v.drawPoints)(e,r,n,o),e.stroke(),e.beginPath(),Object(v.drawPoints)(e,l,u),e.stroke())}}]),DressBreastPart}(),c=function(){_inherits(DressBasePart,p["ClothingPart"]);var n=_createSuper(DressBasePart);function DressBasePart(){_classCallCheck(this,DressBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg","decorativeParts leg"],aboveSameLayerParts:["groin","leg"]},{cleavageOpeness:.3,cleavageCoverage:.3,sideLoose:0,legCoverage:.4,legLoose:0,curveCleavageX:0,curveCleavageY:0,bustle:!1}].concat(e))}return _createClass(DressBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressBase.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=(r.collarbone,r.armpit,r.waist,r.hip,r.outerPoints),c=r.shoulder,s=r.pit,l=r.bottom;p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),v.drawPoints.apply(void 0,[e,n,o,a,c,s].concat(_toConsumableArray(i),[l])),e.fill(),e.beginPath(),v.drawPoints.apply(void 0,[e,n,o,a,c,v.breakPoint,s].concat(_toConsumableArray(i),[l])),e.stroke()}}]),DressBasePart}();function calcDressCleavage(t,e){var r,n,o,a,i,c={x:-.2,y:Object(v.splitCurve)(this.cleavageCoverage,t.neck.cusp,t.groin).left.p2.y};this.cleavageOpeness<0?(r=Object(v.splitCurve)(1+this.cleavageOpeness,t.neck.top,t.neck.cusp),n=Object(v.extractPoint)(r.left.p2),o=Object(v.clone)(t.neck.cusp)):n=1<this.cleavageOpeness?(a=Object(v.splitCurve)(this.cleavageOpeness-1,t.collarbone,t.shoulder),Object(v.extractPoint)(a.left.p2)):(i=Object(v.splitCurve)(this.cleavageOpeness,t.neck.cusp,t.collarbone),Object(v.extractPoint)(i.left.p2)),!this.lacing&&e&&c.y<e.y&&(c.y=e.y+3);var s=Object(v.splitCurve)(.5,c,n);return n.cp1={x:s.left.p2.x+this.curveCleavageX,y:s.left.p2.y+this.curveCleavageY},{cleavageBot:c,cleavageTop:n,neck:o}}function calcDressBase(t){var e,r,n,o,a=Object(v.clone)(t.collarbone),i=Object(v.clone)(t.armpit),c=Object(v.clone)(t.collarbone),s=Object(v.clone)(t.armpit),l=Object(v.clone)(t.lat),u=Object(v.adjust)(t.hip,0,0),p=Object(v.adjust)(t.waist,0,0),f=l||s,y=Object(_.lineLineIntersection)(f,u,{x:0,y:p.y},{x:100,y:p.y});y.x>p.x&&(p.x=Object(_.findBetween)(p.x,y.x,this.sideLoose),Object(_.straightenCurve)(s,p,this.sideLoose),Object(_.straightenCurve)(p,u,this.sideLoose));var h={y:(e=this.legCoverage<0?Object(_.getLimbPoints)(s,u,1+this.legCoverage,s,l,p,u):0==this.legCoverage?[s,l,p,u]:(r=[s,l,p],0<this.legLoose?(n=Object(_.getLimbPoints)(u,t.ankle.out,this.legCoverage,u,t.thigh.out),(o=u.y-(u.y-t.ankle.out.y)*this.legCoverage)<t.groin.y&&((n=[])[n.length]=Object(v.clone)(u),n[n.length]=Object(v.clone)(t.thigh.out),this.bustle&&(n[n.length]=Object(v.extractPoint)(t.thigh.out)),n[n.length-1].y=o,n[n.length-1].x+=30*this.legLoose*this.legCoverage)):n=Object(_.getLimbPoints)(u,t.ankle.out,this.legCoverage,u,t.thigh.out,t.knee.out,t.calf.out,t.ankle.out),r.concat(n)))[e.length-1].y,x:-.1},d=calcDressCleavage.call(this,t,h),g=d.cleavageBot,P=d.cleavageTop,b=d.neck;return e[e.length-1].y+=2,h.y+=-2,h.cp1={x:.5*h.x+.5*e[e.length-1].x,y:h.y},{cleavageBot:g,cleavageTop:P,neck:b,collarbone:c,armpit:s,waist:p,hip:u,outerPoints:e,shoulder:a,pit:i,bottom:h}}var n=function(){_inherits(DetachedSleevePart,p["ClothingPart"]);var n=_createSuper(DetachedSleevePart);function DetachedSleevePart(){_classCallCheck(this,DetachedSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{shoulderCoverage:-.1,armCoverage:.5,armLoose:0}].concat(e))}return _createClass(DetachedSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s;this.armCoverage<=0||(n=(r=calcSuperSleeve.call(this,t)).outerArmPoints,o=r.innerArmPoints,p.Clothes.simpleStrokeFill(e,t,this),1<=this.shoulderCoverage?(a=Object(v.adjust)(t.collarbone,-.5,0),i=Object(v.adjust)(t.armpit,-.5,0),e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o),[Object(f.connectEndPoints)(i,a)])),e.fill(),e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o)))):(0<this.shoulderCoverage?(c=Object(v.splitCurve)(1-this.shoulderCoverage,t.collarbone,t.shoulder),t.deltoids&&t.collarbone.y!=t.deltoids.y&&(c=Object(v.splitCurve)(1-this.shoulderCoverage,t.collarbone,t.deltoids)),n[0]=Object(v.extractPoint)(c.left.p2),n[1]=c.right.p2):(s=Object(v.splitCurve)(Math.abs(this.shoulderCoverage),t.shoulder,t.elbow.out),n.splice(0,1),t.deltoids&&t.collarbone.y!=t.deltoids.y&&n.splice(0,1),n[0]=Object(v.extractPoint)(s.left.p2)),e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o),[n[0]])),e.fill()),e.stroke())}}]),DetachedSleevePart}(),s=function(){_inherits(SuperSleevePart,p["ClothingPart"]);var n=_createSuper(SuperSleevePart);function SuperSleevePart(){_classCallCheck(this,SuperSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5,armLoose:0}].concat(e))}return _createClass(SuperSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i;this.armCoverage<=0||(n=(r=calcSuperSleeve.call(this,t)).outerArmPoints,o=r.innerArmPoints,a=Object(v.adjust)(t.collarbone,-.5,0),i=Object(v.adjust)(t.armpit,-.5,0),p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o),[Object(f.connectEndPoints)(i,a)])),e.fill(),e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o))),e.stroke())}}]),SuperSleevePart}();function calcSuperSleeve(t){var e,r,n,o,a,i,c,s,l,u=[],p=[],f=t.collarbone,y=t.hand?t.hand.palm:t.elbow.out;return 0<this.armLoose?(e=[t.collarbone],r=Object(v.adjust)(t.elbow.out,0,0),t.hand&&((r=Object(v.adjust)(t.wrist.in,0,0)).y=t.hand.tip.y),n=Object(v.adjust)(t.shoulder,5*this.armLoose*.75,0),t.deltoids&&t.deltoids.y!=t.collarbone.y&&(o=Object(v.adjust)(t.deltoids,5*this.armLoose*1,0)),e.push(o,n),t.hand?(a=Object(v.adjust)(t.hand.knuckle,5*this.armLoose*1.5,0),i=Object(v.adjust)(t.hand.tip,5*this.armLoose*1,0),e.push(a,i)):e.push(t.elbow.out,t.elbow.in),u=_.getLimbPoints.apply(void 0,[f,y,this.armCoverage].concat(e)),void 0!==(p=Object(_.getLimbPointsAbovePoint)(u[u.length-1],!0,t.armpit,r))[0]&&(p[0].x-=5*this.armLoose*1),void 0!==p[1]&&(p[1].x-=5*this.armLoose*1)):(t.deltoids&&t.deltoids.y!=t.collarbone.y&&(c=t.deltoids),s=[t.collarbone,c,t.shoulder,t.elbow.out],t.hand&&s.push(t.wrist.out,t.hand.knuckle,t.hand.fist,t.hand.tip),u=_.getLimbPoints.apply(void 0,[f,y,this.armCoverage].concat(s)),t.hand&&u[u.length-1].y<=t.thumb.tip.y?(u[u.length]=t.hand.palm,(p=[t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip]).reverse()):(l=[t.armpit,t.elbow.in],t.hand&&l.push(t.wrist.in,t.thumb.out,t.thumb.tip),p=_.getLimbPointsAbovePoint.apply(void 0,[u[u.length-1],!0].concat(l)))),this.armCoverage<1&&(p[0]=Object(v.extractPoint)(p[0])),{outerArmPoints:u,innerArmPoints:p}}var l=function(){_inherits(LacingPart,p["ClothingPart"]);var n=_createSuper(LacingPart);function LacingPart(){_classCallCheck(this,LacingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!1,aboveParts:["parts chest","decorativeParts chest"]},{lacing:!1,crosses:0}].concat(e))}return _createClass(LacingPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c;this.lacing&&(p.Clothes.simpleStrokeFill(e,t,this),n=(r=calcDressCleavage.call(this,t)).cleavageBot,o=r.cleavageTop,(a=this.crosses)<=0&&(a=13*this.cleavageCoverage),(i=Object(v.reflect)(o)).cp1=Object(v.reflect)(o.cp1),i.cp2=Object(v.reflect)(o.cp2),c=Object(_.getLacingPoints)(n,o,Object(v.reflect)(n),i,a,0),e.lineWidth=1,e.beginPath(),v.drawPoints.apply(void 0,[e].concat(_toConsumableArray(c.inner),[v.breakPoint],_toConsumableArray(c.outer))),e.stroke())}}]),LacingPart}(),u=function(){_inherits(Dress,p["Clothing"]);var n=_createSuper(Dress);function Dress(){_classCallCheck(this,Dress);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:p.Clothes.Layer.MID,armCoverage:.5,armLoose:0,thickness:1}].concat(e))}return Dress}(),y=function(){_inherits(SuperDress,u);var n=_createSuper(SuperDress);function SuperDress(){_classCallCheck(this,SuperDress);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(SuperDress,[{key:"stroke",value:function stroke(){return"hsla(335, 80%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:l},{side:null,Part:c},{side:null,Part:i},{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),SuperDress}()},function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.DecorativePart=void 0;var i,c=r(2),s=r(3),l=(i=s.BasePart,o(DecorativePart,i),DecorativePart.prototype.stroke=function(t,e){return"inherit"},DecorativePart.prototype.fill=function(t,e){return"inherit"},DecorativePart.prototype.getLineWidth=function(t){return 1.5},DecorativePart);function DecorativePart(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:null,layer:c.Layer.BASE,reflect:!1,coverConceal:[],uncoverable:!1}],t))||this}e.DecorativePart=l},function(t,e,r){"use strict";r.r(e),r.d(e,"BraTopStrapPart",function(){return n}),r.d(e,"BraBotStrapPart",function(){return i}),r.d(e,"BraPart",function(){return c}),r.d(e,"calcBra",function(){return calcBra}),r.d(e,"BreastWrapStrapPart",function(){return y}),r.d(e,"PantiesPart",function(){return h}),r.d(e,"Underwear",function(){return d}),r.d(e,"Bra",function(){return g}),r.d(e,"BreastWrap",function(){return P}),r.d(e,"Panties",function(){return b});var l=r(1),u=r(9),o=r(2),p=r(6),a=r(25),f=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){_inherits(BraTopStrapPart,l["ClothingPart"]);var n=_createSuper(BraTopStrapPart);function BraTopStrapPart(){_classCallCheck(this,BraTopStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts neck","parts chest"]}].concat(e))}return _createClass(BraTopStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o=calcBra(t);null!==o&&(r=Object(f.splitCurve)(.2,t.neck.cusp,t.collarbone),(n={}).top=r.left.p2,o.top.cp1={x:n.top.x-2,y:n.top.y-15},o.top.cp2={x:o.top.x,y:o.top.y+5},Object(p.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.strapWidth,e.beginPath(),Object(f.drawPoints)(e,n.top,o.top),e.stroke())}}]),BraTopStrapPart}(),i=function(){_inherits(BraBotStrapPart,l["ClothingPart"]);var n=_createSuper(BraBotStrapPart);function BraBotStrapPart(){_classCallCheck(this,BraBotStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+chest",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return _createClass(BraBotStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;null!==calcBra(t)&&((r={}).out={x:t.breast.bot.x,y:t.breast.cleavage.y},r.outbot={x:t.breast.bot.x,y:t.breast.bot.y+1},r.bot={x:-o.seamWidth,y:t.breast.bot.y+3},r.mid={x:-o.seamWidth,y:t.breast.cleavage.y},Object(p.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),Object(f.drawPoints)(e,r.out,r.outbot,r.bot,r.mid,r.out),e.fill())}}]),BraBotStrapPart}(),c=function(){_inherits(BraPart,l["ClothingPart"]);var n=_createSuper(BraPart);function BraPart(){_classCallCheck(this,BraPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return _createClass(BraPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcBra(t);null!==r&&(r.out.cp1=Object(f.simpleQuadratic)(r.top,r.out,.4,1),r.top.cp1=Object(f.simpleQuadratic)(t.breast.cleavage,r.top,.6,2),Object(p.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),Object(f.drawPoints)(e,r.top,r.out,r.tip,t.breast.bot,t.breast.in,t.breast.cleavage,r.top),e.fill(),e.stroke())}}]),BraPart}();function calcBra(t){if(!1===t.hasOwnProperty("breast"))return null;var e=Object(f.splitCurve)(.7,t.breast.top,t.breast.tip),r={out:Object(f.clone)(e.right.p1),tip:Object(f.clone)(e.right.p2)};return r.top={x:t.breast.bot.x,y:r.out.y+2},r}var s=function(){_inherits(BreastWrapPart,l["ClothingPart"]);var n=_createSuper(BreastWrapPart);function BreastWrapPart(){_classCallCheck(this,BreastWrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return _createClass(BreastWrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e,r,n){if(t.breast){for(var o=Object(f.clone)(t.breast.top),a=Object(f.splitCurve)(Object(f.clamp)(.01*n.getDim("breastSize")-.25,0,1),t.breast.top,t.breast.tip),i=a.left.p2,c=a.right.p2,s=0,l=n.getPartInLocation("chest",n.decorativeParts,s);l;)l.coverConceal=["chest"],l=n.getPartInLocation("chest",n.decorativeParts,++s);Object(p.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.beginPath(),Object(f.drawPoints)(e,o,t.breast.tip,t.breast.bot,t.breast.in,Object(u.connectEndPoints)(t.breast.in,o)),e.fill(),e.beginPath(),Object(f.drawPoints)(e,i,c,t.breast.bot),e.stroke()}}}]),BreastWrapPart}(),y=function(){_inherits(BreastWrapStrapPart,l["ClothingPart"]);var n=_createSuper(BreastWrapStrapPart);function BreastWrapStrapPart(){_classCallCheck(this,BreastWrapStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+chest",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return _createClass(BreastWrapStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e,r,n){var o,a={x:0,y:t.armpit.y},i=Object(f.extractPoint)(t.armpit);t.breast&&(a.y=t.breast.top.y-2,(o=Object(f.extractPoint)(t.breast.top)).cp1={x:.5*o.x,y:a.y},i.cp1=Object(f.simpleQuadratic)(o,i,.5,1));var c=Object(f.splitCurve)(Object(f.clamp)(this.chestCoverage+.01*n.getDim("breastSize"),0,1),t.armpit,t.waist).left.p2,s={x:0,y:c.y-1};s.cp1={x:.5*c.x,y:s.y},l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(f.drawPoints)(e,a,o,i,c,s),e.fill(),e.stroke()}}]),BreastWrapStrapPart}(),h=function(){_inherits(PantiesPart,l["ClothingPart"]);var n=_createSuper(PantiesPart);function PantiesPart(){_classCallCheck(this,PantiesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso"],belowParts:["parts leg"]}].concat(e))}return _createClass(PantiesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n;!1!==t.hasOwnProperty("groin")&&((r={}).top={x:-o.seamWidth,y:t.pelvis.y},n=Object(f.splitCurve)(.9,t.waist,t.hip),r.out=n.right.p1,r.out.cp1=Object(f.simpleQuadratic)(r.top,r.out,.4,-3),r.outbot=n.right.p2,r.bot={x:-o.seamWidth,y:t.groin.y},r.bot.cp1={x:r.outbot.x,y:r.outbot.y},r.bot.cp2={x:r.bot.x+5,y:r.bot.y},l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(f.drawPoints)(e,r.top,r.out,r.outbot,r.bot,r.top),e.fill(),e.beginPath(),Object(f.drawPoints)(e,r.top,r.out,r.outbot,r.bot),e.stroke())}}]),PantiesPart}(),d=function(){_inherits(Underwear,l["Clothing"]);var n=_createSuper(Underwear);function Underwear(){_classCallCheck(this,Underwear);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:l.Clothes.Layer.BASE}].concat(e))}return Underwear}(),g=function(){_inherits(Bra,d);var n=_createSuper(Bra);function Bra(){_classCallCheck(this,Bra);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(Bra,[{key:"fill",value:function fill(){return"hsl(0,50%,50%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c}]}}]),Bra}(),P=function(){_inherits(BreastWrap,d);var o=_createSuper(BreastWrap);function BreastWrap(){var t;_classCallCheck(this,BreastWrap);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{chestCoverage:.6,thickness:.5,wrapSize:30}].concat(r))).fill=Object(a.getPattern)("bandages",t.wrapSize),t}return _createClass(BreastWrap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:y}]}}]),BreastWrap}(),b=function(){_inherits(Panties,d);var n=_createSuper(Panties);function Panties(){_classCallCheck(this,Panties);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(Panties,[{key:"fill",value:function fill(){return"hsl(0,50%,50%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:h}]}}]),Panties}()},function(t,e,r){"use strict";r.r(e),r.d(e,"LeftBaseShoeShading",function(){return c}),r.d(e,"RightBaseShoeShading",function(){return u}),r.d(e,"ShoeSidePart",function(){return n}),r.d(e,"ShoePart",function(){return p}),r.d(e,"ShoeBasePart",function(){return f}),r.d(e,"Shoe",function(){return y}),r.d(e,"FlatShoes",function(){return h});var s=r(1),o=r(3),a=r(2),i=r(10),l=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(LeftBaseShoeShading,i["ShadingPart"]);var n=_createSuper(LeftBaseShoeShading);function LeftBaseShoeShading(){_classCallCheck(this,LeftBaseShoeShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"left feet",layer:a.Layer.FRONT}].concat(e))}return _createClass(LeftBaseShoeShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=t.toe.toebox,r=Object(l.splitCurve)(.5,t.toe.out,t.toe.in),n=r.right.p2,o=r.left.p2;o.cp1=Object(l.simpleQuadratic)(e,o,.5,1);var a=Object(l.clone)(t.ankle.inbot);return e.cp1={x:a.x-1,y:a.y-5},e.cp2={x:e.x-3,y:e.y},[e,o,n,a,e]}}]),LeftBaseShoeShading}(),u=function(){_inherits(RightBaseShoeShading,i["ShadingPart"]);var n=_createSuper(RightBaseShoeShading);function RightBaseShoeShading(){_classCallCheck(this,RightBaseShoeShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"right feet",layer:a.Layer.FRONT}].concat(e))}return _createClass(RightBaseShoeShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=t.toe.toebox,r=Object(l.splitCurve)(.8,t.toe.out,t.toe.in).left.p2;r.cp1=Object(l.simpleQuadratic)(e,r,.5,-1);var n=Object(l.extractPoint)(t.ankle.outbot);return n.cp1=Object(l.simpleQuadratic)(r,n,.5,-10),e.cp1=Object(l.simpleQuadratic)(n,e,.7,3),[n,e,r,n]}}]),RightBaseShoeShading}(),n=function(){_inherits(ShoeSidePart,s["ClothingPart"]);var n=_createSuper(ShoeSidePart);function ShoeSidePart(){_classCallCheck(this,ShoeSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.BACK,loc:"feet"}].concat(e))}return _createClass(ShoeSidePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(){}}]),ShoeSidePart}(),p=function(){_inherits(ShoePart,s["ClothingPart"]);var n=_createSuper(ShoePart);function ShoePart(){_classCallCheck(this,ShoePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],belowParts:["shadingParts feet"]}].concat(e))}return ShoePart}(),f=function(){_inherits(ShoeBasePart,p);var n=_createSuper(ShoeBasePart);function ShoeBasePart(){_classCallCheck(this,ShoeBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"feet",shadingParts:[c,u]}].concat(e))}return _createClass(ShoeBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){t.toe.toebox={x:t.toe.center.x,y:t.toe.center.y+this.toeHeight};var r=Object(l.extractPoint)(t.ankle.out),n=t.ankle.outbot,o=t.toe.out,a=t.toe.in,i=Object(l.clone)(t.ankle.inbot),c=t.ankle.in;i.cp2.x-=2,r.cp1=Object(l.simpleQuadratic)(c,r,.5,this.tongueDeflection),s.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(l.drawPoints)(e,r,n,o,a,i,c,r),e.fill(),e.stroke()}}]),ShoeBasePart}(),y=function(){_inherits(Shoe,s["Clothing"]);var n=_createSuper(Shoe);function Shoe(){_classCallCheck(this,Shoe);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:s.Clothes.Layer.MID,shoeHeight:0,tongueDeflection:2,toeHeight:0,Mods:{feetLength:-10,feetWidth:-2}}].concat(e))}return Shoe}(),h=function(){_inherits(FlatShoes,y);var n=_createSuper(FlatShoes);function FlatShoes(){_classCallCheck(this,FlatShoes);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shoeHeight:0}].concat(e))}return _createClass(FlatShoes,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:f},{side:o.Part.RIGHT,Part:f}]}}]),FlatShoes}()},function(t,e,r){"use strict";r.r(e),r.d(e,"SockPart",function(){return i}),r.d(e,"ShortSockPart",function(){return c}),r.d(e,"MediumSockPart",function(){return s}),r.d(e,"LongSockPart",function(){return p}),r.d(e,"ThighHighPart",function(){return f}),r.d(e,"ThighHighBandPart",function(){return y}),r.d(e,"Sock",function(){return h}),r.d(e,"ShortSocks",function(){return n}),r.d(e,"MediumSocks",function(){return d}),r.d(e,"LongSocks",function(){return g}),r.d(e,"ThighHighs",function(){return P});var l=r(1),o=r(3),a=r(2),u=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(SockPart,l["ClothingPart"]);var n=_createSuper(SockPart);function SockPart(){_classCallCheck(this,SockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"]}].concat(e))}return SockPart}(),c=function(){_inherits(ShortSockPart,i);var n=_createSuper(ShortSockPart);function ShortSockPart(){_classCallCheck(this,ShortSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ShortSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(u.extractPoint)(t.ankle.out),n=t.ankle.outbot,o=t.toe.out,a=t.toe.in,i=t.ankle.inbot,c=t.ankle.in;r.cp1=Object(u.simpleQuadratic)(c,r,.5,-3),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,r,n,o,a,i,c,r),e.fill(),e.stroke()}}]),ShortSockPart}(),s=function(){_inherits(MediumSockPart,i);var n=_createSuper(MediumSockPart);function MediumSockPart(){_classCallCheck(this,MediumSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MediumSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=1-this.length;.75<this.length&&(r+=.3*(this.length-.75));var n=Object(u.splitCurve)(r,t.calf.out,t.ankle.out),o=n.left.p2,a=n.right.p2,i=(n=Object(u.splitCurve)(this.length,t.ankle.in,t.calf.in)).left.p2;o.cp1=Object(u.simpleQuadratic)(i,o,.5,-2.5+this.length),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,o,a,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,i,o),e.fill(),e.stroke()}}]),MediumSockPart}(),p=function(){_inherits(LongSockPart,i);var n=_createSuper(LongSockPart);function LongSockPart(){_classCallCheck(this,LongSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(LongSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=1-this.length,n=Object(u.splitCurve)(r,t.knee.out,t.calf.out),o=n.left.p2,a=n.right.p2,i=this.length;this.length<.7&&(i+=.3*(.7-this.length));var c=(n=Object(u.splitCurve)(i,t.calf.in,t.knee.in)).left.p2;o.cp1=Object(u.simpleQuadratic)(c,o,.5,-2.5+this.length),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,o,a,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,c,o),e.fill(),e.stroke()}}]),LongSockPart}(),f=function(){_inherits(ThighHighPart,i);var n=_createSuper(ThighHighPart);function ThighHighPart(){_classCallCheck(this,ThighHighPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ThighHighPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=.5-.5*this.length,n=Object(u.splitCurve)(r,t.thigh.out,t.knee.out),o=n.left.p2,a=n.right.p2,i=.5*this.length,c=(n=Object(u.splitCurve)(i,t.thigh.in,t.thigh.top)).left.p2;o.cp1=Object(u.simpleQuadratic)(c,o,.5,2.5+this.length),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,o,a,t.calf.out,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,c),e.stroke(),Object(u.drawPoints)(e,null,o),e.fill()}}]),ThighHighPart}(),y=function(){_inherits(ThighHighBandPart,i);var n=_createSuper(ThighHighBandPart);function ThighHighBandPart(){_classCallCheck(this,ThighHighBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"]}].concat(e))}return _createClass(ThighHighBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=.5-.5*this.length-.03*this.bandWidth,n=Object(u.splitCurve)(r,t.thigh.out,t.knee.out),o=n.left.p2,a=(n=Object(u.splitCurve)(.1*this.bandWidth,o,t.knee.out)).left.p2,i=.5*this.length+.03*this.bandWidth,c=(n=Object(u.splitCurve)(i,t.thigh.in,t.thigh.top)).left.p2,s=(n=Object(u.splitCurve)(.2*this.bandWidth,t.thigh.in,c)).left.p2;c.cp1=n.right.p2.cp1,c.cp2=n.right.p2.cp2,s.cp1=Object(u.simpleQuadratic)(a,s,.5,-2.5-this.length),o.cp1=Object(u.simpleQuadratic)(c,o,.5,2.5+this.length),l.Clothes.simpleStrokeFill(e,t,{stroke:this.bandPattern,fill:this.bandPattern}),e.beginPath(),Object(u.drawPoints)(e,o,a,s,c,o),e.fill(),e.stroke()}}]),ThighHighBandPart}(),h=function(){_inherits(Sock,l["Clothing"]);var n=_createSuper(Sock);function Sock(){_classCallCheck(this,Sock);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:l.Clothes.Layer.BASE,length:.5,thickness:1,stroke:"#b1a693"}].concat(e))}return Sock}(),n=function(){_inherits(ShortSocks,h);var n=_createSuper(ShortSocks);function ShortSocks(){_classCallCheck(this,ShortSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ShortSocks,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:c},{side:o.Part.RIGHT,Part:c}]}}]),ShortSocks}(),d=function(){_inherits(MediumSocks,h);var n=_createSuper(MediumSocks);function MediumSocks(){_classCallCheck(this,MediumSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MediumSocks,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),MediumSocks}(),g=function(){_inherits(LongSocks,h);var n=_createSuper(LongSocks);function LongSocks(){_classCallCheck(this,LongSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(LongSocks,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:p},{side:o.Part.RIGHT,Part:p}]}}]),LongSocks}(),P=function(){_inherits(ThighHighs,h);var n=_createSuper(ThighHighs);function ThighHighs(){_classCallCheck(this,ThighHighs);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{bandWidth:2,bandPattern:"#000"}].concat(e))}return _createClass(ThighHighs,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:f},{side:o.Part.RIGHT,Part:f},{side:o.Part.RIGHT,Part:y}]}}]),ThighHighs}()},function(t,e,r){"use strict";r.r(e),r.d(e,"NecktiePart",function(){return a}),r.d(e,"NeckAccessory",function(){return i}),r.d(e,"NeckTie",function(){return n});var u=r(1),o=r(2),p=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(NecktiePart,u["ClothingPart"]);var n=_createSuper(NecktiePart);function NecktiePart(){_classCallCheck(this,NecktiePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!1,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{offsetWidth:0,offsetHeight:-10,knotWidth:5,knotHeight:5,loopWidth:3,tongueTopWidth:4,tongueBotWidth:6,tongueHeight:15,tongueBotHeight:3,tongueRotation:0}].concat(e))}return _createClass(NecktiePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r={x:this.offsetWidth,y:t.neck.cusp.y+this.offsetHeight},n={};n.topLeft={x:r.x-this.knotWidth/2,y:r.y},n.topRight={x:r.x+this.knotWidth/2,y:r.y},n.left={x:n.topLeft.x,y:r.y-this.loopWidth/2},n.right={x:n.topRight.x,y:n.left.y},n.botLeft={x:r.x-this.tongueTopWidth/2,y:r.y-this.knotHeight},n.botRight={x:r.x+this.tongueTopWidth/2,y:n.botLeft.y};var o=Object(p.splitCurve)(Object(p.clamp)(.035*this.loopWidth,0,1),t.trapezius,t.collarbone),a=Object(p.extractPoint)(o.left.p2),i=o.left.p1;i.cp1=o.left.p2.cp2,i.cp2=o.left.p2.cp1;var c=Object(p.reflect)(i),s=Object(p.reflect)(a);c.cp1=Object(p.reflect)(i.cp1),c.cp2=Object(p.reflect)(i.cp2);var l={};l.bot={x:r.x,y:n.botRight.y-this.tongueHeight},l.left={x:r.x-this.tongueBotWidth/2,y:l.bot.y+this.tongueBotHeight},l.right={x:r.x+this.tongueBotWidth/2,y:l.left.y},Object(p.rotatePoints)(r,Object(p.rad)(this.tongueRotation),l.bot,l.left,l.right),u.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(p.drawPoints)(e,n.topLeft,r,n.topRight,n.right,n.botRight,n.botLeft,n.left,n.topLeft);n.topLeft.cp1=Object(p.simpleQuadratic)(c,n.topLeft,.5,-1.5),s.cp1=Object(p.simpleQuadratic)(n.left,s,.5,1.5),Object(p.drawPoints)(e,s,c,n.topLeft,n.left,s),n.topRight.cp1=Object(p.simpleQuadratic)(i,n.topRight,.5,1.5),a.cp1=Object(p.simpleQuadratic)(n.right,a,.5,-1.5),Object(p.drawPoints)(e,a,i,n.topRight,n.right,a),Object(p.drawPoints)(e,n.botLeft,l.left,l.bot,l.right,n.botRight),e.fill()}}]),NecktiePart}(),i=function(){_inherits(NeckAccessory,u["Clothing"]);var n=_createSuper(NeckAccessory);function NeckAccessory(){_classCallCheck(this,NeckAccessory);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:u.Clothes.Layer.MID}].concat(e))}return NeckAccessory}(),n=function(){_inherits(NeckTie,i);var n=_createSuper(NeckTie);function NeckTie(){_classCallCheck(this,NeckTie);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(NeckTie,[{key:"fill",value:function fill(){return"#333"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:a}]}}]),NeckTie}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locateRelativeToDrawpoint=e.locationIsSideless=e.Location=e.extractLocationModifier=e.extractUnmodifiedLocation=e.extractBaseLocation=e.extractSideLocation=void 0;var i=r(155),c=r(0);function extractUnmodifiedLocation(t){for(var e=0;e<t.length;++e)switch(t[e]){case"+":case"-":break;default:return t.substr(e)}}e.extractSideLocation=function extractSideLocation(t){var e=extractUnmodifiedLocation(t);return e.indexOf(" ")<0?null:e.substr(0,e.indexOf(" "))},e.extractBaseLocation=function extractBaseLocation(t){var e=extractUnmodifiedLocation(t);return e.indexOf(" ")<0?e:e.substr(e.lastIndexOf(" ")+1)},e.extractUnmodifiedLocation=extractUnmodifiedLocation,e.extractLocationModifier=function extractLocationModifier(t){for(var e="",r=0;r<t.length;++r)switch(t[r]){case"+":case"-":e+=t[r]}return e},e.Location={ARM:"arm",CHEST:"chest",TORSO:"torso",BUTT:"butt",FEET:"feet",GROIN:"groin",HAND:"hand",HEAD:"head",HAIR:"hair",LEG:"leg",NECK:"neck",PENIS:"penis",VAGINA:"vagina",TESTICLES:"testicles",GENITALS:"genitals",EAR:"ears",EYEBROW:"brow",EYELASH:"eyelash",EYELID:"eyelid",EYES:"eyes",IRIS:"iris",LIPS:"lips",MOUTH:"mouth",NOSE:"nose",PUPIL:"pupil"},e.locationIsSideless=function locationIsSideless(t){switch(t){case e.Location.TORSO:case e.Location.HEAD:case e.Location.NECK:case e.Location.PENIS:case e.Location.TESTICLES:case e.Location.VAGINA:case e.Location.LIPS:case e.Location.MOUTH:case e.Location.NOSE:return!0;default:return!1}},e.locateRelativeToDrawpoint=function locateRelativeToDrawpoint(t,e){var r=e.drawpoint,n=e.dx,o=e.dy,a=i(t,r);return c.adjust(a,n,o)}},function(t,e,r){"use strict";r.r(e),r.d(e,"SweaterBasePart",function(){return i}),r.d(e,"calcSweaterBase",function(){return calcSweaterBase}),r.d(e,"CoveredBreastPart",function(){return c}),r.d(e,"LongSleevePart",function(){return s}),r.d(e,"calcLongSleeve",function(){return calcLongSleeve}),r.d(e,"ShortSleevePart",function(){return l}),r.d(e,"Sweater",function(){return u}),r.d(e,"LongSleevedSweater",function(){return n}),r.d(e,"AsymmetricSleevedSweater",function(){return h});var p=r(1),o=r(3),f=r(9),a=r(2),y=(r(6),r(0));function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(SweaterBasePart,p["ClothingPart"]);var n=_createSuper(SweaterBasePart);function SweaterBasePart(){_classCallCheck(this,SweaterBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],aboveSameLayerParts:["groin"]}].concat(e))}return _createClass(SweaterBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSweaterBase.call(this,t),n=r.top,o=r.out,a=r.cusp,i=r.collarbone,c=r.waist,s=r.bot;p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(y.drawPoints)(e,n,o,a,i,t.armpit,t.lat,c,s.out,s.bot),e.fill(),e.beginPath(),Object(y.drawPoints)(e,n,o,a,i,y.breakPoint,t.armpit,t.lat,c,s.out,s.bot),e.stroke()}}]),SweaterBasePart}();function calcSweaterBase(t){var e=Object(y.splitCurve)(1-this.neckCoverage,t.neck.top,t.neck.cusp),r=e.left.p2,n={x:0,y:r.y-2};r.cp1={x:.5*n.x+.5*r.x,y:n.y};var o=Object(y.extractPoint)(t.trapezius);o.cp1={x:r.x+2*this.neckCoverage,y:r.y-1},o.cp2={x:o.x,y:o.y+3*this.neckCoverage},e=Object(y.splitCurve)(this.stomachCoverage,t.waist,t.hip);var a={};return a.out=e.left.p2,a.out.x+=.4*this.thickness,a.bot=Object(y.extractPoint)(t.pelvis),a.bot.y+=a.out.y-t.hip.y,a.bot.cp1={x:.5*a.bot.x+.5*a.out.x,y:a.bot.y},{top:n,out:r,cusp:o,collarbone:Object(y.clone)(t.collarbone),waist:Object(y.adjust)(t.waist,.8*this.thickness,0),bot:a}}var c=function(){_inherits(CoveredBreastPart,p["ClothingPart"]);var n=_createSuper(CoveredBreastPart);function CoveredBreastPart(){_classCallCheck(this,CoveredBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return _createClass(CoveredBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c;Object(f.coverNipplesIfHaveNoBreasts)(t,e,this)||(r=Object(y.adjust)(t.breast.top,0,0),n=Object(y.adjust)(t.breast.tip,.1,0),o=Object(y.adjust)(t.breast.bot,0,-.1),a=Object(y.adjust)(t.breast.in,0,0),i=Object(y.adjust)(t.breast.cleavage,-.1,0),c=Object(y.adjust)(Object(f.connectEndPoints)(i,r),0,.2),p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(y.drawPoints)(e,r,n,o,a,i,c),e.fill(),e.beginPath(),Object(y.drawPoints)(e,r,n,o,a),e.stroke())}}]),CoveredBreastPart}(),s=function(){_inherits(LongSleevePart,p["ClothingPart"]);var n=_createSuper(LongSleevePart);function LongSleevePart(){_classCallCheck(this,LongSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{sleeveLength:1}].concat(e))}return _createClass(LongSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcLongSleeve.call(this,t),n=r.collarbone,o=r.deltoids,a=r.shoulder,i=r.elbowOut,c=r.out,s=r.bot,l=r.elbow,u=r.armpit;p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(y.drawPoints)(e,n,o,a,i,c,s,l,u,Object(f.connectEndPoints)(u,n)),e.fill(),e.beginPath(),Object(y.drawPoints)(e,n,o,a,i,c,s,l,u),e.stroke()}}]),LongSleevePart}();function calcLongSleeve(t){var e=Object(y.splitCurve)(this.sleeveLength,t.elbow.out,t.wrist.out),r=e.left.p2;r.cp1&&r.cp2&&(r.cp1.x+=.5*this.thickness,r.cp2.x+=.3*this.thickness);var n=(e=Object(y.splitCurve)(.9*(1-this.sleeveLength),t.wrist.in,t.elbow.in)).left.p2,o=e.right.p2,o=Object(y.adjust)(o,.4*-this.thickness,0),a=Object(y.extractPoint)(t.collarbone);a.x-=.2;var i=Object(y.adjust)(t.shoulder,.5*this.thickness,0),c=Object(y.adjust)(t.elbow.out,.5*this.thickness,0);n.cp1=Object(y.simpleQuadratic)(r,n,.5,1);var s=Object(y.adjust)(t.armpit,-.2,0);return{collarbone:a,deltoids:t.deltoids,shoulder:i,elbowOut:c,out:r,bot:n,elbow:o,armpit:s}}var l=function(){_inherits(ShortSleevePart,p["ClothingPart"]);var n=_createSuper(ShortSleevePart);function ShortSleevePart(){_classCallCheck(this,ShortSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm"]}].concat(e))}return _createClass(ShortSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(y.splitCurve)(1-this.sleeveLength,t.shoulder,t.elbow.out),n=r.left.p2,o=(r=Object(y.splitCurve)(.9*(1-this.sleeveLength),t.elbow.in,t.armpit)).left.p2,a=r.right.p2,a=Object(y.adjust)(a,-.1,0),i=calcSweaterBase.call(this,t).collarbone;i.x-=.1;var c=Object(y.adjust)(t.shoulder,.5*this.thickness,0);o.cp1=Object(y.simpleQuadratic)(n,o,.5,1),p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(y.drawPoints)(e,i,t.deltoids,c,n,o,a,Object(f.connectEndPoints)(a,i)),e.fill(),e.beginPath(),Object(y.drawPoints)(e,i,t.deltoids,c,n,o,a),e.stroke()}}]),ShortSleevePart}(),u=function(){_inherits(Sweater,p["Clothing"]);var n=_createSuper(Sweater);function Sweater(){_classCallCheck(this,Sweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:p.Clothes.Layer.MID,stomachCoverage:.8,neckCoverage:.5,sleeveLength:.8}].concat(e))}return Sweater}(),n=function(){_inherits(LongSleevedSweater,u);var n=_createSuper(LongSleevedSweater);function LongSleevedSweater(){_classCallCheck(this,LongSleevedSweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,neckCoverage:.5,sleeveLength:1}].concat(e))}return _createClass(LongSleevedSweater,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),LongSleevedSweater}(),h=function(){_inherits(AsymmetricSleevedSweater,u);var n=_createSuper(AsymmetricSleevedSweater);function AsymmetricSleevedSweater(){_classCallCheck(this,AsymmetricSleevedSweater);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,neckCoverage:.5,sleeveLength:1}].concat(e))}return _createClass(AsymmetricSleevedSweater,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:s}]}}]),AsymmetricSleevedSweater}()},function(t,e,r){"use strict";r.r(e),r.d(e,"CoveredButtPart",function(){return c}),r.d(e,"LongPantsPart",function(){return s}),r.d(e,"MediumPantsPart",function(){return l}),r.d(e,"ShortPantsPart",function(){return u}),r.d(e,"ShortsPart",function(){return p}),r.d(e,"Pants",function(){return f}),r.d(e,"LongTightPants",function(){return n}),r.d(e,"MediumTightPants",function(){return y}),r.d(e,"ShortTightPants",function(){return h}),r.d(e,"TightShorts",function(){return d});var b=r(1),o=r(3),a=r(2),v=r(0),i=r(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(CoveredButtPart,b["ClothingPart"]);var n=_createSuper(CoveredButtPart);function CoveredButtPart(){_classCallCheck(this,CoveredButtPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.BACK,reflect:!0,loc:"butt",aboveParts:["parts butt"]}].concat(e))}return _createClass(CoveredButtPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){b.Clothes.simpleStrokeFill(e,t,this),e.strokeStyle=Object(i.adjustColor)(e.strokeStyle,{s:-5,l:-5}),e.beginPath(),Object(v.drawPoints)(e,t.butt.in,t.butt.out,t.butt.in),e.fill(),e.stroke()}}]),CoveredButtPart}(),s=function(){_inherits(LongPantsPart,b["ClothingPart"]);var n=_createSuper(LongPantsPart);function LongPantsPart(){_classCallCheck(this,LongPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(LongPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(v.splitCurve)(this.legCoverage,t.calf.out,t.ankle.out),n=r.left.p2,o=(r=Object(v.splitCurve)(1-this.legCoverage,t.ankle.in,t.calf.in)).left.p2,a=r.right.p2;o.cp1=Object(v.simpleQuadratic)(n,o,.5,1);var i=t.knee.out,c=t.knee.in,s=t.knee.intop,l=t.calf.out,u=t.thigh.top,p=t.thigh.in,f=calcPantsTop(t,this.waistCoverage),y=f.out,h=f.hip,d=f.top,g=f.thighOut,P=f.groin;b.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,d,y,h,g,i,l,n,o,a,c,s,p,u,P),e.fill(),e.stroke()}}]),LongPantsPart}(),l=function(){_inherits(MediumPantsPart,b["ClothingPart"]);var n=_createSuper(MediumPantsPart);function MediumPantsPart(){_classCallCheck(this,MediumPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(MediumPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(v.splitCurve)(this.legCoverage,t.knee.out,t.calf.out),n=r.left.p2,o=(r=Object(v.splitCurve)(1-this.legCoverage,t.calf.in,t.knee.in)).left.p2,a=r.right.p2;o.cp1=Object(v.simpleQuadratic)(n,o,.75,2);var i=t.knee.out,c=t.knee.intop,s=t.thigh.top,l=t.thigh.in,u=calcPantsTop(t,this.waistCoverage),p=u.out,f=u.hip,y=u.top,h=u.thighOut,d=u.groin;b.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,y,p,f,h,i,n,o,a,c,l,s,d),e.fill(),e.stroke()}}]),MediumPantsPart}(),u=function(){_inherits(ShortPantsPart,b["ClothingPart"]);var n=_createSuper(ShortPantsPart);function ShortPantsPart(){_classCallCheck(this,ShortPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(ShortPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(v.splitCurve)(.35+.6*this.legCoverage,t.thigh.out,t.knee.out),n=r.left.p2,o=(r=Object(v.splitCurve)(1-this.legCoverage,t.knee.intop,t.thigh.in)).left.p2,a=r.right.p2,i=t.thigh.top;o.cp1=Object(v.simpleQuadratic)(n,o,.5,1/Object(v.clamp)(this.legCoverage,.3,1));var c=calcPantsTop(t,this.waistCoverage),s=c.out,l=c.hip,u=c.top,p=c.thighOut,f=c.groin;b.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,u,s,l,p,n,o,a,i,f),e.fill(),e.stroke()}}]),ShortPantsPart}(),p=function(){_inherits(ShortsPart,b["ClothingPart"]);var n=_createSuper(ShortsPart);function ShortsPart(){_classCallCheck(this,ShortsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]}].concat(e))}return _createClass(ShortsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(v.splitCurve)(.4+.55*this.legCoverage,t.hip,t.thigh.out),n=r.left.p2,o=(r=Object(v.splitCurve)(Object(v.clamp)(1.25-.75*this.legCoverage,0,1),t.thigh.in,t.thigh.top)).left.p2,a=r.right.p2;o.cp1=Object(v.simpleQuadratic)(n,o,.6,-3/Object(v.clamp)(this.legCoverage,.3,1));var i=calcPantsTop(t,this.waistCoverage),c=i.out,s=i.hip,l=i.top,u=i.groin;b.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,l,c,s,n,o,a,u),e.fill(),e.stroke()}}]),ShortsPart}();function calcPantsTop(t,e){var r,n,o,a,i;a=-.1<=e?(n=(r=Object(v.splitCurve)(.9-e,t.waist,t.hip)).left.p2,o=r.right.p2,t.thigh.out):(n=(i=Object(v.splitCurve)(-.1-e,t.hip,t.thigh.out)).left.p2,i.right.p2);var c=n.y-t.hip.y,s={x:0,y:t.pelvis.y+1.2*c};n.cp1={x:.5*n.x+.5*s.x,y:s.y};var l=Object(v.extractPoint)(t.groin);return l.cp1={x:.5*l.x+.5*t.thigh.top.x,y:l.y},{out:n,hip:o,top:s,thighOut:a,groin:l}}var f=function(){_inherits(Pants,b["Clothing"]);var n=_createSuper(Pants);function Pants(){_classCallCheck(this,Pants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:b.Clothes.Layer.MID,legCoverage:1,waistCoverage:0}].concat(e))}return _createClass(Pants,[{key:"fill",value:function fill(){return"hsl(200, 65%, 10%)"}}]),Pants}(),n=function(){_inherits(LongTightPants,f);var n=_createSuper(LongTightPants);function LongTightPants(){_classCallCheck(this,LongTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(LongTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),LongTightPants}(),y=function(){_inherits(MediumTightPants,f);var n=_createSuper(MediumTightPants);function MediumTightPants(){_classCallCheck(this,MediumTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MediumTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:l}]}}]),MediumTightPants}(),h=function(){_inherits(ShortTightPants,f);var n=_createSuper(ShortTightPants);function ShortTightPants(){_classCallCheck(this,ShortTightPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ShortTightPants,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:o.Part.LEFT,Part:u},{side:o.Part.RIGHT,Part:u}]}}]),ShortTightPants}(),d=function(){_inherits(TightShorts,f);var n=_createSuper(TightShorts);function TightShorts(){_classCallCheck(this,TightShorts);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(TightShorts,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:o.Part.LEFT,Part:p},{side:o.Part.RIGHT,Part:p}]}}]),TightShorts}()},function(t,e,r){"use strict";function _P(t,e,r,n){var o;e in t&&("function"!=typeof(o=n)||"[object Function]"!==c.call(o)||!n())||(u?l(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)}function aQ(t,e){var r=2<arguments.length?arguments[2]:{},n=a(e);i&&(n=s.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)_P(t,n[o],e[n[o]],r[n[o]])}var a=r(52),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),c=Object.prototype.toString,s=Array.prototype.concat,l=Object.defineProperty,u=l&&function(){var t={};try{for(var e in l(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}();aQ.supportsDescriptors=!!u,t.exports=aQ},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.isPattern=s.drawTattooPattern=s.loadPattern=s.addPattern=s.getLoadedPattern=s.getPattern=s.CachedPattern=s.getPatternBaseName=s.getPatternFullName=s.listAvailablePatterns=s.patternLoadingQueue=s.cachedPatterns=s.IMAGE_MAXSIZE=void 0;var y=e(0);s.IMAGE_MAXSIZE=100;var r=document.createElement("canvas");r.width=s.IMAGE_MAXSIZE,r.height=s.IMAGE_MAXSIZE;var n=r.getContext("2d"),h=document.createElement("canvas");s.cachedPatterns={},s.patternLoadingQueue=[];var o={};function getPatternFullName(t,e){return t+"."+e}s.listAvailablePatterns=function listAvailablePatterns(){var t=[];for(var e in o)o.hasOwnProperty(e)&&t.push(e);return t},s.getPatternFullName=getPatternFullName,s.getPatternBaseName=function getPatternBaseName(t){var e=t.indexOf(".");return e<0?t:t.substr(0,e)};var a=(CachedPattern.prototype.getLoaded=function(t,e){var r=s.cachedPatterns[this.fullName];return"function"==typeof r?r(t,e):r},CachedPattern);function CachedPattern(t){if(Object.assign(this,{patternName:"",patternSize:s.IMAGE_MAXSIZE},t),this.fullName=this.patternName+"."+this.patternSize,""!==this.patternName){if(!1===o.hasOwnProperty(this.patternName))throw new Error("Trying to get pattern that hasn't been added yet: "+this.patternName);s.cachedPatterns.hasOwnProperty(this.fullName)||(console.log("create pattern "+this.fullName),s.patternLoadingQueue.push(loadPattern(this.patternName,o[this.patternName],this.patternSize)))}}function getLoadedPattern(t,e,r){return isPattern(t)?t.getLoaded(e,r):"function"==typeof t?getLoadedPattern.call(this,t.call(this,e,r),e,r):t}function loadPattern(e,r,a,i){void 0===i&&(i=!0);var c=e+"."+a;return"function"==typeof r?r.length<=1?new Promise(function(t){s.cachedPatterns[c]=r(n),t()}):new Promise(function(t){s.cachedPatterns[c]=r,t()}):new Promise(function(n,t){var o=new Image;o.onload=function(){var t=o.width/a,e=Math.round(o.height/t);h.width=a,h.height=e;var r=h.getContext("2d");r.scale(1,-1),r.drawImage(o,0,0,o.width,o.height,0,0,a,-e),s.cachedPatterns[c]=r.createPattern(h,"repeat"),n()},o.onerror=function(){console.warn(Error("failed to load pattern '"+e+"' from "+r+". Retrying with different CORS settings")),t()},i&&(o.crossOrigin="anonymous"),o.src=r}).catch(function(){return i?loadPattern(e,r,a,!1):void alert(Error("failed to load pattern '"+e+"' from "+r))})}function isPattern(t){return t instanceof a}s.CachedPattern=a,s.getPattern=function getPattern(t,e){return void 0===e&&(e=s.IMAGE_MAXSIZE),new a({patternName:t,patternSize:e})},s.getLoadedPattern=getLoadedPattern,s.addPattern=function addPattern(t,e){o[t]||(o[t]=e)},s.loadPattern=loadPattern,s.drawTattooPattern=function drawTattooPattern(t,e,r,n){var o=y.rad(t.rotation),a=t.width?t.width/e.width:1,i=e.width,c=e.height,s=Math.max(i,c)*Math.sqrt(2);h.width=s*a,h.height=s*a;var l=h.getContext("2d");l.scale(a,a),l.translate(s/2,s/2),l.rotate(o),l.drawImage(e,-i/2,-c/2);var u=r.transformPoint(h.width/2,h.height/2),p=r.transformPoint(0,0),f=y.diff(u,p);r.drawImage(h,n.x+f.x,n.y+f.y)},s.isPattern=isPattern},function(t,e,r){"use strict";r.r(e),r.d(e,"FaceAccessoryPart",function(){return a}),r.d(e,"GagStrapPart",function(){return i}),r.d(e,"TopTriangularStrap",function(){return c}),r.d(e,"RingGagPart",function(){return l}),r.d(e,"BallGagPart",function(){return u}),r.d(e,"BlindFoldPart",function(){return h}),r.d(e,"GlassesPart",function(){return d}),r.d(e,"SimpleBeltPart",function(){return g}),r.d(e,"calcBelt",function(){return calcBelt}),r.d(e,"ApronPart",function(){return P}),r.d(e,"Accessory",function(){return b}),r.d(e,"Glasses",function(){return n}),r.d(e,"Gag",function(){return v}),r.d(e,"SimpleRingGag",function(){return _}),r.d(e,"SimpleBallGag",function(){return m}),r.d(e,"MediumRingGag",function(){return S}),r.d(e,"MediumBallGag",function(){return C}),r.d(e,"BlindFold",function(){return O}),r.d(e,"SimpleBelt",function(){return k}),r.d(e,"Apron",function(){return w});var p=r(1),o=r(2),f=r(0),y=r(5),s=r(4);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||_unsupportedIterableToArray(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(FaceAccessoryPart,p["ClothingPart"]);var n=_createSuper(FaceAccessoryPart);function FaceAccessoryPart(){_classCallCheck(this,FaceAccessoryPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",aboveParts:["eyelid","brow","eyelash","decorativeParts head"]}].concat(e))}return FaceAccessoryPart}(),i=function(){_inherits(GagStrapPart,a);var n=_createSuper(GagStrapPart);function GagStrapPart(){_classCallCheck(this,GagStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0}].concat(e))}return _createClass(GagStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(f.extractPoint)(t.chin.out),n=_slicedToArray(calcGag(t),4)[1];n.cp1=Object(f.simpleQuadratic)(r,n,.5,1),n.cp2=null,p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(f.drawPoints)(e,r,n),e.stroke()}}]),GagStrapPart}(),c=function(){_inherits(TopTriangularStrap,a);var n=_createSuper(TopTriangularStrap);function TopTriangularStrap(){_classCallCheck(this,TopTriangularStrap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ABOVE_HAIR,reflect:!0,branchOutDistance:18}].concat(e))}return _createClass(TopTriangularStrap,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(f.extractPoint)(t.chin.out),n={x:0,y:t.skull.y-this.branchOutDistance};n.cp1=Object(f.simpleQuadratic)(r,n,.5,1);var o=Object(f.extractPoint)(t.skull);p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(f.drawPoints)(e,r,n,o),e.stroke()}}]),TopTriangularStrap}(),l=function(){_inherits(RingGagPart,a);var n=_createSuper(RingGagPart);function RingGagPart(){_classCallCheck(this,RingGagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{ringStroke:"#393939",ringThickness:.5,spiderLegs:!1}].concat(e))}return _createClass(RingGagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){Object(s.setStrokeAndFill)(e,{stroke:this.ringStroke,fill:this.ringStroke},t),e.lineWidth=this.ringThickness;var r=calcGag(t);if(e.beginPath(),f.drawPoints.apply(void 0,[e].concat(_toConsumableArray(r))),e.stroke(),this.spiderLegs){for(var n=[],o=0;o<r.length-1;++o){var a=Object(f.splitCurve)(.5,r[o],r[o+1]).left.p2,i=null,i=o%2==0?{x:1.2*r[o+1].x,y:r[o].y}:{x:1.2*r[o].x,y:r[o+1].y},c=null,c=o in[0,1]?{x:i.x+1,y:i.y}:{x:i.x-1,y:i.y};n.push(a,i,c,f.breakPoint)}e.beginPath(),f.drawPoints.apply(void 0,[e].concat(n)),e.stroke()}}}]),RingGagPart}(),u=function(){_inherits(BallGagPart,a);var n=_createSuper(BallGagPart);function BallGagPart(){_classCallCheck(this,BallGagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{ballFill:"red"}].concat(e))}return _createClass(BallGagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){Object(s.setStrokeAndFill)(e,{stroke:this.ballFill,fill:this.ballFill},t);var r=_slicedToArray(calcGag(t),5),n=r[0],o=r[1],a=r[2],i=r[3];r[4];e.beginPath(),Object(f.drawPoints)(e,n,o,a,i,n),e.fill()}}]),BallGagPart}();function calcGag(t){var e={x:0,y:.53*t.lips.top.y+.47*t.lips.bot.y},r=.7*Math.min((t.lips.top.y-t.lips.bot.y)/2,t.lips.out.x);return Object(f.drawCircle)(e,r)}var h=function(){_inherits(BlindFoldPart,a);var n=_createSuper(BlindFoldPart);function BlindFoldPart(){_classCallCheck(this,BlindFoldPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0},{width:6,splitAlongSkull:.9,fromSkullDistance:16}].concat(e))}return _createClass(BlindFoldPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(f.splitCurve)(.96,t.skull,t.skull.side),n=Object(f.extractPoint)(r.right.p1),o={x:0,y:t.skull.y-this.fromSkullDistance};o.cp1={x:n.x-.5,y:n.y-2},o.cp2={x:o.x+2,y:o.y};var a={x:0,y:o.y-this.width},i=(r=Object(f.splitCurve)(this.splitAlongSkull,t.skull.side,t.skull.bot)).right.p1;p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(f.drawPoints)(e,n,o,a,i,n),e.fill()}}]),BlindFoldPart}(),d=function(){_inherits(GlassesPart,a);var n=_createSuper(GlassesPart);function GlassesPart(){_classCallCheck(this,GlassesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{reflect:!0},{eccentricity:5,height:3,thickness:.5}].concat(e))}return _createClass(GlassesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){p.Clothes.simpleStrokeFill(e,t,this);var r=Object(f.extractPoint)(t.ear.mid);r.y+=1,--r.x;var n=Object(f.extractPoint)(t.eyes.out);n.x+=1;var o=Object(f.extractPoint)(t.ear.mid);o.x-=2,o.y+=2;var a=Object(f.extractPoint)(t.eyes.in);a.x-=1.8;var i=this.eccentricity,c=this.height,s={x:a.x,y:a.y};s.cp1=Object(y.perpendicularPoint)(a,n,.5,c),s.cp1.x+=i,s.cp2=Object(y.perpendicularPoint)(a,n,.5,c),s.cp2.x+=-i;var l={x:a.x,y:a.y};l.cp1=Object(y.perpendicularPoint)(a,n,.5,-c),l.cp1.x+=i,l.cp2=Object(y.perpendicularPoint)(a,n,.5,-c),l.cp2.x+=-i;var u=Object(f.reflect)(a);u.cp1={y:a.y+2,x:0},e.beginPath(),Object(f.drawPoints)(e,n,s,f.breakPoint,n,l),e.fill(),e.beginPath(),Object(f.drawPoints)(e,o,n,s,f.breakPoint,n,l,u),e.stroke()}}]),GlassesPart}(),g=function(){_inherits(SimpleBeltPart,p["ClothingPart"]);var n=_createSuper(SimpleBeltPart);function SimpleBeltPart(){_classCallCheck(this,SimpleBeltPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.MIDRIFT,loc:"+torso",reflect:!0,aboveParts:["parts leg","clothingParts groin","parts chest","clothingParts chest","decorativeParts chest"],aboveSameLayerParts:["clothingParts torso"]},{waistCoverage:.2,beltWidth:4,beltCurve:-1,highlight:"#cdc331"}].concat(e))}return _createClass(SimpleBeltPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){p.Clothes.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=r.outMid,i=r.outBot,c=r.inBot;e.beginPath(),Object(f.drawPoints)(e,n,o,a,i,c),e.fill(),e.stroke(),e.fill(),e.stroke()}}]),SimpleBeltPart}();function calcBelt(t){var e,r,n,o;this.beltWidth<0&&(this.beltWidth=0),n=!((e=(o=0<this.waistCoverage?Object(f.splitCurve)(1-this.waistCoverage,t.waist,t.hip):Object(f.splitCurve)(Math.abs(this.waistCoverage),t.hip,t.thigh.out),Object(f.extractPoint)(o.left.p2))).y-this.beltWidth>t.hip.y)&&e.y>t.hip.y?(r=o.right.p2,n=Object(f.interpolateCurve)(t.hip,t.thigh.out,{x:null,y:e.y-this.beltWidth}),(n=Object(f.splitCurve)(n[0].t,t.hip,t.thigh.out)).left.p2):(n=Object(f.interpolateCurve)(o.left.p2,o.right.p2,{x:null,y:e.y-this.beltWidth}),(n=Object(f.splitCurve)(n[0].t,o.left.p2,o.right.p2)).left.p2);var a,i=e.y-t.hip.y,c={x:-.2,y:(a={x:-.2,y:t.pelvis.y+1.2*i+this.beltCurve}).y-this.beltWidth};return e.cp1={x:.5*(e.x+a.x),y:a.y},c.cp1={x:.5*(c.x+n.x),y:c.y},{inTop:a,outTop:e,outMid:r,outBot:n,inBot:c}}var P=function(){_inherits(ApronPart,p["ClothingPart"]);var n=_createSuper(ApronPart);function ApronPart(){_classCallCheck(this,ApronPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.MIDRIFT,loc:"+torso",reflect:!0,aboveSameLayerParts:["clothingParts torso"],aboveParts:["parts leg","clothingParts groin","parts chest","clothingParts chest","decorativeParts chest"]},{waistCoverage:.5,beltWidth:3,beltCurve:-1,coverage:.9,length:50,curveX:20,curveY:0,highlight:"#cdc331"}].concat(e))}return _createClass(ApronPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){p.Clothes.simpleStrokeFill(e,t,this);var r=calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=(r.outMid,r.outBot,r.inBot),i=Object(f.splitCurve)(this.coverage,n,o).left.p2,c={x:a.x,y:a.y-this.length};c.cp1={x:i.x+this.curveX,y:c.y+this.curveY},e.beginPath(),Object(f.drawPoints)(e,n,i,c),e.fill(),e.stroke()}}]),ApronPart}(),b=function(){_inherits(Accessory,p["Clothing"]);var n=_createSuper(Accessory);function Accessory(){_classCallCheck(this,Accessory);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:p.Clothes.Layer.MID}].concat(e))}return Accessory}(),n=function(){_inherits(Glasses,b);var n=_createSuper(Glasses);function Glasses(){_classCallCheck(this,Glasses);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(Glasses,[{key:"fill",value:function fill(){return"#a2a2a2"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:d}]}}]),Glasses}(),v=function(){_inherits(Gag,b);var o=_createSuper(Gag);function Gag(){var t;_classCallCheck(this,Gag);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{lipParting:60,thickness:1.5}].concat(r))).Mods=Object.assign({lipParting:t.lipParting},t.Mods),t}return _createClass(Gag,[{key:"fill",value:function fill(){return"#a2a2a2"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}}]),Gag}(),_=function(){_inherits(SimpleRingGag,v);var n=_createSuper(SimpleRingGag);function SimpleRingGag(){_classCallCheck(this,SimpleRingGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(SimpleRingGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:l}]}}]),SimpleRingGag}(),m=function(){_inherits(SimpleBallGag,v);var n=_createSuper(SimpleBallGag);function SimpleBallGag(){_classCallCheck(this,SimpleBallGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(SimpleBallGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:u}]}}]),SimpleBallGag}(),S=function(){_inherits(MediumRingGag,v);var n=_createSuper(MediumRingGag);function MediumRingGag(){_classCallCheck(this,MediumRingGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MediumRingGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:null,Part:l}]}}]),MediumRingGag}(),C=function(){_inherits(MediumBallGag,v);var n=_createSuper(MediumBallGag);function MediumBallGag(){_classCallCheck(this,MediumBallGag);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MediumBallGag,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:null,Part:u}]}}]),MediumBallGag}(),O=function(){_inherits(BlindFold,b);var n=_createSuper(BlindFold);function BlindFold(){_classCallCheck(this,BlindFold);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(BlindFold,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:h}]}}]),BlindFold}(),k=function(){_inherits(SimpleBelt,b);var n=_createSuper(SimpleBelt);function SimpleBelt(){_classCallCheck(this,SimpleBelt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:p.Clothes.Layer.OUTER}].concat(e))}return _createClass(SimpleBelt,[{key:"fill",value:function fill(){return"#464646"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:g}]}}]),SimpleBelt}(),w=function(){_inherits(Apron,b);var n=_createSuper(Apron);function Apron(){_classCallCheck(this,Apron);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:p.Clothes.Layer.OUTER}].concat(e))}return _createClass(Apron,[{key:"fill",value:function fill(){return"#ffffff"}},{key:"stroke",value:function stroke(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:g},{side:null,Part:P}]}}]),Apron}()},function(t,e,r){"use strict";r.r(e),r.d(e,"calcTee",function(){return calcTee}),r.d(e,"TeePart",function(){return i}),r.d(e,"LeotardPart",function(){return c}),r.d(e,"HalterTopBreastPart",function(){return s}),r.d(e,"TubeTopBreastPart",function(){return l}),r.d(e,"TopChestPart",function(){return f}),r.d(e,"TopGroinPart",function(){return g}),r.d(e,"calcTopBody",function(){return calcTopBody}),r.d(e,"BikiniTopBreastPart",function(){return P}),r.d(e,"Top",function(){return b}),r.d(e,"Tee",function(){return n}),r.d(e,"Leotard",function(){return v}),r.d(e,"HalterTop",function(){return _}),r.d(e,"TubeTop",function(){return m}),r.d(e,"TubeTopSleeves",function(){return S}),r.d(e,"BikiniTop",function(){return C}),r.d(e,"Swimsuit",function(){return O});var h=r(1),o=r(3),y=r(9),a=r(2),d=r(0),p=r(5),u=r(14);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcTee(t){var e=Object(d.clone)(t.collarbone),r=calcTopBody.call(this,t),n=r.armpit,o=r.lat,a=r.waist,i=r.hip,c=r.out,s=r.bottom,l=u.calcDressCleavage.call(this,t);return{cleavageBot:l.cleavageBot,cleavageTop:l.cleavageTop,neck:l.neck,shoulder:e,armpit:n,lat:o,waist:a,hip:i,out:c,bottom:s}}var i=function(){_inherits(TeePart,h["ClothingPart"]);var n=_createSuper(TeePart);function TeePart(){_classCallCheck(this,TeePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(TeePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,c=r.armpit,s=r.waist,l=r.hip,u=r.out,p=r.bottom;h.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,s,l,u,p),e.fill(),e.stroke()}}]),TeePart}(),c=function(){_inherits(LeotardPart,h["ClothingPart"]);var n=_createSuper(LeotardPart);function LeotardPart(){_classCallCheck(this,LeotardPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(LeotardPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,c=r.armpit,s=r.waist,l=r.hip,u=r.out,p=(r.bottom,Object(d.adjust)(Object(d.clone)(t.groin),-.2,0)),f=Object(d.splitCurve)(this.genCoverage,t.groin,Object(d.extractPoint)(t.thigh.top)),y=Object(d.extractPoint)(f.left.p2),f=Object(d.splitCurve)(.5,u,y);y.cp1=Object(d.extractPoint)(f.left.p2),y.cp1.x+=this.curveBotX-9,y.cp1.y+=this.curveBotY+5,h.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,s,l,u,y,p),e.fill(),e.stroke()}}]),LeotardPart}(),s=function(){_inherits(HalterTopBreastPart,h["ClothingPart"]);var n=_createSuper(HalterTopBreastPart);function HalterTopBreastPart(){_classCallCheck(this,HalterTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return _createClass(HalterTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){function checkCleavage(t,e){r.y<e.y&&(r.y=e.y+3),o=Object(d.splitCurve)(.5,r,i),i.cp1={x:o.left.p2.x+t.curveCleavageX,y:o.left.p2.y+t.curveCleavageY}}h.Clothes.simpleStrokeFill(e,t,this);var r={x:-.2,y:(o=Object(d.splitCurve)(this.cleavageCoverage,t.neck.cusp,t.groin)).left.p2.y};this.outerNeckCoverage<this.innerNeckCoverage&&(this.outerNeckCoverage=this.innerNeckCoverage),this.innerNeckCoverage>this.outerNeckCoverage&&(this.innerNeckCoverage=this.outerNeckCoverage);var n=t.trapezius?t.trapezius:t.neck.cusp,o=Object(d.splitCurve)(this.outerNeckCoverage,n,t.collarbone),a=1<this.outerNeckCoverage?t.collarbone:o.left.p2;o=this.innerNeckCoverage<0?Object(d.splitCurve)(1+this.innerNeckCoverage,t.neck.top,n):Object(d.splitCurve)(this.innerNeckCoverage,n,t.collarbone);var i=Object(d.extractPoint)(o.left.p2),c=this.innerNeckCoverage<0?n:void 0,s=Object(d.extractPoint)(t.armpit);if(!1===t.hasOwnProperty("breast")){var l={x:-.2,y:s.y-1};return checkCleavage(this,l),e.beginPath(),Object(d.drawPoints)(e,r,i,c,a,s,l),e.fill(),e.beginPath(),Object(d.drawPoints)(e,r,i,c,a,s),e.stroke(),void Object(y.coverNipplesIfHaveNoBreasts)(t,e,this)}var u=Object(d.adjust)(t.breast.tip,.1,0),p=Object(d.adjust)(t.breast.bot,0,-.1),f={x:-.2,y:p.y};checkCleavage(this,f),e.beginPath(),Object(d.drawPoints)(e,r,i,c,a,u,p,f),e.fill(),e.beginPath(),Object(d.drawPoints)(e,r,i,c,a,u,p),e.stroke()}}]),HalterTopBreastPart}(),l=function(){_inherits(TubeTopBreastPart,h["ClothingPart"]);var n=_createSuper(TubeTopBreastPart);function TubeTopBreastPart(){_classCallCheck(this,TubeTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return _createClass(TubeTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i;Object(y.coverNipplesIfHaveNoBreasts)(t,e,this)||(h.Clothes.simpleStrokeFill(e,t,this),r=[],1<this.chestCoverage?(2<this.chestCoverage&&(this.chestCoverage=1.9),this.chestCoverage,(r=Object(p.getLimbPointsNegative)(t.neck.top,t.breast.top,1-(this.chestCoverage-1),t.neck.top,t.neck.cusp,t.collarbone,Object(d.extractPoint)(t.breast.top)))[0]=Object(d.extractPoint)(r[0]),r[r.length]=Object(d.adjust)(t.breast.tip,.1,0)):(n=Object(d.splitCurve)(1-this.chestCoverage,t.breast.top,t.breast.tip),r[0]=Object(d.extractPoint)(n.left.p2),r[1]=Object(d.adjust)(n.right.p2,.1,0)),o={x:-.2,y:r[0].y+1},r[0].cp1={x:.8*(r[0].x+o.x),y:o.y},i={x:-.2,y:(a=Object(d.adjust)(t.breast.bot,0,-.1)).y},e.beginPath(),d.drawPoints.apply(void 0,[e,o].concat(_toConsumableArray(r),[a,i])),e.fill(),e.beginPath(),d.drawPoints.apply(void 0,[e,o].concat(_toConsumableArray(r),[a])),e.stroke())}}]),TubeTopBreastPart}(),f=function(){_inherits(TopChestPart,h["ClothingPart"]);var n=_createSuper(TopChestPart);function TopChestPart(){_classCallCheck(this,TopChestPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.MIDRIFT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(TopChestPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s,l;h.Clothes.simpleStrokeFill(e,t,this),2<=this.waistCoverage||(n=(r=calcTopBody.call(this,t)).armpit,o=r.lat,a=r.waist,i=r.hip,c=r.out,s=r.bottom,(l={x:-.2}).y=t.breast?t.breast.in.y:t.armpit.y,e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,s,l,Object(d.extractPoint)(n)),e.fill(),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,s),e.stroke())}}]),TopChestPart}(),g=function(){_inherits(TopGroinPart,h["ClothingPart"]);var n=_createSuper(TopGroinPart);function TopGroinPart(){_classCallCheck(this,TopGroinPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(TopGroinPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s,l,u,p;h.Clothes.simpleStrokeFill(e,t,this),2<=this.waistCoverage||(n=(r=calcTopBody.call(this,t)).armpit,o=r.lat,a=r.waist,i=r.hip,c=r.out,r.bottom,(s={x:-.2}).y=t.breast?t.breast.in.y:t.armpit.y,l=Object(d.adjust)(Object(d.clone)(t.groin),-.2,0),p=Object(d.splitCurve)(this.genCoverage,t.groin,Object(d.extractPoint)(t.thigh.top)),u=Object(d.extractPoint)(p.left.p2),p=Object(d.splitCurve)(.5,c,u),u.cp1=Object(d.extractPoint)(p.left.p2),u.cp1.x+=this.curveBotX-9,u.cp1.y+=this.curveBotY+5,e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,u,l,s,Object(d.extractPoint)(n)),e.fill(),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,u,l),e.stroke())}}]),TopGroinPart}();function calcTopBody(t){var e=Object(d.clone)(t.armpit),r=Object(d.clone)(t.lat),n=Object(d.adjust)(t.hip,0,0),o=Object(d.adjust)(t.waist,.8*this.thickness,0),a=e;r&&(a=r);var i,c,s,l=Object(p.lineLineIntersection)(a,n,{x:0,y:o.y},{x:100,y:o.y});l.x>o.x&&(o.x=Object(p.findBetween)(o.x,l.x,this.sideLoose),Object(p.straightenCurve)(e,o,this.sideLoose),Object(p.straightenCurve)(o,n,this.sideLoose));var u={y:(c=1<this.waistCoverage?(i=Object(d.splitCurve)(1-(this.waistCoverage-1),t.armpit,o),n=o=void 0,i.left.p2):0<=this.waistCoverage?(s=Object(d.splitCurve)(1-this.waistCoverage,o,n),n=void 0,s.left.p2):Object(d.splitCurve)(Math.abs(this.waistCoverage),n,t.thigh.out).left.p2).y-3,x:-.2};return u.cp1={x:.5*u.x+.5*c.x,y:u.y},{armpit:e,lat:r,waist:o,hip:n,out:c,bottom:u}}var P=function(){_inherits(BikiniTopBreastPart,h["ClothingPart"]);var n=_createSuper(BikiniTopBreastPart);function BikiniTopBreastPart(){_classCallCheck(this,BikiniTopBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return _createClass(BikiniTopBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){h.Clothes.simpleStrokeFill(e,t,this),this.outerNeckCoverage<this.innerNeckCoverage&&(this.outerNeckCoverage=this.innerNeckCoverage),this.innerNeckCoverage>this.outerNeckCoverage&&(this.innerNeckCoverage=this.outerNeckCoverage);var r=t.neck.cusp;t.trapezius&&(r=t.trapezius);var n=(o=Object(d.splitCurve)(this.outerNeckCoverage,r,t.collarbone)).left.p2,o=this.innerNeckCoverage<0?Object(d.splitCurve)(1+this.innerNeckCoverage,t.neck.top,r):Object(d.splitCurve)(this.innerNeckCoverage,r,t.collarbone),a=Object(d.extractPoint)(o.left.p2);if(!1===t.hasOwnProperty("breast")){var i=Object(d.adjust)(t.armpit,0,0),c={x:-.2,y:i.y-1},s={x:-.2,y:c.y+2*this.radius};return s.cp1={x:c.x+2*this.radius,y:c.y+this.radius},o=Object(d.splitCurve)(.5,s,a),a.cp1={x:o.left.p2.x+this.curveCleavageX,y:o.left.p2.y+this.curveCleavageY},e.beginPath(),Object(d.drawPoints)(e,s,a,n,Object(d.extractPoint)(i),c),e.fill(),e.beginPath(),Object(d.drawPoints)(e,s,a,n,Object(d.extractPoint)(i)),e.stroke(),void Object(y.coverNipplesIfHaveNoBreasts)(t,e,this)}var l=Object(d.adjust)(t.breast.tip,.1,0),u=Object(d.adjust)(t.breast.bot,0,-.1),p={x:-.2,y:u.y},f={x:-.2,y:p.y+2*this.radius};f.cp1={x:p.x+2*this.radius,y:p.y+this.radius},o=Object(d.splitCurve)(.5,f,a),a.cp1={x:o.left.p2.x+this.curveCleavageX,y:o.left.p2.y+this.curveCleavageY},e.beginPath(),Object(d.drawPoints)(e,f,a,n,l,u,p,f),e.fill(),e.beginPath(),Object(d.drawPoints)(e,f,a,n,l,u,p,f),e.stroke()}}]),BikiniTopBreastPart}(),b=function(){_inherits(Top,h["Clothing"]);var n=_createSuper(Top);function Top(){_classCallCheck(this,Top);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,thickness:.6}].concat(e))}return _createClass(Top,[{key:"stroke",value:function stroke(){return"hsla(335, 800%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}}]),Top}(),n=function(){_inherits(Tee,b);var n=_createSuper(Tee);function Tee(){_classCallCheck(this,Tee);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.3,cleavageCoverage:.16,sideLoose:0,waistCoverage:0,curveCleavageX:0,curveCleavageY:0,legCoverage:1}].concat(e))}return _createClass(Tee,[{key:"partPrototypes",get:function get(){return[{side:null,Part:u.LacingPart},{side:null,Part:i},{side:null,Part:u.DressBreastPart},{side:o.Part.LEFT,Part:u.SuperSleevePart},{side:o.Part.RIGHT,Part:u.SuperSleevePart}]}}]),Tee}(),v=function(){_inherits(Leotard,b);var n=_createSuper(Leotard);function Leotard(){_classCallCheck(this,Leotard);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.2,cleavageCoverage:.1,waistCoverage:.5,curveCleavageX:2,curveCleavageY:-2,armCoverage:.8,sideLoose:0,genCoverage:1,curveBotX:6,curveBotY:6,legCoverage:1}].concat(e))}return _createClass(Leotard,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:null,Part:u.DressBreastPart},{side:o.Part.LEFT,Part:u.SuperSleevePart},{side:o.Part.RIGHT,Part:u.SuperSleevePart}]}}]),Leotard}(),_=function(){_inherits(HalterTop,b);var n=_createSuper(HalterTop);function HalterTop(){_classCallCheck(this,HalterTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.3,outerNeckCoverage:.35,innerNeckCoverage:.15,curveCleavageX:9,curveCleavageY:-9,waistCoverage:.66,sideLoose:0}].concat(e))}return _createClass(HalterTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:f}]}}]),HalterTop}(),m=function(){_inherits(TubeTop,b);var n=_createSuper(TubeTop);function TubeTop(){_classCallCheck(this,TubeTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chestCoverage:.3,waistCoverage:.3,sideLoose:0}].concat(e))}return _createClass(TubeTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:l},{side:null,Part:f}]}}]),TubeTop}(),S=function(){_inherits(TubeTopSleeves,b);var n=_createSuper(TubeTopSleeves);function TubeTopSleeves(){_classCallCheck(this,TubeTopSleeves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chestCoverage:.3,waistCoverage:.3,sideLoose:0,shoulderCoverage:0,armCoverage:.5,armLoose:.5}].concat(e))}return _createClass(TubeTopSleeves,[{key:"partPrototypes",get:function get(){return[{side:null,Part:l},{side:null,Part:f},{side:o.Part.LEFT,Part:u.DetachedSleevePart},{side:o.Part.RIGHT,Part:u.DetachedSleevePart}]}}]),TubeTopSleeves}(),C=function(){_inherits(BikiniTop,b);var n=_createSuper(BikiniTop);function BikiniTop(){_classCallCheck(this,BikiniTop);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{radius:3.6,outerNeckCoverage:.35,innerNeckCoverage:.03,curveCleavageX:14,curveCleavageY:-14}].concat(e))}return _createClass(BikiniTop,[{key:"partPrototypes",get:function get(){return[{side:null,Part:P}]}}]),BikiniTop}(),O=function(){_inherits(Swimsuit,b);var n=_createSuper(Swimsuit);function Swimsuit(){_classCallCheck(this,Swimsuit);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.3,outerNeckCoverage:.35,innerNeckCoverage:.15,curveCleavageX:9,curveCleavageY:-9,waistCoverage:.2,sideLoose:0,genCoverage:1,curveBotX:6,curveBotY:6}].concat(e))}return _createClass(Swimsuit,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:g}]}}]),Swimsuit}()},function(t,e,r){"use strict";r.r(e),r.d(e,"calcGlove",function(){return calcGlove}),r.d(e,"GloveSleevePart",function(){return i}),r.d(e,"GlovePart",function(){return c}),r.d(e,"FingerlessGlovePart",function(){return f}),r.d(e,"BraceletPart",function(){return y}),r.d(e,"Glove",function(){return h}),r.d(e,"GloveSleeve",function(){return n}),r.d(e,"LongGloves",function(){return d}),r.d(e,"FingerlessGloves",function(){return g}),r.d(e,"Bracelet",function(){return P}),r.d(e,"BraceletLeft",function(){return b}),r.d(e,"BraceletRight",function(){return v});var s=r(1),o=r(3),l=r(9),a=r(2),u=r(0),p=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcGlove(t){var e=Object(p.getLimbPointsNegative)(t.collarbone,t.hand.palm,this.armCoverage,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out);return{outerArmPoints:e,innerArmPoints:Object(p.getLimbPointsBellowPoint)({y:e[0].y-3,x:e[0].x},!0,t.armpit,t.elbow.in,t.wrist.in)}}var i=function(){_inherits(GloveSleevePart,s["ClothingPart"]);var n=_createSuper(GloveSleevePart);function GloveSleevePart(){_classCallCheck(this,GloveSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return _createClass(GloveSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;s.Clothes.simpleStrokeFill(e,t,this),0<this.armCoverage?(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[Object(u.extractPoint)(t.hand.palm)],_toConsumableArray(o),[Object(u.extractPoint)(n[0])]))):(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[Object(u.extractPoint)(t.hand.palm)],_toConsumableArray(o),[Object(l.connectEndPoints)(o[o.length-1],n[0])]))),e.fill(),e.stroke(),e.fill(),e.stroke()}}]),GloveSleevePart}(),c=function(){_inherits(GlovePart,s["ClothingPart"]);var n=_createSuper(GlovePart);function GlovePart(){_classCallCheck(this,GlovePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return _createClass(GlovePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints,a=[t.hand.knuckle,t.hand.tip,t.hand.palm,t.thumb.tip,t.thumb.out];0<this.armCoverage?(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),a,_toConsumableArray(o),[Object(u.extractPoint)(n[0])]))):(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),a,_toConsumableArray(o),[Object(l.connectEndPoints)(o[o.length-1],n[0])]))),e.fill(),e.stroke()}}]),GlovePart}(),f=function(){_inherits(FingerlessGlovePart,s["ClothingPart"]);var n=_createSuper(FingerlessGlovePart);function FingerlessGlovePart(){_classCallCheck(this,FingerlessGlovePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return _createClass(FingerlessGlovePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=Object(p.getLimbPointsNegative)(t.collarbone,t.hand.palm,this.armCoverage,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle),n=Object(p.getLimbPointsBellowPoint)({y:r[0].y-3,x:r[0].x},!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out),o=Object(u.splitCurve)(.3,t.hand.knuckle,t.hand.tip),a=Object(u.extractPoint)(o.left.p2);o=Object(u.splitCurve)(.8,t.hand.tip,t.hand.palm);var i=Object(u.extractPoint)(o.left.p2);o=Object(u.splitCurve)(.3,t.thumb.tip,t.thumb.out);var c=Object(u.extractPoint)(o.left.p2);0<this.armCoverage?(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(r),[a,i,Object(u.extractPoint)(t.hand.palm),c],_toConsumableArray(n),[Object(u.extractPoint)(r[0])]))):(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(r),[a,i,Object(u.extractPoint)(t.hand.palm),c],_toConsumableArray(n),[Object(l.connectEndPoints)(n[n.length-1],r[0])]))),e.fill(),e.stroke()}}]),FingerlessGlovePart}(),y=function(){_inherits(BraceletPart,s["ClothingPart"]);var n=_createSuper(BraceletPart);function BraceletPart(){_classCallCheck(this,BraceletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return _createClass(BraceletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;0<this.armCoverage?(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[Object(u.extractPoint)(t.wrist.out),t.wrist.in],_toConsumableArray(o),[Object(u.extractPoint)(n[0])]))):(e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[t.wrist.out,t.wrist.in],_toConsumableArray(o),[Object(l.connectEndPoints)(o[o.length-1],n[0])]))),e.fill(),e.stroke()}}]),BraceletPart}(),h=function(){_inherits(Glove,s["Clothing"]);var n=_createSuper(Glove);function Glove(){_classCallCheck(this,Glove);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:s.Clothes.Layer.BASE,thickness:.8}].concat(e))}return _createClass(Glove,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}}]),Glove}(),n=function(){_inherits(GloveSleeve,h);var n=_createSuper(GloveSleeve);function GloveSleeve(){_classCallCheck(this,GloveSleeve);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.5,thickness:.6}].concat(e))}return _createClass(GloveSleeve,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:i},{side:o.Part.RIGHT,Part:i}]}}]),GloveSleeve}(),d=function(){_inherits(LongGloves,h);var n=_createSuper(LongGloves);function LongGloves(){_classCallCheck(this,LongGloves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.5}].concat(e))}return _createClass(LongGloves,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:c},{side:o.Part.RIGHT,Part:c}]}}]),LongGloves}(),g=function(){_inherits(FingerlessGloves,h);var n=_createSuper(FingerlessGloves);function FingerlessGloves(){_classCallCheck(this,FingerlessGloves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.9}].concat(e))}return _createClass(FingerlessGloves,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:f},{side:o.Part.RIGHT,Part:f}]}}]),FingerlessGloves}(),P=function(){_inherits(Bracelet,h);var n=_createSuper(Bracelet);function Bracelet(){_classCallCheck(this,Bracelet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return _createClass(Bracelet,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:y},{side:o.Part.RIGHT,Part:y}]}}]),Bracelet}(),b=function(){_inherits(BraceletLeft,h);var n=_createSuper(BraceletLeft);function BraceletLeft(){_classCallCheck(this,BraceletLeft);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return _createClass(BraceletLeft,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.RIGHT,Part:y}]}}]),BraceletLeft}(),v=function(){_inherits(BraceletRight,h);var n=_createSuper(BraceletRight);function BraceletRight(){_classCallCheck(this,BraceletRight);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.75}].concat(e))}return _createClass(BraceletRight,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:y}]}}]),BraceletRight}()},function(t,i,e){"use strict";var c=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(i,"__esModule",{value:!0}),i.loadDimensionDescriptions=i.extendDimensionCalc=i.basedimDiscretePool=i.baseDimDesc=void 0;var r=e(45),n=e(21);function adjustLengthByHeight(t,e,r){return void 0===r&&(r=1),t*(1-r)+t*r*e/170}i.baseDimDesc={human:{areolaSize:{linkedPart:""+n.Location.CHEST,units:"mm",low:0,high:50,avg:20,stdev:2,bias:3,calc:function(){return this.getDim("areolaSize")+this.get("pregnancy")}},armThickness:{linkedPart:""+n.Location.ARM,units:"mm",low:45,high:95,avg:65,stdev:3,bias:-7,calc:function(){return adjustLengthByHeight(this.getDim("armThickness")-.5*this.get("fem"),this.getDim("height"),.2)}},armLength:{linkedPart:""+n.Location.ARM,units:"cm",low:30,high:80,avg:45,stdev:2,bias:0,calc:function(){return adjustLengthByHeight(this.getDim("armLength"),this.getDim("height"))}},bellyProtrusion:{linkedPart:""+n.Location.TORSO,units:"cm",low:0,high:60,avg:0,stdev:0,bias:0,calc:function(){return this.getDim("bellyProtrusion")+5*this.get("pregnancy")}},breastSize:{linkedPart:""+n.Location.CHEST,units:"cm",low:-10,high:50,avg:-1,stdev:5,bias:20,calc:function(){return this.getDim("breastSize")+.1*this.get("fem")+.7*this.get("pregnancy")}},buttFullness:{linkedPart:""+n.Location.BUTT,units:"arbitrary",low:0,high:40,avg:10,stdev:2,bias:4,calc:function(){return this.getDim("buttFullness")+.2*this.get("fem")}},chinWidth:{linkedPart:""+n.Location.HEAD,units:"mm",low:30,high:140,avg:70,stdev:2,bias:-2},eyelashLength:{linkedPart:""+n.Location.EYELASH,units:"mm",low:0,high:15,avg:3,stdev:2,bias:3},eyeSize:{linkedPart:""+n.Location.EYES,units:"mm",low:0,high:40,avg:15,stdev:2,bias:3},faceFem:{linkedPart:""+n.Location.HEAD,units:"arbitrary",low:0,high:40,avg:15,stdev:2,bias:14,calc:function(){return this.getDim("faceFem")+.5*this.get("fem")}},faceLength:{linkedPart:""+n.Location.HEAD,units:"mm",low:180,high:270,avg:230,stdev:5,bias:-2},faceWidth:{linkedPart:""+n.Location.HEAD,units:"mm",low:75,high:105,avg:93,stdev:2,bias:-2,calc:function(){return this.getDim("faceWidth")-.5*this.get("fem")}},feetLength:{linkedPart:""+n.Location.FEET,units:"mm",low:30,high:800,avg:240,stdev:30,bias:-40},feetWidth:{linkedPart:""+n.Location.FEET,units:"mm",low:0,high:120,avg:55,stdev:4,bias:-5},hairLength:{linkedPart:""+n.Location.HAIR,units:"cm",low:0,high:110,avg:6,stdev:2,bias:10,calc:function(){return this.getDim("hairLength")+this.get("fem")}},hairStyle:{linkedPart:""+n.Location.HAIR,desc:"Index of base hair style to be worn (individual parts can be swapped afterwards)",units:"index",low:0,high:r.styles.length-1,avg:r.styles.length/2,stdev:2,bias:0,calc:function(){var t=Math.round(this.getDim("hairStyle"));return t<0?0:t>r.styles.length-1?r.styles.length-1:t}},hairHue:{linkedPart:""+n.Location.HAIR,units:"degree",low:0,high:360,avg:30,stdev:30,bias:0},hairSaturation:{linkedPart:""+n.Location.HAIR,units:"%",low:0,high:100,avg:50,stdev:10,bias:0},hairLightness:{linkedPart:""+n.Location.HAIR,units:"%",low:0,high:100,avg:30,stdev:10,bias:0},handSize:{linkedPart:""+n.Location.HAND,units:"mm",low:0,high:200,avg:100,stdev:5,bias:-10,calc:function(){return adjustLengthByHeight(this.getDim("handSize")-.3*this.get("fem"),this.getDim("height"),.4)}},height:{units:"cm",low:50,high:270,avg:167,stdev:3,bias:-5},hipWidth:{linkedPart:""+n.Location.TORSO,units:"mm",low:70,high:200,avg:125,stdev:2.5,bias:3,calc:function(){return this.getDim("hipWidth")+2*this.get("fem")}},legFem:{linkedPart:""+n.Location.LEG,units:"arbitrary",low:0,high:40,avg:13,stdev:2,bias:9,calc:function(){return this.getDim("legFem")+.6*this.get("fem")}},legFullness:{linkedPart:""+n.Location.LEG,desc:"Approximately how thick the leg is as a combination of fat and muscle",units:"arbitrary",low:0,high:40,avg:10,stdev:3,bias:2,calc:function(){return this.getDim("legFullness")+.5*this.get("fem")}},legLength:{linkedPart:""+n.Location.LEG,units:"cm",low:20,high:200,avg:95,stdev:2.5,bias:4,calc:function(){return adjustLengthByHeight(this.getDim("legLength"),this.getDim("height"))}},lipSize:{linkedPart:""+n.Location.LIPS,units:"mm",low:0,high:40,avg:14,stdev:1.5,bias:2,calc:function(){return this.getDim("lipSize")+.05*this.get("fem")}},lowerMuscle:{linkedPart:""+n.Location.LEG,units:"arbitrary",low:0,high:40,avg:16,stdev:3,bias:-17,calc:function(){return this.getDim("lowerMuscle")-this.get("fem")}},neckLength:{linkedPart:""+n.Location.NECK,units:"mm",low:0,high:120,avg:72,stdev:5,bias:0},neckWidth:{linkedPart:""+n.Location.NECK,units:"mm",low:35,high:75,avg:45,stdev:2,bias:-2},penisSize:{linkedPart:""+n.Location.GENITALS,units:"mm",low:0,high:200,avg:20,stdev:5,bias:-20,calc:function(){return this.getDim("penisSize")-.5*this.get("fem")+.5*this.getMod("arousal")}},shoulderWidth:{linkedPart:""+n.Location.CHEST,units:"mm",low:0,high:200,avg:73,stdev:2,bias:-7,calc:function(){return adjustLengthByHeight(this.getDim("shoulderWidth")-.3*this.get("fem"),this.getDim("height"),.4)}},skin:{units:"arbitrary",low:-20,high:50,avg:7,stdev:5},testicleSize:{linkedPart:""+n.Location.GENITALS,units:"mm",low:0,high:100,avg:35,stdev:4,bias:-20,calc:function(){return this.getDim("testicleSize")-this.get("fem")}},upperMuscle:{linkedPart:""+n.Location.CHEST,units:"arbitrary",low:0,high:40,avg:14,stdev:3,bias:-15,calc:function(){return this.getDim("upperMuscle")-.5*this.get("fem")}},vaginaSize:{linkedPart:""+n.Location.GENITALS,units:"mm",low:0,high:100,avg:40,stdev:10,bias:5,calc:function(){return this.getDim("vaginaSize")+this.Mods.labiaFullness+.2*this.Mods.arousal}},waistWidth:{linkedPart:""+n.Location.TORSO,units:"mm",low:70,high:150,avg:120,stdev:3,bias:-3,calc:function(){return this.getDim("waistWidth")-this.get("fem")+this.getDim("upperMuscle")}}}},i.basedimDiscretePool={eyecolor:["white"]},i.extendDimensionCalc=function extendDimensionCalc(n,o){var t,e,r;"string"==typeof n&&(e=(t=n.split("."))[0],r=t[1],n=i.baseDimDesc[e][r]);var a=n.calc;n.calc=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t=a?a.call.apply(a,c([this],e)):this.getDim(n.name),o.call.apply(o,c([this,t],e))}},i.loadDimensionDescriptions=function loadDimensionDescriptions(){for(var t in i.baseDimDesc)if(!1!==i.baseDimDesc.hasOwnProperty(t)){var e=i.baseDimDesc[t];for(var r in e)e.hasOwnProperty(r)&&(e[r].name=r)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Materials=void 0,e.Materials={brownFur:Object.freeze({stroke:"#663300",fill:"#ac7339",coverConceal:["this"]}),sheerFabric:Object.freeze({stroke:"#000",fill:"rgba(0,0,0,0.8)"})}},function(t,e,r){"use strict";r.r(e),r.d(e,"CapBasePart",function(){return c}),r.d(e,"CapBandPart",function(){return s}),r.d(e,"calcCap",function(){return calcCap}),r.d(e,"Hat",function(){return p}),r.d(e,"SimpleCap",function(){return n}),r.d(e,"BandedCap",function(){return f});var i=r(1),o=r(2),l=r(6),u=r(0),a=r(4);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(CapBasePart,i["ClothingPart"]);var n=_createSuper(CapBasePart);function CapBasePart(){_classCallCheck(this,CapBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ABOVE_HAIR,loc:"head"},{height:4.5,sideBias:-.15,curvature:7,headCoverage:.2,sideOffset:2.3}].concat(e))}return _createClass(CapBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcCap.call(this,t),n=r.rightBot,o=r.leftBot,a=r.top;i.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,n,o,a,n),e.fill(),e.stroke()}}]),CapBasePart}(),s=function(){_inherits(CapBandPart,i["ClothingPart"]);var n=_createSuper(CapBandPart);function CapBandPart(){_classCallCheck(this,CapBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ABOVE_HAIR,loc:"+head",aboveParts:["clothingParts head"]},{bandWidth:1.6,bandPattern:"black"}].concat(e))}return _createClass(CapBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcCap.call(this,t),n=r.rightBot,o=r.leftBot,a=r.top,i=Object(u.adjust)(Object(u.getPointOnCurve)(.1*this.bandWidth,o,a),-.5,0),c=Object(u.adjust)(Object(u.getPointOnCurve)(1-.1*this.bandWidth,a,n),.5,0);c.cp1=Object(u.adjust)(o.cp1,0,c.y-n.y),i.cp1=Object(u.simpleQuadratic)(o,i,.5,1);var s=Object(u.extractPoint)(n);s.cp1=Object(u.simpleQuadratic)(c,s,.5,1),Object(l.setStrokeAndFill)(e,{fill:this.bandPattern,stroke:this.stroke},t),e.beginPath(),Object(u.drawPoints)(e,n,o,i,c,s),e.fill(),e.stroke()}}]),CapBandPart}();function calcCap(t){var e=Object(u.adjust)(Object(u.getPointOnCurve)(this.headCoverage,t.skull.side,t.skull.bot),this.sideOffset,0),r={x:-e.x,y:e.y};r.cp1=Object(u.simpleQuadratic)(e,r,this.sideBias+.5,-this.curvature);var n={x:.5*this.sideBias*e.x,y:t.skull.y+this.height},o=Object(a.averagePoint)(r,n,.65).y;return n.cp1={x:r.x-2,y:o},n.cp2={x:Object(a.averagePoint)(r,n,.5).x,y:n.y},e.cp1={x:Object(a.averagePoint)(e,n,.5).x,y:n.y},e.cp2={x:e.x+2,y:o},{rightBot:e,leftBot:r,top:n}}var p=function(){_inherits(Hat,i["Clothing"]);var n=_createSuper(Hat);function Hat(){_classCallCheck(this,Hat);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:i.Clothes.Layer.OUTER}].concat(e))}return Hat}(),n=function(){_inherits(SimpleCap,p);var n=_createSuper(SimpleCap);function SimpleCap(){_classCallCheck(this,SimpleCap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(SimpleCap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),SimpleCap}(),f=function(){_inherits(BandedCap,p);var n=_createSuper(BandedCap);function BandedCap(){_classCallCheck(this,BandedCap);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(BandedCap,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c},{side:null,Part:s}]}}]),BandedCap}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.loaded=void 0;var n=r(96),o=r(49),a=r(38),i=r(29);e.loaded=!1,e.load=function load(){return new Promise(function(t){i.loadDimensionDescriptions(),a.loadMods(),o.loadSerialization(),n.default(),e.loaded=!0,t()})}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function g4(){throw new i}var o=c?function(){try{return g4}catch(t){try{return c(arguments,"callee").get}catch(t){return g4}}}():g4,a=r(123)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(12).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function X4(){throw new i}var o=c?function(){try{return X4}catch(t){try{return c(arguments,"callee").get}catch(t){return X4}}}():X4,a=r(61)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(12).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function M5(){throw new i}var o=c?function(){try{return M5}catch(t){try{return c(arguments,"callee").get}catch(t){return M5}}}():M5,a=r(136)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(12).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function B6(){throw new i}var o=c?function(){try{return B6}catch(t){try{return c(arguments,"callee").get}catch(t){return B6}}}():B6,a=r(65)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(12).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function q7(){throw new i}var o=c?function(){try{return q7}catch(t){try{return c(arguments,"callee").get}catch(t){return q7}}}():q7,a=r(66)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u=n,p=n,f=n,y="undefined"==typeof Uint8Array?n:s(Uint8Array),h={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":p,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":f&&a&&Symbol.asyncIterator?f[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":l,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":y,"%TypedArrayPrototype%":y?y.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},d=r(12).call(Function.call,String.prototype.replace),g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return d(t,g,function(t,e,r,n){o[o.length]=r?d(n,P,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in h))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===h[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return h[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.loadMods=o.modDiscretePool=o.modLimits=void 0;var r=e(39),n=e(29),a=e(21),i=e(40);o.modLimits={armRotation:{linkedPart:""+a.Location.ARM,units:"degree",low:-40,high:40,avg:0,stdev:0,bias:0},arousal:{units:"arbitrary",low:0,high:100,avg:10,stdev:5,bias:0},breastPerkiness:{linkedPart:""+a.Location.CHEST,desc:"counter sagging effect when breasts grow too large",units:"arbitrary",low:-10,high:20,avg:0,stdev:2,bias:0},browBotCurl:{linkedPart:""+a.Location.EYEBROW,desc:"How much the bottom of the eyebrow curls up or down; 0 is flat",units:"mm",low:-10,high:15,avg:3,stdev:2,bias:3},browTopCurl:{linkedPart:""+a.Location.EYEBROW,desc:"How much the top of the eyebrow curls up or down; 0 is flat",units:"mm",low:-10,high:15,avg:8,stdev:2,bias:1},browCloseness:{linkedPart:""+a.Location.EYEBROW,units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browHeight:{linkedPart:""+a.Location.EYEBROW,units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browLength:{linkedPart:""+a.Location.EYEBROW,units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},browSharpness:{linkedPart:""+a.Location.EYEBROW,units:"arbitrary",low:-10,high:10,avg:0,stdev:2,bias:0},browThickness:{linkedPart:""+a.Location.EYEBROW,units:"mm",low:-10,high:10,avg:0,stdev:1,bias:-1.5},browOutBias:{linkedPart:""+a.Location.EYEBROW,desc:"Whether the top of the outer brow ends inside or outside the bottom",units:"mm",low:-10,high:10,avg:-1,stdev:2,bias:0},browTilt:{linkedPart:""+a.Location.EYEBROW,units:"degree",low:-20,high:20,avg:5,stdev:4,bias:0},cheekFullness:{linkedPart:""+a.Location.HEAD,units:"arbitrary",low:-20,high:20,avg:0,stdev:3,bias:0},chinLength:{linkedPart:""+a.Location.HEAD,units:"mm",low:-30,high:30,avg:0,stdev:3,bias:0},earlobeLength:{linkedPart:""+a.Location.EAR,low:-2,high:4,avg:0,stdev:.2,bias:0},eyeBias:{linkedPart:""+a.Location.EYES,desc:"Whether the eyes bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:1,stdev:2,bias:0},eyeCloseness:{linkedPart:""+a.Location.EYES,units:"mm",low:-100,high:100,avg:0,stdev:5,bias:0},eyeBotBias:{linkedPart:""+a.Location.EYES,desc:"Whether the eye bottom bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:0,stdev:2,bias:0},eyeBotSize:{linkedPart:""+a.Location.EYES,desc:"How much does the bottom of the eyes dip",units:"mm",low:-20,high:20,avg:0,stdev:0,bias:1},eyeHeight:{linkedPart:""+a.Location.EYES,units:"mm",low:-15,high:10,avg:-3,stdev:2,bias:0},eyeTilt:{linkedPart:""+a.Location.EYES,units:"degree",low:-20,high:30,avg:2,stdev:4,bias:0},eyeTopSize:{linkedPart:""+a.Location.EYES,desc:"How much does the top of the eyes curve",units:"mm",low:-10,high:8,avg:0,stdev:.5,bias:0},eyeWidth:{linkedPart:""+a.Location.EYES,units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},eyelashBias:{linkedPart:""+a.Location.EYELASH,desc:"Whether the eyelashes bias towards the inside or outside",units:"arbitrary",low:-10,high:20,avg:5,stdev:1,bias:0},eyelashAngle:{linkedPart:""+a.Location.EYELASH,desc:"Whether the eyelash points down or up",units:"arbitrary",low:-1,high:1,avg:.9,stdev:0,bias:0},eyelidBias:{linkedPart:""+a.Location.EYELID,desc:"Whether the eyelids bias towards the inside or outside",units:"arbitrary",low:-10,high:10,avg:1,stdev:2,bias:0},eyelidHeight:{linkedPart:""+a.Location.EYELID,units:"mm",low:-6,high:12,avg:0,stdev:2,bias:0},feetBias:{linkedPart:""+a.Location.FEET,desc:"Relative importance of inner toes vs outer toes",units:"arbitrary",low:-10,high:20,avg:0,stdev:2,bias:0},hairAccessoryHue:{linkedPart:""+a.Location.HAIR,units:"degree",low:0,high:360,avg:360,stdev:50,bias:0},hairAccessorySaturation:{linkedPart:""+a.Location.HAIR,units:"%",low:0,high:100,avg:80,stdev:5,bias:0},hairAccessoryLightness:{linkedPart:""+a.Location.HAIR,units:"%",low:0,high:100,avg:50,stdev:10,bias:0},handRotation:{linkedPart:""+a.Location.HAND,units:"degree",low:-40,high:40,avg:0,stdev:0,bias:0},irisHeight:{linkedPart:""+a.Location.IRIS,units:"mm",low:-10,high:10,avg:0,stdev:1,bias:0},irisHue:{linkedPart:""+a.Location.IRIS,units:"degree",low:0,high:360,avg:30,stdev:30,bias:0},irisSaturation:{linkedPart:""+a.Location.IRIS,units:"%",low:0,high:100,avg:50,stdev:10,bias:0},irisLightness:{linkedPart:""+a.Location.IRIS,units:"%",low:0,high:100,avg:20,stdev:10,bias:0},irisSize:{linkedPart:""+a.Location.IRIS,desc:"Diameter of the iris",units:"mm",low:0,high:50,avg:16,stdev:1.5,bias:0},jawJut:{linkedPart:""+a.Location.HEAD,units:"mm",low:-10,high:10,avg:0,stdev:.5,bias:0},limbalRingSize:{linkedPart:""+a.Location.IRIS,desc:"Width of the limbal ring (dark ring surrounding iris)",units:"um",low:0,high:100,avg:20,stdev:5,bias:0},lipBias:{linkedPart:""+a.Location.LIPS,desc:"Whether the top lip sits above the bottom lip or vise versa",units:"arbitrary",low:-50,high:50,avg:10,stdev:10,bias:0},lipCupidsBow:{linkedPart:""+a.Location.LIPS,units:"mm",low:-100,high:30,avg:0,stdev:20,bias:0},lipCurl:{linkedPart:""+a.Location.LIPS,units:"arbitrary",low:-20,high:20,avg:0,stdev:5,bias:0},lipHeight:{linkedPart:""+a.Location.LIPS,units:"mm",low:-10,high:10,avg:0,stdev:1.2,bias:0},lipTopCurve:{linkedPart:""+a.Location.LIPS,units:"arbitrary",low:-50,high:50,avg:0,stdev:10,bias:0},lipTopSize:{linkedPart:""+a.Location.LIPS,units:"um",low:-20,high:60,avg:8,stdev:4,bias:0},lipBotSize:{linkedPart:""+a.Location.LIPS,units:"mm",low:-80,high:100,avg:30,stdev:10,bias:3},lipParting:{linkedPart:""+a.Location.LIPS,units:"um",low:0,high:100,avg:0,stdev:0,bias:0},lipWidth:{linkedPart:""+a.Location.LIPS,units:"mm",low:-250,high:100,avg:0,stdev:30,bias:-70},lipHue:{linkedPart:""+a.Location.LIPS,units:"degree",low:-180,high:180,avg:0,stdev:4,bias:0},lipSaturation:{linkedPart:""+a.Location.LIPS,units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},lipLightness:{linkedPart:""+a.Location.LIPS,units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},nippleHue:{linkedPart:""+a.Location.CHEST,units:"degree",low:-180,high:180,avg:0,stdev:2,bias:0},nippleSaturation:{linkedPart:""+a.Location.CHEST,units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},nippleLightness:{linkedPart:""+a.Location.CHEST,units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},neckCurve:{linkedPart:""+a.Location.NECK,units:"mm",low:-20,high:10,avg:-5,stdev:3,bias:-2},noseHeight:{linkedPart:""+a.Location.NOSE,units:"mm",low:-10,high:10,avg:0,stdev:4,bias:0},noseLength:{linkedPart:""+a.Location.NOSE,units:"mm",low:0,high:70,avg:45,stdev:3,bias:0},noseRidgeHeight:{linkedPart:""+a.Location.NOSE,units:"mm",low:-10,high:10,avg:0,stdev:2,bias:0},noseRoundness:{linkedPart:""+a.Location.NOSE,units:"arbitrary",low:-6,high:10,avg:0,stdev:2,bias:0},noseWidth:{linkedPart:""+a.Location.NOSE,units:"mm",low:10,high:30,avg:18,stdev:2,bias:-1},nostrilSize:{linkedPart:""+a.Location.NOSE,units:"mm",low:5,high:30,avg:10,stdev:2,bias:0},pupilSize:{linkedPart:""+a.Location.PUPIL,desc:"Diameter of the pupil",units:"mm",low:0,high:20,avg:10,stdev:.5,bias:0},labiaFullness:{linkedPart:""+a.Location.GENITALS,desc:"How puffy the labia is",units:"arbitrary",low:-10,high:10,avg:0,stdev:1,bias:1},penisThickness:{linkedPart:""+a.Location.GENITALS,units:"um",low:-30,high:30,avg:0,stdev:4,bias:-4},shoeHeight:{units:"mm",low:0,high:300,avg:0,stdev:0,bias:0},skinHue:{units:"degree",low:-180,high:180,avg:0,stdev:2,bias:0},skinSaturation:{units:"%",low:-20,high:20,avg:0,stdev:2,bias:0},skinLightness:{units:"%",low:-20,high:20,avg:0,stdev:2,bias:0}},o.modDiscretePool={},o.loadMods=function loadMods(){[r.statLimits,i.vitalLimits,n.baseDimDesc.human].forEach(function(t){Object.entries(t).forEach(function(t){var e,r=t[0],n=t[1];o.modLimits.hasOwnProperty(r)||(e=n.high-n.low,o.modLimits[r]={low:-1e9,high:1e9,avg:0,stdev:.01*e,bias:0},n.linkedPart&&(o.modLimits[r].linkedPart=n.linkedPart))})})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statDiscretePool=e.statLimits=void 0,e.statLimits={fem:{desc:"how overall feminine their appearance is; influences a lot of dimensions",low:0,high:11,avg:5,stdev:1,bias:2},pregnancy:{desc:"stages of pregnancy affecting belly protrusion",low:0,high:10,avg:0,stdev:0,bias:0}},e.statDiscretePool={skeleton:["human"]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.vitalLimits=void 0,e.vitalLimits={pleasure:{display:"PL♥",color:"#FF69B4",low:0,high:100,avg:100,stdev:6,bias:0,calc:function(){return this.getBaseVitals("pleasure")}},stamina:{display:"STM",color:"hsl(80, 50%, 50%)",low:0,high:500,avg:30,stdev:6,bias:0,calc:function(){return this.getBaseVitals("stamina")}},sanity:{display:"SAN",color:"hsl(30, 50%, 50%)",low:0,high:100,avg:50,stdev:6,bias:0}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndShow=e.createTransformation=e.getBiasMod=e.removeMods=e.applyMods=e.getDefault=void 0,e.getDefault=function getDefault(r,n){return function run(){var t={};for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e].avg);if(n)for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e][0]);return t}},e.applyMods=function applyMods(t,e){for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?t[r]+=e[r]:t[r]=e[r])},e.removeMods=function removeMods(t,e){for(var r in e)e.hasOwnProperty(r)&&t.hasOwnProperty(r)&&(t[r]-=e[r])},e.getBiasMod=function getBiasMod(t,e){return t.hasOwnProperty("bias")?t.bias:1},e.createTransformation=function createTransformation(r,t,n){var o=0;return{object:r,transform:function transform(t){var e=t;return 1<o+t?(e=1-o,o=1):o+=t,function performTransformation(t,e,r){for(var n in e)if(e.hasOwnProperty(n)&&t.hasOwnProperty(n))switch(typeof e[n]){case"object":performTransformation(t[n],e[n],r);break;case"number":t[n]+=e[n]*r;break;default:console.log("unrecognized transformation property type "+typeof e[n]+" for "+n)}}(r,n,e),o},showTransformation:t}},e.transformAndShow=function transformAndShow(a,i){void 0===i&&(i=5e3);var c=null;return new Promise(function(o){window.requestAnimationFrame(function doTransform(t){var e=null===c?0:t-c;c=t;var r=e/i,n=a.transform(r);a.showTransformation(n),n<1?window.requestAnimationFrame(doTransform):o()})})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Skeleton=void 0,e.Skeleton={human:{}}},function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Items=e.Item=void 0;var o=r(2),a=r(25),i=(Item.prototype.renderItemLocation=function(){return this.hasOwnProperty("x")&&this.hasOwnProperty("y")?{x:this.x,y:this.y}:null},Item.prototype.modifyPose=function(){},Item.prototype.restorePose=function(){},Item);function Item(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Object.assign.apply(Object,n([this,{layer:o.Layer.BASE}],t)),!1===this.hasOwnProperty("name"))throw new Error("Constructing item with no name!");if(!1===this.hasOwnProperty("src"))throw new Error("Constructing item with no src!")}e.Item=i;var c={};e.Items={getItemRender:function(t){if(c.hasOwnProperty(t.name))return c[t.name];throw new Error("Item not loaded yet: "+t.name)},loadItem:function(n,o){void 0===o&&(o=!0);var t=this;c.hasOwnProperty(n.name)||a.patternLoadingQueue.push(new Promise(function(t,e){var r=new Image;r.onload=function(){c[n.name]=r,t()},r.onerror=function(){console.warn(Error("failed to load "+n.src+". Retrying with different CORS settings")),e()},o&&(r.crossOrigin="anonymous"),r.src=n.src}).catch(function(){return o?t.loadItem(n,!1):void alert(Error("failed to load "+n.src))}))},create:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(t.bind.apply(t,n([void 0],e)))}}},function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.Tattoos=e.Tattoo=void 0;var o=r(2),a=r(4),i=r(3),c=(Tattoo.prototype.renderTattooLocation=function(t){return a.locateRelativeToDrawpoint(t,this.relativeLocation)},Tattoo);function Tattoo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Object.assign.apply(Object,n([this,{layer:o.Layer.BASE,side:i.Part.RIGHT,rotation:0,width:20,loc:"+arm",ignoreClip:!1}],t)),this.loc.startsWith("+")||(this.loc="+"+this.loc);var r=a.extractBaseLocation(this.loc);if(this.aboveParts=["parts "+r,"decorativeParts "+r],this.belowParts=["clothingParts "+r],this.side=a.getSideValue(this.side),!1===this.hasOwnProperty("name"))throw new Error("Constructing tattoo with no name!");if(!1===this.hasOwnProperty("src"))throw new Error("Constructing tattoo with no src!");if(!1===this.hasOwnProperty("relativeLocation"))throw new Error("Constructing tattoo without relativeLocation object")}e.Tattoo=c;var s={};e.Tattoos={getRender:function(t){if(s.hasOwnProperty(t.name))return s[t.name];throw new Error("Tattoo not loaded yet: "+t.name)},loadTattoo:function(n,o){void 0===o&&(o=!0);var t=this;s.hasOwnProperty(n.name)||a.patternLoadingQueue.push(new Promise(function(t,e){var r=new Image;r.onload=function(){s[n.name]=r,t()},r.onerror=function(){console.warn(Error("failed to load tattoo '"+n.name+"' from "+n.src+". Retrying with different CORS settings")),e()},o&&(r.crossOrigin="anonymous"),r.src=n.src}).catch(function(){return o?t.loadTattoo(n,!1):void alert(Error("failed to load tattoo '"+n.name+"' from "+n.src))}))},create:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new(c.bind.apply(c,n([void 0],e)))}}},function(t,e,r){"use strict";r.r(e),r.d(e,"styles",function(){return x});var o=r(7),m=r(0),p=r(2),a=r(3),i=r(10);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){_inherits(AsianBunBack,o["HairPart"]);var n=_createSuper(AsianBunBack);function AsianBunBack(){_classCallCheck(this,AsianBunBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairBack,{coverConceal:["head"]}].concat(e))}return _createClass(AsianBunBack,[{key:"renderHairPoints",value:function renderHairPoints(e,r,t,n){var o,a,i,c=this.hairLength;function drawBackBuns(){var t=Object(m.adjust)(r.neck.top,1,-1);e.beginPath(),e.ellipse(t.x,t.y,.08*c,.06*c,.25*Math.PI,0,2*Math.PI),e.fill(),e.stroke()}drawBackBuns(),e.scale(-1,1),drawBackBuns(),e.scale(-1,1),10<(c=this.hairLength)&&(a={x:(o={x:0,y:r.skull.y+3}).x+.13*c,y:o.y+.05*c},i={x:o.x+.1*c,y:o.y+.1*c},e.save(),e.beginPath(),e.strokeStyle=n.hairAccessoryColor,Object(m.drawPoints)(e,o,a),e.stroke(),e.restore(),e.beginPath(),e.ellipse(o.x,o.y,.1*c,.06*c,0,0,2*Math.PI),e.fill(),e.stroke(),e.beginPath(),e.save(),e.strokeStyle=n.hairAccessoryColor,Object(m.drawPoints)(e,Object(m.adjust)(o,1+.02*c,1+.02*c),i),e.stroke(),e.restore())}}]),AsianBunBack}(),c=function(){_inherits(LargeSideBangShading,i["ShadingPart"]);var n=_createSuper(LargeSideBangShading);function LargeSideBangShading(){_classCallCheck(this,LargeSideBangShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:p.Layer.HAIR,forcedSide:a.Part.LEFT}].concat(e))}return _createClass(LargeSideBangShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r,n,o){var a=Object(m.clamp)(o.dim.hairLength,0,50),i=calcLargeSideBang.call(this,t,a),c=i.tip,s=i.bot,l=_slicedToArray(Object(m.adjustPoints)(.03*-a,.04*-a,c.cp1,c.cp2),2),u=l[0],p=l[1],f=_slicedToArray(Object(m.adjustPoints)(.06*a,.05*a,c.cp1,c.cp2),2),y=f[0],h=f[1];return s.cp1=h,s.cp2=y,c.cp1=u,c.cp2=p,[s,c,s]}}]),LargeSideBangShading}(),s=function(){_inherits(AsianBunFront,o["HairPart"]);var n=_createSuper(AsianBunFront);function AsianBunFront(){_classCallCheck(this,AsianBunFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront,{shadingParts:[c]}].concat(e))}return _createClass(AsianBunFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=Object(m.clamp)(this.hairLength,0,70),n={x:e.skull.x-2,y:e.skull.y+3},o=Object(m.adjust)(e.skull.side,1,0);o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4,y:o.y+3},n.cp2={x:n.x,y:n.y-this.faceLength/15},t.beginPath(),Object(m.drawPoints)(t,n,o,n),t.fill(),t.stroke();var a=Object(m.clamp)(this.hairLength,0,50);t.save();var i=calcLargeSideBang.call(this,e,a),c=i.tip,s=i.out,l=i.bot;t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,c,s,l,c),t.fill(),t.stroke(),t.restore()}}]),AsianBunFront}();function calcLargeSideBang(t,e){var r={x:t.skull.x-2,y:t.skull.y+3},n=Object(m.adjust)(t.skull.side,1+.03*e,Object(m.clamp)(2-.05*e,-3,2));n.cp2.x=n.x,n.cp2.y-=2,n.cp1.x+=.05*e,n.cp1.y+=2+.04*e;var o,a={x:n.x-Object(m.clamp)(.1*e,0,10),y:n.y-Object(m.clamp)(e,0,20)};return a.x=Object(m.clamp)(a.x,13,n.x),a.cp2={x:Object(m.clamp)(a.x+.08*e,0,Math.POSITIVE_INFINITY),y:a.y+2+.07*e},5<e&&(a.x-=.1*(e-5),20<e&&(o=e-20,a=Object(m.adjust)(a,.02*-o,.15*-o))),a.cp1=Object(m.continueCurve)(r,n),r.cp1=Object(m.scale)(a.cp2,2,a),r.cp1.y=n.y,r.cp2={x:r.x-8,y:r.y-this.faceLength/15},e<10&&(r.cp2.y-=.5*(10-e)),{tip:r,out:n,bot:a}}function curly_tail_typeof(t){return(curly_tail_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function curly_tail_slicedToArray(t,e){return function curly_tail_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function curly_tail_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function curly_tail_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return curly_tail_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return curly_tail_arrayLikeToArray(t,e)}(t,e)||function curly_tail_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function curly_tail_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function curly_tail_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function curly_tail_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function curly_tail_createClass(t,e,r){return e&&curly_tail_defineProperties(t.prototype,e),r&&curly_tail_defineProperties(t,r),t}function curly_tail_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&curly_tail_setPrototypeOf(t,e)}function curly_tail_setPrototypeOf(t,e){return(curly_tail_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function curly_tail_createSuper(r){var n=function curly_tail_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=curly_tail_getPrototypeOf(r);return function curly_tail_possibleConstructorReturn(t,e){return!e||"object"!==curly_tail_typeof(e)&&"function"!=typeof e?function curly_tail_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=curly_tail_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function curly_tail_getPrototypeOf(t){return(curly_tail_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(){curly_tail_inherits(CurlyTailFront,o["HairPart"]);var n=curly_tail_createSuper(CurlyTailFront);function CurlyTailFront(){curly_tail_classCallCheck(this,CurlyTailFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront].concat(e))}return curly_tail_createClass(CurlyTailFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=Object(m.clamp)(this.hairLength,0,70),n={x:e.skull.x+.02*r,y:e.skull.y+3},o=Object(m.splitCurve)(Object(m.clamp)(.75+.0045*r,0,1.1),n,e.skull.side).left.p2;o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4+.03*r,y:o.y+3+.1*r},n.cp2={x:n.x,y:n.y-this.faceLength/15-.05*r},t.beginPath(),Object(m.drawPoints)(t,n,o,n),t.fill(),t.stroke();var a=calcCurlyTop(e,r),i=a.tip,c=a.out,s=a.bot;c.cp2.y-=.03*r,c.cp2.x+=.01*r,c.cp1.x+=.05*r,c.cp1.y+=4+.05*r,s.cp1={x:c.x,y:Object(m.clamp)(c.y-5-.05*r,s.y,c.y)},s.cp2={x:Object(m.clamp)(s.x+.07*r,0,c.x),y:s.y+2+.07*r},i.cp1=Object(m.scale)(s.cp2,3,s),i.cp2={x:i.x-7,y:i.y-this.faceLength/20},r<10&&(i.cp2.y-=.5*(10-r));var l=Object(m.splitCurve)(.5,s,i),u=curly_tail_slicedToArray(Object(m.drawSpecificCurl)({x:l.left.p2.x,y:l.left.p2.y,deflection:.03*-r},{x:l.left.p2.x,y:l.left.p2.y-.08*r},{x:i.x,y:i.y,deflection:-5}),3),p=u[0],f=u[1],y=u[2];y.cp2=l.right.p2.cp2,p.cp1=l.left.p2.cp1,p.cp2=l.left.p2.cp2,t.save(),t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,i,c,s,p,f,y),t.fill(),t.stroke(),t.restore()}}]),CurlyTailFront}(),u=function(){curly_tail_inherits(CurlyTailMedium,o["HairPart"]);var n=curly_tail_createSuper(CurlyTailMedium);function CurlyTailMedium(){curly_tail_classCallCheck(this,CurlyTailMedium);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairMedium].concat(e))}return curly_tail_createClass(CurlyTailMedium,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,c,s=this.hairLength,l=s-40;0<l&&(n=(r=calcCurlyTop(e,Object(m.clamp)(s,0,70))).out,(a={x:(o=r.bot).x+.04*l,y:o.y-.35*l,cp1:{x:o.x,y:o.y-.2*l}}).cp2={x:a.x,y:a.y+.15*l},(i={x:o.x-.1*l,y:o.y-l,cp1:{x:a.x,y:a.y-.3*l}}).cp2={x:i.x-.05*l,y:i.y+.4*l},(c=Object(m.extractPoint)(e.neck.top)).cp1={x:i.x-.3*l,y:i.y+.2*l},c.cp2={x:c.x,y:c.y-.05*l},t.save(),t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,o,a,i,c,n),t.fill(),t.stroke(),t.restore())}}]),CurlyTailMedium}();function calcCurlyTop(t,e){var r={x:t.skull.x-.08*e,y:t.skull.y+3},n=Object(m.adjust)(t.skull.side,1+.03*e,Object(m.clamp)(2-.05*e,-3,2)),o={x:n.x-Object(m.clamp)(.05*e,0,10),y:n.y-Object(m.clamp)(.25*e,0,25)};return 50<e&&(o.x+=.06*(e-50)),{tip:r,out:n,bot:o}}var S=r(8);function hime_cut_slicedToArray(t,e){return function hime_cut_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function hime_cut_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function hime_cut_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return hime_cut_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hime_cut_arrayLikeToArray(t,e)}(t,e)||function hime_cut_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hime_cut_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hime_cut_typeof(t){return(hime_cut_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hime_cut_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hime_cut_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hime_cut_createClass(t,e,r){return e&&hime_cut_defineProperties(t.prototype,e),r&&hime_cut_defineProperties(t,r),t}function hime_cut_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hime_cut_setPrototypeOf(t,e)}function hime_cut_setPrototypeOf(t,e){return(hime_cut_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hime_cut_createSuper(r){var n=function hime_cut_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hime_cut_getPrototypeOf(r);return function hime_cut_possibleConstructorReturn(t,e){return!e||"object"!==hime_cut_typeof(e)&&"function"!=typeof e?function hime_cut_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hime_cut_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hime_cut_getPrototypeOf(t){return(hime_cut_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(){hime_cut_inherits(HimeCutFrontShading,i["ShadingPart"]);var n=hime_cut_createSuper(HimeCutFrontShading);function HimeCutFrontShading(){hime_cut_classCallCheck(this,HimeCutFrontShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:p.Layer.BELOW_HAIR}].concat(e))}return hime_cut_createClass(HimeCutFrontShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcHimeCut(t,Object(m.clamp)(this.hairLength,0,53)),r=e.left,n=e.right,o=e.top,r=Object(m.adjust)(r,0,-1);return[n=Object(m.adjust)(n,0,-1),r,o,n]}}]),HimeCutFrontShading}(),y=function(){hime_cut_inherits(HimeCutBack,o["HairPart"]);var n=hime_cut_createSuper(HimeCutBack);function HimeCutBack(){hime_cut_classCallCheck(this,HimeCutBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairBack,{reflect:!0}].concat(e))}return hime_cut_createClass(HimeCutBack,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=this.hairLength,n=calcHimeCut(e,Object(m.clamp)(r,0,53)),o=n.right,a=n.top;a.y+=.01*r,a.x-=p.seamWidth,(o=Object(m.adjust)(o,.005*r,0)).cp1.y+=.01*r;var i={x:o.x,y:o.y-.8*r},c={x:-p.seamWidth,y:i.y-.01*r};t.beginPath(),Object(m.drawPoints)(t,a,o,i,c),t.fill(),t.stroke()}}]),HimeCutBack}(),h=function(){hime_cut_inherits(HimeCutFront,o["HairPart"]);var n=hime_cut_createSuper(HimeCutFront);function HimeCutFront(){hime_cut_classCallCheck(this,HimeCutFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront,{shadingParts:[f]}].concat(e))}return hime_cut_createClass(HimeCutFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcHimeCut(e,Object(m.clamp)(this.hairLength,0,53)),n=r.left,o=r.right,a=r.top;t.beginPath(),Object(m.drawPoints)(t,o);var i=Object(m.splitCurve)(.2,o,n),c=i.left.p2;c.deflection=-2,i=Object(m.splitCurve)(.221,o,n),n.cp1=i.left.p2.cp1;var s=hime_cut_slicedToArray(Object(m.drawSpecificCurl)(c,Object(S.averagePoint)(c,a,.6),{x:i.left.p2.x,y:i.left.p2.y,deflection:-2}),3),l=s[1],u=s[2];Object(m.drawPoints)(t,null,c,l,u);var p=Object(m.splitCurve)(.6,o,n),f=p.left.p2;f.deflection=-1,p=Object(m.splitCurve)(.615,o,n),n.cp1=p.left.p2.cp1;var y=hime_cut_slicedToArray(Object(m.drawSpecificCurl)(f,Object(S.averagePoint)(f,a,.4),{x:p.left.p2.x,y:p.left.p2.y,deflection:-1}),3),h=y[1],d=y[2];Object(m.drawPoints)(t,null,f,h,d);var g=Object(m.splitCurve)(.9,o,n),P=g.left.p2;P.deflection=4,g=Object(m.splitCurve)(.91,o,n),n.cp1=g.left.p2.cp1;var b=hime_cut_slicedToArray(Object(m.drawSpecificCurl)(P,Object(S.averagePoint)(P,a,.5),{x:g.left.p2.x,y:g.left.p2.y,deflection:4}),3),v=b[1],_=b[2];Object(m.drawPoints)(t,null,P,v,_),Object(m.drawPoints)(t,null,n,a,o),t.fill()}}]),HimeCutFront}(),d=function(){hime_cut_inherits(HimeCutSide,o["HairPart"]);var n=hime_cut_createSuper(HimeCutSide);function HimeCutSide(){hime_cut_classCallCheck(this,HimeCutSide);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront,{loc:"+front hair",aboveParts:["hairParts hair"],reflect:!0}].concat(e))}return hime_cut_createClass(HimeCutSide,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,c,s=this.hairLength;s<40||(n=(r=calcHimeCut(e,Object(m.clamp)(s,0,53))).left,o=r.right,(o=Object(m.adjust)(o,.4,.9)).cp1.y+=.01*s,a=Object(m.splitCurve)(.1,o,n).left.p2,i={x:o.x,y:o.y-.4*(s-40)},(c={x:a.x,y:i.y-1}).cp1=Object(m.simpleQuadratic)(i,c,.5,1),t.beginPath(),Object(m.drawPoints)(t,o,i,c,a),t.fill())}}]),HimeCutSide}();function calcHimeCut(t,e){var r=Object(m.splitCurve)(.4+e/82,t.skull,t.skull.side).left.p2;(r=Object(m.adjust)(r,1,e/100)).cp1.x-=.09*e;var n=Object(m.reflect)(r);n.cp1=Object(m.simpleQuadratic)(r,n,.5,e/20);var o=Object(m.extractPoint)(t.skull);return o.cp1=Object(m.reflect)(r.cp2),o.cp2=Object(m.reflect)(r.cp1),o=Object(m.adjust)(o,0,2),r.cp1.y+=2,r.cp2.y+=2,{left:n,right:r,top:o}}function straight_typeof(t){return(straight_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function straight_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function straight_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function straight_createClass(t,e,r){return e&&straight_defineProperties(t.prototype,e),r&&straight_defineProperties(t,r),t}function straight_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&straight_setPrototypeOf(t,e)}function straight_setPrototypeOf(t,e){return(straight_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function straight_createSuper(r){var n=function straight_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=straight_getPrototypeOf(r);return function straight_possibleConstructorReturn(t,e){return!e||"object"!==straight_typeof(e)&&"function"!=typeof e?function straight_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=straight_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function straight_getPrototypeOf(t){return(straight_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(){straight_inherits(StraightFrontShading,i["ShadingPart"]);var n=straight_createSuper(StraightFrontShading);function StraightFrontShading(){straight_classCallCheck(this,StraightFrontShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"front hair",layer:p.Layer.HAIR}].concat(e))}return straight_createClass(StraightFrontShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcStraight.call(this,t),r=e.top,n=e.topBot;return n.cp1=Object(m.simpleQuadratic)(r,n,.5,2.5),n.cp2=null,r.cp1=Object(m.simpleQuadratic)(n,r,.5,-.5),[r,n,r]}}]),StraightFrontShading}(),P=function(){straight_inherits(StraightFrontSideShading,i["ShadingPart"]);var n=straight_createSuper(StraightFrontSideShading);function StraightFrontSideShading(){straight_classCallCheck(this,StraightFrontSideShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:p.Layer.HAIR,reflect:!0}].concat(e))}return straight_createClass(StraightFrontSideShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcStraight.call(this,t),r=e.top,n=e.side,o=e.topBot,a=Object(m.splitCurve)(.8,r,n),i=[],c={x:1,y:.8*r.y+.2*o.y},s=Object(m.adjust)(Object(m.extractPoint)(a.left.p2),-.3,0);s.cp1=Object(m.simpleQuadratic)(c,s,.35,7),c.cp1=Object(m.simpleQuadratic)(s,c,.65,-6.6),i.push(c,s,c);var l={x:-1,y:.4*r.y+.6*o.y},u=Object(m.adjust)(Object(m.extractPoint)(a.left.p2),-.5,-1.5);return u.cp1=Object(m.simpleQuadratic)(l,u,.55,7),l.cp1=Object(m.simpleQuadratic)(u,l,1-.55,-6.6),i.push(m.breakPoint,l,u,l),i.push(m.endPoint),i}}]),StraightFrontSideShading}(),b=function(){straight_inherits(StraightFrontShine,o["HairPart"]);var n=straight_createSuper(StraightFrontShine);function StraightFrontShine(){straight_classCallCheck(this,StraightFrontShine);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+ears hair",layer:p.Layer.HAIR,aboveParts:["hairParts hair"]}].concat(e))}return straight_createClass(StraightFrontShine,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcStraight.call(this,e),n=r.top,o=r.topBot,n=Object(m.adjust)(n,2.5,-1),o=Object(m.adjust)(o,2.5,1),a=Object(m.adjust)(Object(S.averagePoint)(n,o,.5),.5,0);o.cp1={x:n.x-1,y:n.y},o.cp2={x:o.x-1,y:o.y+.5},a.cp1={x:o.x+1.5,y:o.y},a.cp2={x:a.x-.2,y:a.y-.3},n.cp1=Object(m.continueCurve)(o,a),n.cp2={x:n.x+2,y:n.y},t.fillStyle="hsla(0,0%,100%,0.2)",t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,n,o,a,n),t.fill(),t.scale(-1,1)}}]),StraightFrontShine}(),v=function(){straight_inherits(StraightFront,o["HairPart"]);var n=straight_createSuper(StraightFront);function StraightFront(){straight_classCallCheck(this,StraightFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront,{reflect:!0,shadingParts:[g,P]}].concat(e))}return straight_createClass(StraightFront,[{key:"stroke",value:function stroke(){return m.none}},{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcStraight.call(this,e),n=r.top,o=r.side,a=r.topBot;t.beginPath(),Object(m.drawPoints)(t,n,o,a,n),t.fill()}}]),StraightFront}(),_=function(){straight_inherits(StraightSideBangShading,i["ShadingPart"]);var n=straight_createSuper(StraightSideBangShading);function StraightSideBangShading(){straight_classCallCheck(this,StraightSideBangShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:p.Layer.BELOW_HAIR}].concat(e))}return straight_createClass(StraightSideBangShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=this.hairLength-12;if(e<0)return[];var r=calcStraightSide.call(this,t,e),n=r.sideBot,o=r.innerBot;return n.y+=.1*e,[n,o,{x:o.x+6,y:o.y+10},{x:n.x+3,y:n.y+2},n]}}]),StraightSideBangShading}(),C=function(){straight_inherits(StraightSideBang,o["HairPart"]);var n=straight_createSuper(StraightSideBang);function StraightSideBang(){straight_classCallCheck(this,StraightSideBang);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairAboveEars,{shadingParts:[_]}].concat(e))}return straight_createClass(StraightSideBang,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,c,s=this.hairLength-12;s<0||(n=(r=calcStraightSide.call(this,e,s)).top,o=r.side,a=r.sideBot,i=r.innerBot,c=r.innerTop,a.cp1=Object(m.simpleQuadratic)(o,a,.5,.5+.005*s),c.cp1=Object(m.simpleQuadratic)(i,c,.5,-.5),t.beginPath(),Object(m.drawPoints)(t,n,o,a,i,c),t.fill())}}]),StraightSideBang}();function calcStraightSide(t,e){var r=calcStraight.call(this,t),n=r.top,o=r.side;o.x+=.02*e;var a={x:o.x-.03*e,y:o.y-.65*e},i={x:a.x-.02*e,y:a.y-.05*e},c=Object(m.splitCurve)(.6,n,o);return{top:n,side:o,sideBot:a,innerBot:i,innerTop:Object(m.extractPoint)(c.left.p2)}}var O=function(){straight_inherits(StraightBack,o["HairPart"]);var n=straight_createSuper(StraightBack);function StraightBack(){straight_classCallCheck(this,StraightBack);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairBack,{reflect:!0}].concat(e))}return straight_createClass(StraightBack,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,c=this.hairLength-12;c<0||(n=(r=calcStraight.call(this,e,12+c)).top,(o=r.side).x+=.02*c,i={x:0,y:(a={x:o.x+.05*c,y:o.y-c}).y-.05*c},t.beginPath(),Object(m.drawPoints)(t,n,o,a,i),t.fill(),t.stroke())}}]),StraightBack}();function calcStraight(t){var e=Object(m.extractPoint)(t.skull);e.y+=1;var r=Object(m.splitCurve)(.5,t.skull.side,t.skull.bot).left.p2;r.cp1={x:.5*e.x+.5*r.x,y:e.y+2},r.cp2={x:r.x+3.5,y:.7*e.y+.3*r.y};var n={x:e.x,y:e.y-.04*this.faceLength};return n.cp1={x:r.x,y:.4*r.y+.6*e.y},n.cp2={x:n.x,y:n.y-.02*this.faceLength},e.cp1=Object(m.simpleQuadratic)(n,e,.5,1),{top:e,side:r,topBot:n}}function side_high_tail_typeof(t){return(side_high_tail_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function side_high_tail_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function side_high_tail_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function side_high_tail_createClass(t,e,r){return e&&side_high_tail_defineProperties(t.prototype,e),r&&side_high_tail_defineProperties(t,r),t}function side_high_tail_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&side_high_tail_setPrototypeOf(t,e)}function side_high_tail_setPrototypeOf(t,e){return(side_high_tail_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function side_high_tail_createSuper(r){var n=function side_high_tail_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=side_high_tail_getPrototypeOf(r);return function side_high_tail_possibleConstructorReturn(t,e){return!e||"object"!==side_high_tail_typeof(e)&&"function"!=typeof e?function side_high_tail_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=side_high_tail_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function side_high_tail_getPrototypeOf(t){return(side_high_tail_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(){side_high_tail_inherits(SideHighTailFront,o["HairPart"]);var n=side_high_tail_createSuper(SideHighTailFront);function SideHighTailFront(){side_high_tail_classCallCheck(this,SideHighTailFront);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront].concat(e))}return side_high_tail_createClass(SideHighTailFront,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=Object(m.clamp)(this.hairLength,0,70),n={x:e.skull.x+.02*r,y:e.skull.y+3},o=Object(m.splitCurve)(Object(m.clamp)(.75+.0045*r,.9,1.1),n,e.skull.side).left.p2;o.cp1.x+=3+.01*r,o.cp1.y+=3+.01*r,o.cp2.x=o.x,n.cp1={x:o.x-4+.03*r,y:o.y+3+.1*r},n.cp2={x:n.x,y:n.y-this.faceLength/15-.05*r},t.beginPath(),Object(m.drawPoints)(t,n,o,n),t.fill(),t.stroke();var a=calcSideHighTailTop(e,r),i=a.tip,c=a.out,s=a.bot;c.cp2.y-=.03*r,c.cp2.x+=.01*r,c.cp1.x+=.05*r,c.cp1.y+=4+.05*r,s.cp1={x:c.x,y:Object(m.clamp)(c.y-5-.05*r,s.y,c.y)},s.cp2={x:Object(m.clamp)(s.x+.07*r,0,c.x),y:s.y+2+.07*r},i.cp1=Object(m.scale)(s.cp2,3,s),i.cp2={x:i.x-5,y:i.y-this.faceLength/15-.05*r},r<10&&(i.cp2.y-=.5*(10-r)),t.save(),t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,i,c,s,i),t.fill(),t.stroke(),t.restore()}}]),SideHighTailFront}(),w=function(){side_high_tail_inherits(SideHighTailTail,o["HairPart"]);var n=side_high_tail_createSuper(SideHighTailTail);function SideHighTailTail(){side_high_tail_classCallCheck(this,SideHighTailTail);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairMedium].concat(e))}return side_high_tail_createClass(SideHighTailTail,[{key:"renderHairPoints",value:function renderHairPoints(t,e,r,n){var o,a,i,c,s,l,u,p,f,y=this.hairLength,h=this.hairLength-50;h<0||((o=calcSideHighTailTop(e,Object(m.clamp)(y,0,70)).tip).x*=-1,o.y-=.01*h,a={x:o.x,y:o.y+.12*h},i={x:o.x-.09*h,y:o.y},c={x:o.x+.09*h,y:o.y},a.cp1={x:i.x+.02*y,y:i.y+.02*y},a.cp2={x:a.x-.1*h,y:a.y-.02*h},c.cp1={x:a.x+.1*h,y:a.y-.02*h},c.cp2={x:c.x-.02*y,y:c.y+.02*y},Object(m.rotatePoints)(o,-.24,a,i,c),(s={}).out={x:a.x+.2*h,y:a.y-.8*h},s.outbot={x:a.x+.18*h,y:s.out.y-.8*h},s.in=Object(m.extractPoint)(e.neck.top),s.out.cp1={x:a.x+.3*h,y:a.y-.1*h},s.out.cp2={x:s.out.x-.1*h,y:s.out.y+.3*h},s.outbot.cp1=Object(m.continueCurve)(a,s.out),s.outbot.cp2={x:s.outbot.x+.2*h,y:s.outbot.y+.05*h},s.in.cp1={x:s.outbot.x-.05*h,y:s.outbot.y+.4*h},s.in.cp2={x:s.in.x-.1*h,y:s.in.y-.5*h},t.beginPath(),Object(m.drawPoints)(t,a,s.out,s.outbot,s.in),t.fill(),t.stroke(),0<(l=this.hairLength-90)&&((u={}).top=Object(m.extractPoint)(e.neck.top),u.tip={x:u.top.x+.6*l,y:u.top.y-3.5*l},u.tip.cp1={x:u.top.x+1.5*l,y:u.top.y-2*l},u.tip.cp2={x:u.tip.x-.5*l,y:u.tip.y+1.2*l},u.right=Object(m.extractPoint)(e.neck.cusp),u.right.x+=.5,u.right.cp1={x:u.tip.x-.6*l,y:u.tip.y+l},u.right.cp2={x:u.right.x+.3*l,y:u.right.y-.8*l},t.save(),t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,u.top,u.tip,u.right),t.fill(),t.stroke(),t.restore()),t.beginPath(),Object(m.drawPoints)(t,i,a,c),t.fill(),t.stroke(),p=Object(m.splitCurve)(.3,i,a).left.p2,(f=Object(m.splitCurve)(.7,a,c).left.p2).cp1=Object(m.simpleQuadratic)(p,f,.5,.03*h),t.save(),t.strokeStyle=n.hairAccessoryColor,t.beginPath(),Object(m.drawPoints)(t,p,f),t.stroke(),t.restore())}}]),SideHighTailTail}();function calcSideHighTailTop(t,e){var r={x:t.skull.x-.08*e,y:t.skull.y+3},n=Object(m.adjust)(t.skull.side,.03*e,Object(m.clamp)(2-.05*e,-3,2)),o={x:n.x-Object(m.clamp)(.05*e,0,10),y:n.y-Object(m.clamp)(.25*e,0,25)};return 50<e&&(o.x+=.06*(e-50)),{tip:r,out:n,bot:o}}function hime_curl_typeof(t){return(hime_curl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hime_curl_slicedToArray(t,e){return function hime_curl_arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function hime_curl_iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function hime_curl_unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return hime_curl_arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hime_curl_arrayLikeToArray(t,e)}(t,e)||function hime_curl_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hime_curl_arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hime_curl_classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hime_curl_defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hime_curl_createClass(t,e,r){return e&&hime_curl_defineProperties(t.prototype,e),r&&hime_curl_defineProperties(t,r),t}function hime_curl_inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hime_curl_setPrototypeOf(t,e)}function hime_curl_setPrototypeOf(t,e){return(hime_curl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function hime_curl_createSuper(r){var n=function hime_curl_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=hime_curl_getPrototypeOf(r);return function hime_curl_possibleConstructorReturn(t,e){return!e||"object"!==hime_curl_typeof(e)&&"function"!=typeof e?function hime_curl_assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=hime_curl_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function hime_curl_getPrototypeOf(t){return(hime_curl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(){hime_curl_inherits(HimeCurlShading,i["ShadingPart"]);var n=hime_curl_createSuper(HimeCurlShading);function HimeCurlShading(){hime_curl_classCallCheck(this,HimeCurlShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+front hair",layer:p.Layer.GENITALS}].concat(e))}return hime_curl_createClass(HimeCurlShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcHimeCurl(t,this.hairLength),r=e.right,n=e.out,o=e.bot,a=e.fork,i=e.forkIn,c=hime_curl_slicedToArray(Object(m.adjustPoints)(-2,0,r,n),2),s=c[0],l=c[1];o.cp1=Object(m.adjust)(o.cp1,-3,0),o.cp2=Object(m.adjust)(o.cp2,-4,0);var u=Object(m.splitCurve)(.35,l,o),p=Object(m.adjust)(u.left.p2,-2,0);return p.cp1=u.left.p2.cp1,p.cp2={x:p.x+.04*this.hairLength,y:p.y-.2*this.hairLength},o.cp1={x:p.x-.02*this.hairLength,y:p.y-.07*this.hairLength},o.cp2=u.right.p2.cp2,r.cp1={x:o.x+12,y:o.y},r.cp2={x:r.x+5,y:s.y},a.y+=1.5,a.x+=.7,a.cp1=Object(m.simpleQuadratic)(a,i,.5,-7),a.cp2=null,[r,l,p,o,r,m.breakPoint,o,a,i,a,Object(m.extractPoint)(o),m.endPoint]}}]),HimeCurlShading}();function calcHimeCurl(t,e){var r=calcHimeCut(t,Object(m.clamp)(e,0,53)),n=r.right,o=r.top;o.y+=.01*e,o.x-=p.seamWidth,(n=Object(m.adjust)(n,.005*e,0)).cp1.y+=.01*e,o.cp1.y+=.01*e,o.cp2.x-=.005*e;var a=Object(m.reflect)(n);n.x+=.012*e;var i={x:n.x,y:n.y-.8*e},c={x:n.x-.01*e,y:.7*n.y+.3*i.y};c.cp1={x:n.x+.01*e,y:n.y-.15*e},c.cp2={x:c.x,y:c.y+.1*e},i.cp1={x:c.x,y:c.y-.07*e},i.cp2={x:i.x+.1*e,y:i.y+.1*e};var s={x:i.x-.03*e,y:i.y+.2*e},l={x:s.x-.02*e,y:s.y-.1*e},u=Object(m.extractPoint)(t.neck.top);return u.y-=2,u.cp1={x:l.x-.18*e,y:l.y+.23*e},u.cp2={x:u.x,y:u.y-.23*e},s.cp1={x:i.x+.02*e,y:i.y+.07*e},s.cp2={x:s.x-.02*e,y:s.y-.07*e},l.cp1=Object(m.simpleQuadratic)(s,l,.3,.02*-e),{left:a,top:o,right:n,out:c,bot:i,fork:s,forkIn:l,forkTop:u}}var x=[[],[s,n],[l,u],[h,y,d],[v,C,O,b],[k,w],[h,function(){hime_curl_inherits(HimeCurlMedium,o["HairPart"]);var n=hime_curl_createSuper(HimeCurlMedium);function HimeCurlMedium(){hime_curl_classCallCheck(this,HimeCurlMedium);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairMedium,{shadingParts:[j]}].concat(e))}return hime_curl_createClass(HimeCurlMedium,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r=calcHimeCurl(e,this.hairLength),n=r.left,o=r.top,a=r.right,i=r.out,c=r.bot,s=r.fork,l=r.forkIn,u=r.forkTop;e.hair=e.hair||{},e.hair.mid={left:n,top:o,right:a,out:i,bot:c,fork:s,forkIn:l,forkTop:u},t.beginPath(),Object(m.drawPoints)(t,n,o,a,i,c,s,l,u),t.fill(),t.stroke()}}]),HimeCurlMedium}(),function(){hime_curl_inherits(HimeCurlSide,o["HairPart"]);var n=hime_curl_createSuper(HimeCurlSide);function HimeCurlSide(){hime_curl_classCallCheck(this,HimeCurlSide);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,o.Hair.hairFront,{loc:"+front hair",aboveParts:["hairParts hair"]}].concat(e))}return hime_curl_createClass(HimeCurlSide,[{key:"renderHairPoints",value:function renderHairPoints(t,e){var r,n,o,a,i,c,s=this.hairLength,l=s-35;l<0||(n=(r=calcHimeCut(e,Object(m.clamp)(s,0,53))).left,o=r.right,(o=Object(m.adjust)(o,.4,1.5)).cp1.y+=.01*s,i=(a=Object(m.splitCurve)(.1,o,n)).left.p2,(c=l<15?{x:o.x-3,y:o.y-l}:(a=Object(m.splitCurve)(Object(m.clamp)(.015*l-.3,-.3,.8),e.jaw,e.chin.out),Object(m.adjust)(a.left.p2,.2,-.2))).cp1={x:o.x,y:o.y-.1*l},c.cp2={x:c.x+.13*l,y:c.y+.06*l},i.cp1=Object(m.simpleQuadratic)(c,i,.45,.07*-l),t.save(),t.scale(-1,1),t.beginPath(),Object(m.drawPoints)(t,o,c,i),t.fill(),t.stroke(),t.restore())}}]),HimeCurlSide}()]]},function(t,e,r){"use strict";r.r(e),r.d(e,"JacketBaseShading",function(){return c}),r.d(e,"JacketBasePart",function(){return s}),r.d(e,"calcJacket",function(){return calcJacket}),r.d(e,"MediumLooseSleevePart",function(){return l}),r.d(e,"Jacket",function(){return u}),r.d(e,"LooseJacket",function(){return n});var f=r(1),o=r(3),a=r(10),i=r(2),y=r(6),v=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(JacketBaseShading,a["ShadingPart"]);var n=_createSuper(JacketBaseShading);function JacketBaseShading(){_classCallCheck(this,JacketBaseShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:i.Layer.GENITALS,forcedSide:o.Part.LEFT}].concat(e))}return _createClass(JacketBaseShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=calcJacket.call(this,t),r=e.top,n=e.mid,o=e.bot,a=1-this.chestCoverage,i=Object(v.extractPoint)(n);return i.cp1=o.cp1,i=Object(v.adjust)(i,3*-a,3*a),r.cp1=Object(v.adjust)(n.cp2,0*-a,-a),r.cp2=Object(v.adjust)(n.cp1,6*-a,2*-a),[r,n,o,i,i,r]}}]),JacketBaseShading}(),s=function(){_inherits(JacketBasePart,f["ClothingPart"]);var n=_createSuper(JacketBasePart);function JacketBasePart(){_classCallCheck(this,JacketBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:i.Layer.GENITALS,loc:"torso",reflect:!0,aboveParts:["parts neck","parts chest","decorativeParts chest"],belowParts:["head"],shadingParts:[c]}].concat(e))}return _createClass(JacketBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcJacket.call(this,t),n=r.collarbone,o=r.top,a=r.mid,i=r.bot,c=r.outBot,s=r.outMid,l=r.breastBot,u=r.breastTip,p=r.outTop;f.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,n,o,a,i,c,s,l,u,p),e.fill(),e.stroke(),Object(y.setStrokeAndFill)(e,{stroke:this.liningPattern,fill:v.none},t),e.lineWidth=this.liningWidth,e.clip(),e.beginPath(),Object(v.drawPoints)(e,o,a,i,c),e.stroke()}}]),JacketBasePart}();function calcJacket(t){var e,r,n,o,a,i,c,s,l,u,p,f=Object(v.splitCurve)(.2,t.trapezius,t.collarbone),y=f.left.p2,h=Object(v.extractPoint)(t.collarbone),d=1-this.chestCoverage,g={x:(f=Object(v.splitCurve)(this.stomachCoverage,t.waist,t.hip)).left.p2.x*(.2+Object(v.clamp)(d,0,.8)),y:f.left.p2.y},P=Object(v.adjust)(f.left.p2,1,-1),b=t.breast;return b?((e={x:t.waist.x*Object(v.clamp)(.8*d,0,1),y:.5*g.y+.5*b.bot.y}).cp1={x:b.center.x*Object(v.clamp)(.6-.7*this.chestCoverage,0,1)-2*d,y:b.top.y},e.cp2={x:b.tip.x*Object(v.clamp)(1.2-.85*this.chestCoverage,0,1),y:b.tip.y},g.cp1=Object(v.continueCurve)(y,e,Object(v.clamp)(.2+.5*d,0,1)),r=Object(v.extractPoint)(b.top),p=Object(v.adjust)(Object(v.extractPoint)(b.tip),.3,0),o=b.tip.x-t.waist.x,(i=a=(f=Object(v.splitCurve)(Object(v.clamp)(.06*o-.2,0,this.stomachCoverage),t.waist,P)).left.p2).x+=.1,a.cp1=f.right.p2.cp2,a.cp2=f.right.p2.cp1,a=Object(v.adjust)(a,1,0),2<o?(f=Object(v.splitCurve)(Object(v.clamp)(.065*o,0,1),b.tip,b.bot),(n=Object(v.adjust)(f.left.p2,.05*o,.05*-o-1)).cp1=Object(v.continueCurve)(P,a,1),p.cp1=f.left.p2.cp2,p.cp2=f.left.p2.cp1,p.cp2.y-=Object(v.clamp)(3-.2*o,0,5)):n=Object(v.extractPoint)(b.bot),r.cp1=b.tip.cp2,r.cp2=b.tip.cp1,a=Object(v.adjust)(a,(i.x-a.x)*this.cling,0),s=n.y>t.waist.y?(c=t.lat,t.waist):(c=t.waist,t.hip),l=Object(v.interpolateCurve)(c,s,{x:null,y:n.y}),f=Object(v.splitCurve)(l.t,c,s),l.cp1=f.right.p2.cp2,l.cp2=f.right.p2.cp1,n=Object(v.transformCurve)(i,n,i,l,this.cling),s=p.y>t.waist.y?(c=t.lat,t.waist):(c=t.waist,t.hip),u=(Object(v.interpolateCurve)(c,s,{x:null,y:p.y}).x-p.x)*this.cling,p=Object(v.adjust)(p,u,0),r.cp1+=u,r.cp2+=u):((e={x:.5*t.waist.x,y:t.waist.y}).cp1=Object(v.simpleQuadratic)(y,e,.5,3),g.cp1=Object(v.simpleQuadratic)(e,g,.5,-5),(a=Object(v.extractPoint)(t.waist)).cp1=t.hip.cp2,a.cp2=t.hip.cp1,a=Object(v.adjust)(a,.05*a.x,0),r=Object(v.extractPoint)(t.armpit)),P.cp1=null,P.cp2=null,{collarbone:h,top:y,mid:e,bot:g,outBot:P,outMid:a,breastBot:n,breastTip:p,outTop:r}}var l=function(){_inherits(MediumLooseSleevePart,f["ClothingPart"]);var n=_createSuper(MediumLooseSleevePart);function MediumLooseSleevePart(){_classCallCheck(this,MediumLooseSleevePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:i.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]}].concat(e))}return _createClass(MediumLooseSleevePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n=Object(v.extractPoint)(t.collarbone);n.x-=.3,t.deltoids?(r=Object(v.adjust)(t.deltoids,1,0)).x+=2:r=Object(v.adjust)(t.shoulder,1,0),r.x+=1;var o={x:.5*t.armpit.x+.5*t.elbow.in.x,y:t.elbow.in.y},a={x:t.elbow.out.x+4,y:o.y+2};o.cp1={x:.7*a.x+.3*o.x,y:a.y},o.cp2={x:.3*a.x+.7*o.x,y:o.y-1};var i=calcJacket.call(this,t).outTop;i.x-=.3,f.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(v.drawPoints)(e,n,r,a,o,i),e.fill(),e.stroke(),Object(y.setStrokeAndFill)(e,{stroke:this.liningPattern,fill:v.none},t),e.lineWidth=this.liningWidth,e.clip(),e.beginPath(),Object(v.drawPoints)(e,a,o),e.stroke()}}]),MediumLooseSleevePart}(),u=function(){_inherits(Jacket,f["Clothing"]);var n=_createSuper(Jacket);function Jacket(){_classCallCheck(this,Jacket);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:f.Clothes.Layer.MID,stomachCoverage:.8,chestCoverage:.5,sleeveLength:.8,liningWidth:1,liningPattern:"#000",thickness:.8,cling:.4}].concat(e))}return Jacket}(),n=function(){_inherits(LooseJacket,u);var n=_createSuper(LooseJacket);function LooseJacket(){_classCallCheck(this,LooseJacket);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{stomachCoverage:.7,sleeveLength:1}].concat(e))}return _createClass(LooseJacket,[{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:l}]}}]),LooseJacket}()},function(t,e,r){"use strict";r.r(e),r.d(e,"calcSuperPantsTop",function(){return calcSuperPantsTop}),r.d(e,"calcSuperPants",function(){return calcSuperPants}),r.d(e,"calcSuperPantsZip",function(){return calcSuperPantsZip}),r.d(e,"SuperPantsPart",function(){return s}),r.d(e,"SuperLegginsPart",function(){return l}),r.d(e,"SuperSkirtPart",function(){return u}),r.d(e,"LacedLegginsPart",function(){return p}),r.d(e,"JeansPart",function(){return f}),r.d(e,"LoinclothPart",function(){return y}),r.d(e,"SuperPants",function(){return n}),r.d(e,"SuperLeggins",function(){return g}),r.d(e,"SuperSkirt",function(){return v}),r.d(e,"LacedLeggins",function(){return _}),r.d(e,"Jeans",function(){return m}),r.d(e,"Loincloth",function(){return S});var h=r(1),o=r(3),a=r(2),P=r(0),d=r(8),i=r(23),b=r(5),c=r(26);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperPantsTop(t){var e,r,n,o,a;o=0<this.waistCoverage?(e=Object(P.splitCurve)(1-this.waistCoverage,t.waist,t.hip),r=Object(P.extractPoint)(e.left.p2),n=e.right.p2,t.thigh.out):(a=Object(P.splitCurve)(Math.abs(this.waistCoverage),t.hip,t.thigh.out),r=Object(P.extractPoint)(a.left.p2),a.right.p2);var i=r.y-t.hip.y,c={x:-.2,y:t.pelvis.y+1.2*i};return r.cp1={x:.5*r.x+.5*c.x,y:c.y},{top:c,out:r,hip:n,thighOut:o}}function calcSuperPants(t){var e=calcSuperPantsTop.call(this,t),r=e.top,n=e.out,o=e.hip,a=e.thighOut,i=Object(P.adjust)(t.groin,-.2,0);this.innerLoose<1&&(i.cp1={x:.5*i.x+.5*t.thigh.top.x,y:i.y});var c=[],s=[];s[0]=n,s[1]=n.y>t.hip.y?o:void 0;var l=[];if(void 0!==t.quads&&(l[0]=Object(P.clone)(t.quads.top),l[0].x=t.thigh.out.x,l[1]=Object(P.clone)(t.quads.out)),1<=this.outerLoose){var u,p=t.hip.y-(t.hip.y-t.ankle.out.y)*this.legCoverage;p<t.thigh.out.y?(c=b.getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(s,[a])),this.bustle?c[u=c.length]=Object(P.extractPoint)(t.thigh.out):c[u=c.length-1]=Object(P.clone)(t.thigh.out),c[u].y=p,c[u].x+=(this.outerLoose-1)*(50*this.legCoverage),this.bustle||Object(P.interpolateCurve)(c[u-1],c[u],{x:null,y:t.thigh.out.y})[0].x<t.thigh.out.x&&(c[u+1]=Object(P.extractPoint)(c[u]),c[u]=t.thigh.out)):((c=b.getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(s,[a])))[c.length-1].y=p,c[c.length-1].x+=(this.outerLoose-1)*(50*this.legCoverage))}else if(0<this.outerLoose){var f=void 0!==t.quads?Object(b.findBetween)(t.quads.out.x,t.quads.out.cp1.x,.5):t.thigh.out.x;c=b.getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage].concat(s,[a],l,[t.knee.out,t.calf.out,t.ankle.out]));var y=s.length+1;0<l.length&&y++;for(var h=y;h<c.length;h++)c[h].x=Object(b.findBetween)(c[h].x,f,this.outerLoose),c[h].cp1&&(c[h].cp1.x=Object(b.findBetween)(c[h].cp1.x,f,this.outerLoose)),c[h].cp2&&(c[h].cp2.x=Object(b.findBetween)(c[h].cp2.x,f,this.outerLoose))}else c=b.getLimbPoints.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,n,o,a].concat(l,[t.knee.out,t.calf.out,t.ankle.out]));var d=[];if((d=1<=this.innerLoose?Object(b.getLimbPointsAbovePoint)(c[c.length-1],!0,r,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in):Object(b.getLimbPointsAbovePoint)(c[c.length-1],!0,i,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in))[0]=Object(P.extractPoint)(d[0]),0<this.innerLoose){d[0].x-=d[0].x*this.innerLoose;for(var g=1;g<d.length;g++)d[g]=Object(P.transformCurve)(this.innerLoose,d[g-1],d[g],{x:0,y:d[g].y})}return this.innerLoose<1&&d[0].y<t.groin.y?d[0].cp1={x:Object(b.findBetween)(c[c.length-1].x,d[0].x,.5),y:d[0].y+3}:1<=this.innerLoose&&(c[c.length-1].y+=2,d[0].y-=2,d[0].x-=.2,d[0].cp1={x:.5*d[0].x+.5*c[c.length-1].x,y:d[0].y}),{top:r,out:n,hip:o,thighOut:a,groin:i,outerPoints:c,innerPoints:d}}function calcSuperPantsZip(t){var e=calcSuperPants.call(this,t),r=e.top,n=e.out,o=e.hip,a=e.thighOut,i=e.groin,c=e.outerPoints,s=e.innerPoints,l=Object(P.splitCurve)(this.zipOpen,r,n),u=Object(P.extractPoint)(l.left.p2),n=l.right.p2;return{zip:{x:-.2,y:(l=Object(P.splitCurve)(this.zipDeep,r,i)).left.p2.y},top:r,mid:u,out:n,hip:o,thighOut:a,groin:i,outerPoints:c,innerPoints:s}}var s=function(){_inherits(SuperPantsPart,h["ClothingPart"]);var n=_createSuper(SuperPantsPart);function SuperPantsPart(){_classCallCheck(this,SuperPantsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(SuperPantsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.thighOut,r.groin),i=r.outerPoints,c=r.innerPoints;h.Clothes.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),[c[0],n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),[c[0]]))):(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),_toConsumableArray(c),[a,n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),_toConsumableArray(c),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,Object(P.drawPoints)(e,n,Object(P.adjust)(o,-.5,0)),e.stroke()}}]),SuperPantsPart}(),l=function(){_inherits(SuperLegginsPart,h["ClothingPart"]);var n=_createSuper(SuperLegginsPart);function SuperLegginsPart(){_classCallCheck(this,SuperLegginsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"],belowSameLayerParts:["torso"]}].concat(e))}return _createClass(SuperLegginsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.highOut,r.groin),i=r.outerPoints,c=r.innerPoints;h.Clothes.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),[c[0],n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),[c[0]]))):(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),_toConsumableArray(c),[a,n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),_toConsumableArray(c),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,Object(P.drawPoints)(e,n,Object(P.adjust)(o,-.5,0)),e.stroke()}}]),SuperLegginsPart}(),u=function(){_inherits(SuperSkirtPart,h["ClothingPart"]);var n=_createSuper(SuperSkirtPart);function SuperSkirtPart(){_classCallCheck(this,SuperSkirtPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.MIDRIFT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(SuperSkirtPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPants.call(this,t),n=r.top,o=r.out,a=(r.hip,r.thighOut,r.groin),i=r.outerPoints,c=r.innerPoints;h.Clothes.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),[c[0],n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),[c[0]]))):(e.beginPath(),P.drawPoints.apply(void 0,[e,n].concat(_toConsumableArray(i),_toConsumableArray(c),[a,n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i),_toConsumableArray(c),[a]))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,Object(P.drawPoints)(e,n,Object(P.adjust)(o,-.5,0)),e.stroke()}}]),SuperSkirtPart}(),p=function(){_inherits(LacedLegginsPart,h["ClothingPart"]);var n=_createSuper(LacedLegginsPart);function LacedLegginsPart(){_classCallCheck(this,LacedLegginsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"],belowSameLayerParts:["torso"]}].concat(e))}return _createClass(LacedLegginsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPantsZip.call(this,t),n=r.zip,o=(r.top,r.mid),a=r.out,i=(r.hip,r.highOut,r.groin),c=r.outerPoints,s=r.innerPoints;h.Clothes.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),P.drawPoints.apply(void 0,[e,n,o].concat(_toConsumableArray(c),[s[0],n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(c),[s[0]]))):(e.beginPath(),P.drawPoints.apply(void 0,[e,n,o].concat(_toConsumableArray(c),_toConsumableArray(s),[i,n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(c),_toConsumableArray(s),[i]))),e.stroke();var l=0<this.crosses?this.crosses:3,u=Object(b.getLacingPoints)(n,o,n,Object(P.reflect)(o),l,1);e.lineWidth=1,e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(u.inner),[P.breakPoint],_toConsumableArray(u.outer))),e.stroke(),e.beginPath(),e.lineWidth=this.belt,Object(P.drawPoints)(e,o,Object(P.adjust)(a,-.5,0)),e.stroke()}}]),LacedLegginsPart}(),f=function(){_inherits(JeansPart,h["ClothingPart"]);var n=_createSuper(JeansPart);function JeansPart(){_classCallCheck(this,JeansPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(JeansPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperPantsZip.call(this,t),n=r.zip,o=r.top,a=r.mid,i=r.out,c=(r.hip,r.thighOut,r.groin),s=r.outerPoints,l=r.innerPoints;h.Clothes.simpleStrokeFill(e,t,this),1<=this.innerLoose?(e.beginPath(),P.drawPoints.apply(void 0,[e,n,a].concat(_toConsumableArray(s),[l[0],n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e,n,a].concat(_toConsumableArray(s),[l[0]]))):(e.beginPath(),P.drawPoints.apply(void 0,[e,n,a].concat(_toConsumableArray(s),_toConsumableArray(l),[c,n])),e.fill(),e.beginPath(),P.drawPoints.apply(void 0,[e,n,a].concat(_toConsumableArray(s),_toConsumableArray(l),[c]))),e.stroke(),e.lineWidth=.5,e.beginPath(),Object(P.drawPoints)(e,Object(P.adjust)(a,1,-3),Object(P.adjust)(i,0,-3)),e.stroke();var u=a.x,p=o.y-n.y,f=Math.atan(u/p),y=Object(b.polar2cartesian)(p,-1.6*f+Math.PI/2,n);e.fillStyle=Object(d.adjustColor)(e.fillStyle,{s:-10,l:10}),e.beginPath(),Object(P.drawPoints)(e,n,y,a),e.fill(),e.stroke()}}]),JeansPart}(),y=function(){_inherits(LoinclothPart,h["ClothingPart"]);var n=_createSuper(LoinclothPart);function LoinclothPart(){_classCallCheck(this,LoinclothPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"leg",aboveParts:["parts leg"]}].concat(e))}return _createClass(LoinclothPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){h.Clothes.simpleStrokeFill(e,t,this);var r=c.calcBelt.call(this,t),n={};n.inTop=Object(P.extractPoint)(r.inBot),a=Object(P.splitCurve)(this.topCoverage,r.inBot,r.outBot),n.outTop=Object(P.extractPoint)(a.left.p2),n.outTop.cp1=r.inBot.cp1;var o=Object(b.findBetween)(t.ankle.out.y,t.hip.y,1-this.legCoverage),a=Object(P.splitCurve)(this.bottomCoverage,r.inBot,r.outBot);n.outBot={x:a.left.p2.x,y:o},a=Object(P.splitCurve)(.3,n.outTop,n.outBot),n.outBot.cp1=a.left.p2,n.outBot.cp1.x+=this.curveX,n.outBot.cp1.y+=this.curveY,n.inBot={x:-.2,y:o-4*this.bottomCoverage},n.inBot.cp1={x:Object(b.findBetween)(n.outBot.x,n.inBot.x),y:n.inBot.y},e.beginPath(),Object(P.drawPoints)(e,n.inTop,n.outTop,n.outBot,n.inBot),e.stroke(),e.fill(),e.fillStyle=this.highlight,e.beginPath(),Object(P.drawPoints)(e,r.inTop,r.outTop,r.outMid,r.outBot,r.inBot),e.stroke(),e.fill()}}]),LoinclothPart}(),n=function(){_inherits(SuperPants,i["Pants"]);var n=_createSuper(SuperPants);function SuperPants(){_classCallCheck(this,SuperPants);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.5,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return _createClass(SuperPants,[{key:"fill",value:function fill(){return"hsl(200, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(200, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),SuperPants}(),g=function(){_inherits(SuperLeggins,i["Pants"]);var n=_createSuper(SuperLeggins);function SuperLeggins(){_classCallCheck(this,SuperLeggins);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.5,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return _createClass(SuperLeggins,[{key:"fill",value:function fill(){return"hsla(200, 0%, 20%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(200, 0%, 10%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:l}]}}]),SuperLeggins}(),v=function(){_inherits(SuperSkirt,i["Pants"]);var n=_createSuper(SuperSkirt);function SuperSkirt(){_classCallCheck(this,SuperSkirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,innerLoose:1,outerLoose:1.3,legCoverage:.4,waistCoverage:.1,opacity:1,thickness:1,bustle:!1,belt:2}].concat(e))}return _createClass(SuperSkirt,[{key:"fill",value:function fill(){return"hsl(0, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(0, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:u},{side:o.Part.RIGHT,Part:u}]}}]),SuperSkirt}(),_=function(){_inherits(LacedLeggins,i["Pants"]);var n=_createSuper(LacedLeggins);function LacedLeggins(){_classCallCheck(this,LacedLeggins);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,zipOpen:.2,zipDeep:.3,crosses:4,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.4,opacity:1,thickness:1,bustle:!1}].concat(e))}return _createClass(LacedLeggins,[{key:"fill",value:function fill(){return"hsla(200, 0%, 20%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(200, 0%, 10%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:p},{side:o.Part.RIGHT,Part:p}]}}]),LacedLeggins}(),m=function(){_inherits(Jeans,i["Pants"]);var n=_createSuper(Jeans);function Jeans(){_classCallCheck(this,Jeans);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:h.Clothes.Layer.MID,innerLoose:0,outerLoose:0,legCoverage:.9,waistCoverage:.4,opacity:1,thickness:1,bustle:!1,belt:2,zipOpen:.01,zipDeep:.21,highlight:"orange"}].concat(e))}return _createClass(Jeans,[{key:"fill",value:function fill(){return"hsl(200, 65%, 20%)"}},{key:"stroke",value:function stroke(){return"hsl(200, 50%, 10%)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:f},{side:o.Part.RIGHT,Part:f}]}}]),Jeans}(),S=function(){_inherits(Loincloth,i["Pants"]);var n=_createSuper(Loincloth);function Loincloth(){_classCallCheck(this,Loincloth);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.42,beltWidth:4,beltCurve:-3.5,thickness:1,topCoverage:.8,legCoverage:.5,bottomCoverage:.14,curveX:-16,curveY:14,highlight:"hsla(33, 80%, 10%, 1)"}].concat(e))}return _createClass(Loincloth,[{key:"fill",value:function fill(){return"hsla(33, 45%, 35%, 1)"}},{key:"stroke",value:function stroke(){return"hsla(33, 45%, 25%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:y},{side:o.Part.RIGHT,Part:y}]}}]),Loincloth}()},function(t,e,r){"use strict";r.r(e),r.d(e,"MascaraPart",function(){return s}),r.d(e,"Makeup",function(){return l}),r.d(e,"Mascara",function(){return u});var o=r(1),a=r(2),i=r(0),c=r(4),n=r(3);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(MascaraPart,o["ClothingPart"]);var n=_createSuper(MascaraPart);function MascaraPart(){_classCallCheck(this,MascaraPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.BELOW_HAIR,loc:"".concat(c.Location.EYELASH),reflect:!1,aboveParts:["faceParts eyelash"]},{topFill:"black",botFill:"black"}].concat(e))}return _createClass(MascaraPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){Object(c.setStrokeAndFill)(e,{stroke:i.none,fill:this.topFill},t),e.beginPath(),Object(i.drawPoints)(e,t.eyes.out,t.eyelid.top,t.eyelid.in,t.eyelash.top,t.eyelash.out),e.fill(),Object(c.setStrokeAndFill)(e,{stroke:i.none,fill:this.botFill},t),e.beginPath(),Object(i.drawPoints)(e,t.eyes.out,t.eyes.in,t.eyelash.outBot),e.fill()}}]),MascaraPart}(),l=function(){_inherits(Makeup,o["Clothing"]);var n=_createSuper(Makeup);function Makeup(){_classCallCheck(this,Makeup);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:o.Clothes.Layer.MID,requiredParts:"faceParts"}].concat(e))}return Makeup}(),u=function(){_inherits(Mascara,l);var o=_createSuper(Mascara);function Mascara(){var t;_classCallCheck(this,Mascara);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{extraLength:2}].concat(r))).Mods=Object.assign({eyelashLength:t.extraLength},t.Mods),t}return _createClass(Mascara,[{key:"partPrototypes",get:function get(){return[{side:n.Part.LEFT,Part:s},{side:n.Part.RIGHT,Part:s}]}}]),Mascara}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"serialize",function(){return serialize}),__webpack_require__.d(__webpack_exports__,"deserialize",function(){return deserialize}),__webpack_require__.d(__webpack_exports__,"loadSerialization",function(){return loadSerialization});var deep_equal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95),deep_equal__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_0__);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function serialize(t){return JSON.stringify(t)}function deserialize(text){return JSON.parse(text,function(key,val){var value=val,$ReviveData$,value;return Array.isArray(value)&&2===value.length&&"(revive:eval)"===value[0]&&($ReviveData$=value[1][1],value=eval(value[1][0])),value})}function cloneObjWithout(r,n){var o=Object.create(Object.getPrototypeOf(r));return Object.keys(r).forEach(function(t){var e;n.includes(t)||(e=r[t],o[t]=null===e||"object"!==_typeof(e)||Array.isArray(e)?e:cloneObjWithout(e,n))}),o}JSON.reviveWrapper||Object.defineProperty(JSON,"reviveWrapper",{configurable:!0,writable:!0,value:function value(t,e){if("string"!=typeof t)throw new TypeError("JSON.reviveWrapper code parameter must be a string");return["(revive:eval)",[t,e]]}});var serializationKeysExclude=["_owner","shadingParts","clothingParts"];function extendSerializability(globalClassIdentifier){var classConstructor=eval(globalClassIdentifier);Object.defineProperties(classConstructor.prototype,{_getData:{value:function value(){var e=cloneObjWithout(new classConstructor,serializationKeysExclude),r=cloneObjWithout(this,serializationKeysExclude),n={};return Object.keys(r).forEach(function(t){e.hasOwnProperty(t)&&deep_equal__WEBPACK_IMPORTED_MODULE_0___default()(e[t],r[t])||(n[t]=r[t])}),n}},clone:{value:function value(){return new classConstructor(this._getData())}},toJSON:{value:function value(){return JSON.reviveWrapper("(new "+globalClassIdentifier+"($ReviveData$))",this._getData())}}})}function loadSerialization(){var t=[],e=window.da;for(var r in e){!1!==e.hasOwnProperty(r)&&"function"==typeof e[r]&&1<r.length&&r.charAt(0)===r.charAt(0).toUpperCase()&&t.push(r)}t.forEach(function(t){extendSerializability("da."+t)})}},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function isArguments(t){var e=n.call(t);return"[object Arguments]"===e||"[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===n.call(t.callee)}},function(t,e,r){"use strict";function Gua(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o.call(t)}function Hua(t){return!!Gua(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Array]"!==o.call(t)&&"[object Function]"===o.call(t.callee)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,a=function(){return Gua(arguments)}();Gua.isLegacyArguments=Hua,t.exports=a?Gua:Hua},function(t,e,r){"use strict";function Wua(t){var e=t.constructor;return e&&e.prototype===t}function $ua(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===y.call(t),n=h(t),o=e&&"[object String]"===y.call(t),a=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var i=g&&r;if(o&&0<t.length&&!f.call(t,0))for(var c=0;c<t.length;++c)a.push(String(c));if(n&&0<t.length)for(var s=0;s<t.length;++s)a.push(String(s));else for(var l in t)i&&"prototype"===l||!f.call(t,l)||a.push(String(l));if(d)for(var u=function(t){if("undefined"==typeof window||!b)return Wua(t);try{return Wua(t)}catch(t){return!1}}(t),p=0;p<P.length;++p)u&&"constructor"===P[p]||!f.call(t,P[p])||a.push(P[p]);return a}var f=Object.prototype.hasOwnProperty,y=Object.prototype.toString,n=Array.prototype.slice,h=r(100),o=Object.prototype.propertyIsEnumerable,d=!o.call({toString:null},"toString"),g=o.call(function(){},"prototype"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!a["$"+t]&&f.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{Wua(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();$ua.shim=function shimObjectKeys(){var e;return Object.keys?function(){return 2===(Object.keys(arguments)||"").length}(1,2)||(e=Object.keys,Object.keys=function keys(t){return h(t)?e(n.call(t)):e(t)}):Object.keys=$ua,Object.keys||$ua},t.exports=$ua},function(t,e,r){"use strict";function yva(t){return t!=t}t.exports=function is(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!yva(t)||!yva(e))}},function(t,e,r){"use strict";var n=r(53);t.exports=function getPolyfill(){return"function"==typeof Object.is?Object.is:n}},function(t,e,r){"use strict";var n=Object,o=TypeError;t.exports=function flags(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,r){"use strict";var n=r(55),o=r(24).supportsDescriptors,a=Object.getOwnPropertyDescriptor,i=TypeError;t.exports=function getPolyfill(){if(!o)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=a(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return n}},function(t,e,r){"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isString(t){return"string"==typeof t||"object"==typeof t&&(a?function tryStringObject(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,a="function"==typeof Set&&Set.prototype?Set:null;o||(n=function isMap(){return!1});var i=o?Map.prototype.has:null,c=a?Set.prototype.has:null;n||i||(n=function isMap(){return!1}),t.exports=n||function isMap(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t),c)try{c.call(t)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof Map&&Map.prototype?Map:null,a="function"==typeof Set&&Set.prototype?Set:null;a||(n=function isSet(){return!1});var i=o?Map.prototype.has:null,c=a?Set.prototype.has:null;n||c||(n=function isSet(){return!1}),t.exports=n||function isSet(t){if(!t||"object"!=typeof t)return!1;try{if(c.call(t),i)try{i.call(t)}catch(t){return!0}return t instanceof a}catch(t){}return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(62);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e){var i=Object.prototype.hasOwnProperty,c=Object.prototype.toString;t.exports=function forEach(t,e,r){if("[object Function]"!==c.call(e))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var o=0;o<n;o++)e.call(r,t[o],o,t);else for(var a in t)i.call(t,a)&&e.call(r,t[a],a,t)}},function(r,t,n){"use strict";(function(e){var t=n(143);r.exports=function availableTypedArrays(){return t(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(t){return"function"==typeof e[t]})}}).call(this,n(15))},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(145);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(150);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";var u=r(52),n=r(12),p=r(58)(),f=Object,y=n.call(Function.call,Array.prototype.push),h=n.call(Function.call,Object.prototype.propertyIsEnumerable),d=p?Object.getOwnPropertySymbols:null;t.exports=function assign(t){if(null==t)throw new TypeError("target must be an object");for(var e,r,n,o,a,i,c=f(t),s=1;s<arguments.length;++s){e=f(arguments[s]),n=u(e);var l=p&&(Object.getOwnPropertySymbols||d);if(l)for(o=l(e),r=0;r<o.length;++r)i=o[r],h(e,i)&&y(n,i);for(r=0;r<n.length;++r)a=e[i=n[r]],h(e,i)&&(c[i]=a)}return c}},function(t,e,r){"use strict";var n=r(67);t.exports=function getPolyfill(){return!Object.assign||function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),a="";for(var i in o)a+=i;return t!==a}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initCanvas=e.configureBaseColors=e.getBaseColors=void 0;var i=r(8),p=r(2),f=r(6),y=r(0),h=r(4);function getBaseColors(t){var e,n={},r=t.dim.skin;if(isNaN(r))return n.baseFill=r,n.baseStroke=r,n.baseLipColor=r,n.nippleColor=r,n;r<11?(n.baseFill=[Math.floor(255-2.8*r),Math.floor(214-5.3*r),Math.floor(180-6.5*r)],n.baseStroke=[Math.floor(214-5.1*r),Math.floor(156-4*r),Math.floor(147-6.4*r)],n.baseLipColor=[Math.floor(194-4.1*r),Math.floor(123-4.1*r),Math.floor(119-4.1*r)],n.nippleColor=[Math.floor(140-4.1*r),Math.floor(89-4.1*r),Math.floor(86-4.1*r)]):r<100&&(e=r-11,n.baseFill=[Math.floor(227-9.6*e),Math.floor(161-9.1*e),Math.floor(115-6.3*e)],28<r&&(e-=2.5*(r-23)),n.baseStroke=[Math.floor(163-12*e),Math.floor(116-10.8*e),Math.floor(83-7.3*e)],n.baseLipColor=[Math.floor(153-8.9*e),Math.floor(82-6.2*e),Math.floor(78-6.4*e)],n.nippleColor=[Math.floor(99-9.9*e),Math.floor(48-7.2*e),Math.floor(45-7.4*e)]);var o=.7+y.clamp(t.getDim("faceFem")/(3*t.getDimDesc("faceFem").high),0,.3);n.baseLipColor.forEach(function(t,e,r){r[e]=n.baseFill[e]*(1-o)+t*o}),n.baseFill=finalizeColor(n.baseFill,t.Mods,"skin"),n.baseStroke=finalizeColor(n.baseStroke,t.Mods,"skin"),n.baseLipColor=finalizeColor(n.baseLipColor,t.Mods,"lip"),n.nippleColor=finalizeColor(n.nippleColor,t.Mods,"nipple");var a=t.getDim("faceFem")/t.getDimDesc("faceFem").high*20;return n.eyelidColor=i.adjustColor(n.baseStroke,{s:-a,l:-a}),n.defaultHairFill=HSLObjToStr({h:t.dim.hairHue,s:t.dim.hairSaturation,l:t.dim.hairLightness}),n.hairFill=t.hairFill||n.defaultHairFill,n.hairStroke=t.hairStroke||i.adjustColor(n.defaultHairFill,{l:-10,s:-10}),n.browFill=t.browFill||i.adjustColor(n.defaultHairFill,{l:-5,s:-5}),n.lashFill=i.adjustColor(n.defaultHairFill,{l:-10,s:-10}),n.hairAccessoryColor=HSLObjToStr({h:t.getMod("hairAccessoryHue"),s:t.getMod("hairAccessorySaturation"),l:t.getMod("hairAccessoryLightness")}),n}function HSLObjToStr(t){return"hsl("+y.clamp(Math.floor(t.h),0,360)+","+y.clamp(Math.floor(t.s),0,100)+"%,"+y.clamp(Math.floor(t.l),0,100)+"%)"}function finalizeColor(t,e,r){var n=i.RGBToHSL({r:y.clamp(t[0],0,255),g:y.clamp(t[1],0,255),b:y.clamp(t[2],0,255)});return r&&(n.h+=e[r+"Hue"],n.s+=e[r+"Saturation"],n.l+=e[r+"Lightness"]),HSLObjToStr(n)}e.getBaseColors=getBaseColors,e.configureBaseColors=function configureBaseColors(t){Object.assign(t,getBaseColors(t.avatar))},e.initCanvas=function initCanvas(e,r,n,o,t,a,i,c){i&&(a!==p.Layer.BASE||n.transparentBackground?r.clearRect(0,0,e.width,e.height):(r.fillStyle=n.backgroundColor,r.fillRect(0,0,e.width,e.height)));var s=e.width/180,l=e.height/400,u=t.scaling=Math.min(s,l);if(r.scale(u,u),t.ox=n.ox=Math.floor(e.width/u-e.width/s),t.oy=n.oy=Math.floor(e.height/u-e.height/l),a===p.Layer.BASE&&(n.printAdditionalInfo&&function printAdditionalInfo(t,e,r,n){e.save(),e.font="bold 20px Arial",e.fillStyle=r.genderColor,e.fillText(n.isMale()?String.fromCharCode(9794):String.fromCharCode(9792),6,24);var o=y.clamp(t.width/n.name.length/2,10,24);e.font=o+"px Arial",e.fillStyle=r.nameColor;24<n.name.length?e.fillText(n.name.slice(0,24)+"...",30,26):e.fillText(n.name,30,26);e.restore()}(e,r,n,o),n.printVitals&&function printVitals(t,s,e,l){s.save();var u=0;Object.entries(l.maxVitals).forEach(function(t){var e=t[0],r=t[1],n=h.vitalLimits[e],o="string"==typeof(o=n.color||{h:345*u/8%360,s:50,l:50})?o:HSLObjToStr(o);s.strokeStyle=o;var a=30+7*u,i=1/n.high*170,c=r*i;s.strokeRect(5,a,c,5),s.font="5px Arial",s.fillStyle="#222",s.fillText(n.display,5+c+2,5+a-1),s.fillStyle=o,c=l.vitals[e]*i,s.fillRect(5,a,c,5),u++}),s.restore()}(0,r,0,o),c))if(Array.isArray(c))c.forEach(function(t){t(e,r,n,o)});else{if("function"!=typeof c)throw Error("custom drawing function needs to be function(canvas, ctx, config, avatar) or an array of such functions");c(e,r,n,o)}r.translate(n.ox,0),a===p.Layer.BASE&&n.printHeight&&function printHeight(t,e,r){var n=r.heightAdjust(),o=r.dim.height/2.54+n+2,a=Math.floor(o/12)+"'",i=Math.floor(o-12*Math.floor(o/12))+'"',c=e.oy;o=a+i,t.save(),t.fillStyle=e.heightColor,t.font="12px Arial",t.fillText(o,125,16),0<n&&(o=r.dim.height/2.54+2,a=Math.floor(o/12)+"'",i=Math.floor(o-12*Math.floor(o/12))+'"',o=a+i,t.fillText("("+o+")",150,16));t.strokeStyle=e.heightBarColor,t.beginPath();t.moveTo(150,20),t.lineTo(178,20),t.lineTo(178,390+c);var s=Math.floor(72+c/(370/72)),l=1;for(l=1;l<s;l++){var u=390+c-l*(370/72);t.moveTo(178,u),l%12==0?t.lineTo(164,u):l%6==0?t.lineTo(171,u):l%3==0?t.lineTo(173,u):t.lineTo(175,u)}t.stroke(),t.restore()}(r,n,o),r.scale(1,-1),r.translate(0,-400-n.oy+10+f.incu(o.heightAdjust())/2),r.translate(t.cx,0),r.strokeStyle=t.baseStroke,r.fillStyle=t.baseFill,r.lineCap="round",r.lineJoin="round"}},function(t,e,r){"use strict";r.r(e),r.d(e,"BellyButtonOutline",function(){return n}),r.d(e,"DeltoidsOutline",function(){return p}),r.d(e,"CollarboneOutline",function(){return f}),r.d(e,"PectoralOutline",function(){return y}),r.d(e,"AbdominalOutline",function(){return h}),r.d(e,"QuadricepsOutline",function(){return d});var o=r(16),a=r(2),l=r(0),i=r(6),c=r(8);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(Outline,o["DecorativePart"]);var n=_createSuper(Outline);function Outline(){_classCallCheck(this,Outline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(Outline,[{key:"stroke",value:function stroke(t,e){return Object(c.adjustColor)(e.baseStroke,{s:-30,l:-30})}},{key:"fill",value:function fill(){return l.none}}]),Outline}(),u=function(){_inherits(MuscleOutline,s);var n=_createSuper(MuscleOutline);function MuscleOutline(){_classCallCheck(this,MuscleOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MuscleOutline,[{key:"getLineWidth",value:function getLineWidth(t){return Object(l.clamp)(.05*(t.getDim(this.muscleGroup)-10),0,1.2)}}]),MuscleOutline}(),n=function(){_inherits(BellyButtonOutline,s);var n=_createSuper(BellyButtonOutline);function BellyButtonOutline(){_classCallCheck(this,BellyButtonOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],belowParts:["clothingParts leg"],layer:a.Layer.FRONT}].concat(e))}return _createClass(BellyButtonOutline,[{key:"getLineWidth",value:function getLineWidth(){return 1}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&((n=t.bellybutton={}).top={x:0,y:.45*t.waist.y+.55*t.hip.y},n.bot={x:n.top.x,y:n.top.y-1},n.bot.cp1=Object(l.simpleQuadratic)(n.top,n.bot,.5,.5)),[t.bellybutton.top,t.bellybutton.bot]}}]),BellyButtonOutline}(),p=function(){_inherits(DeltoidsOutline,u);var n=_createSuper(DeltoidsOutline);function DeltoidsOutline(){_classCallCheck(this,DeltoidsOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+arm",aboveParts:["parts arm"],layer:a.Layer.FRONT,muscleGroup:"upperMuscle"}].concat(e))}return _createClass(DeltoidsOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20||!1===t.hasOwnProperty("deltoids")?[]:(r&&(n=this.upperMuscle-10,(o=t.deltoids).top={x:t.armpit.x,y:t.armpit.y+2},o.bot={x:o.x-5,y:o.y},o.bot.cp1=Object(l.simpleQuadratic)(o.top,o.bot,.7,.1*-n)),[t.deltoids.top,t.deltoids.bot]);var n,o}}]),DeltoidsOutline}(),f=function(){_inherits(CollarboneOutline,u);var n=_createSuper(CollarboneOutline);function CollarboneOutline(){_classCallCheck(this,CollarboneOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",layer:a.Layer.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return _createClass(CollarboneOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20||!1===t.hasOwnProperty("collarbone")?[]:(r&&((n=t.collarbone).out={x:n.x-.5,y:n.y-2},n.in={x:2,y:n.out.y-2},n.in.cp1={x:n.out.x-5,y:n.out.y},n.in.cp2={x:n.in.x+1,y:n.in.y+2}),[t.collarbone.out,t.collarbone.in]);var n}}]),CollarboneOutline}(),y=function(){_inherits(PectoralOutline,u);var n=_createSuper(PectoralOutline);function PectoralOutline(){_classCallCheck(this,PectoralOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],belowParts:["parts chest","decorativeParts chest"],layer:a.Layer.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return _createClass(PectoralOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.upperMuscle<20?[]:(r&&(n=this.upperMuscle-20,(o=t.pecs={}).outtop={x:t.armpit.x,y:t.armpit.y+4},o.outbot={x:o.outtop.x-3,y:o.outtop.y-9},o.inbot={x:2,y:o.outbot.y+.5},o.intop={x:.5,y:o.inbot.y+1+.3*n},o.outbot.cp1={x:o.outtop.x,y:o.outtop.y-3},o.outbot.cp2={x:o.outbot.x+1,y:o.outbot.y+1},o.inbot.cp1={x:o.outbot.x-.5,y:o.outbot.y-1},o.inbot.cp2={x:o.inbot.x+.5,y:o.inbot.y-1},o.intop.cp1={x:o.inbot.x-.1*n,y:o.inbot.y+.05*n},o.intop.cp2={x:o.intop.x,y:o.intop.y-.1*n}),[t.pecs.outtop,t.pecs.outbot,t.pecs.inbot,t.pecs.intop]);var n,o}}]),PectoralOutline}(),h=function(){_inherits(AbdominalOutline,u);var n=_createSuper(AbdominalOutline);function AbdominalOutline(){_classCallCheck(this,AbdominalOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+torso",aboveParts:["parts torso"],layer:a.Layer.FRONT,reflect:!0,muscleGroup:"upperMuscle"}].concat(e))}return _createClass(AbdominalOutline,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){if(this.upperMuscle<15)return[];var n,o,a,i,c=this.upperMuscle-20;r&&(n=.12*(.75*(this.height-this.legLength)),o=.05*c,(a=t.abs={}).top={x:t.waist.x-3,y:t.armpit.y-7},a.first={x:a.top.x-1,y:a.top.y-n},a.first.cp1=Object(l.simpleQuadratic)(a.top,a.first,.5,o),a.second={x:a.first.x-.4,y:a.first.y-n},a.second.cp1=Object(l.simpleQuadratic)(a.first,a.second,.5,o),a.bot={x:a.second.x-.3,y:a.second.y-n},a.bot.cp1=Object(l.simpleQuadratic)(a.second,a.bot,.5,o),5<c&&(a.top.out={x:a.top.x-1.7,y:a.top.y},a.top.in={x:.9,y:a.top.y+.5},a.top.in.cp1=Object(l.simpleQuadratic)(a.top,a.top.in,.5,-o),a.first.out={x:a.first.x-1.7,y:a.first.y},a.first.in={x:1.5,y:a.first.y},a.first.in.cp1=Object(l.simpleQuadratic)(a.first,a.first.in,.5,o),a.second.out={x:a.second.x-1.7,y:a.second.y},a.second.in={x:1.2,y:a.second.y},a.second.in.cp1=Object(l.simpleQuadratic)(a.second,a.second.in,.5,o),a.bot.in={x:.6,y:a.bot.y},a.bot.in.cp1=Object(l.simpleQuadratic)(a.bot,a.bot.in,.5,o),(i=t.lat).top={x:i.x-1.5,y:i.y},i.bot={x:a.top.x+1,y:.5*a.top.y+.5*a.first.y},i.bot.cp1=Object(l.simpleQuadratic)(i.top,i.bot,.5,1.5*o)));var s=[t.abs.top,t.abs.first,t.abs.second,t.abs.bot];return 5<c&&(s=[].concat(_toConsumableArray(s),[l.breakPoint,t.abs.top.out,t.abs.top.in,l.breakPoint,t.abs.first.out,t.abs.first.in,l.breakPoint,t.abs.second.out,t.abs.second.in,l.breakPoint,t.lat.top,t.lat.bot])),s}}]),AbdominalOutline}(),d=function(){_inherits(QuadricepsOutline,u);var n=_createSuper(QuadricepsOutline);function QuadricepsOutline(){_classCallCheck(this,QuadricepsOutline);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+leg",aboveParts:["parts leg"],belowParts:["clothingParts leg","clothingParts feet"],layer:a.Layer.FRONT,muscleGroup:"lowerMuscle"}].concat(e))}return _createClass(QuadricepsOutline,[{key:"fill",value:function fill(t,e){return i.inheritFill.call(this,t,e)}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return this.lowerMuscle<20||!1===t.hasOwnProperty("thigh")?[]:(r&&(n=this.lowerMuscle-10,(o=t.quads={}).top={x:.1*t.thigh.in.x+.9*t.thigh.out.x,y:t.thigh.out.y},a=Object(l.splitCurve)(.95,t.thigh.out,t.knee.out),o.out=a.right.p1,o.out.cp1=Object(l.simpleQuadratic)(o.top,o.out,.55,.25*n),o.in={x:.65*t.thigh.in.x+.35*t.thigh.out.x,y:t.thigh.in.y+3.5},o.bot={x:t.knee.out.x-6-.05*n,y:t.knee.intop.y+2},o.bot.cp1=Object(l.simpleQuadratic)(o.in,o.bot,.7,.1*-n)),[t.quads.top,t.quads.out,l.breakPoint,t.quads.in,t.quads.bot]);var n,o,a}}]),QuadricepsOutline}()},function(t,e,r){"use strict";r.r(e),r.d(e,"EarsHuman",function(){return n}),r.d(e,"EarsElf",function(){return l});var o=r(11),a=r(8),i=r(2),c=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(Ears,o["FacePart"]);var n=_createSuper(Ears);function Ears(){_classCallCheck(this,Ears);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"ears",layer:i.Layer.BELOW_HAIR,belowParts:["parts head"]}].concat(e))}return _createClass(Ears,[{key:"clipFill",value:function clipFill(){}},{key:"clipStroke",value:function clipStroke(){}},{key:"fill",value:function fill(t,e){return Object(a.adjustColor)(e.baseFill,{s:-18,l:-2})}},{key:"getLineWidth",value:function getLineWidth(t){return Object(c.clamp)(1.7-.05*t.dim.faceFem,.7,1.5)}}]),Ears}(),n=function(){_inherits(EarsHuman,s);var n=_createSuper(EarsHuman);function EarsHuman(){_classCallCheck(this,EarsHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(EarsHuman,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n;return r&&((n=t.ear={}).top=Object(c.extractPoint)(t.skull.side),n.bot=Object(c.extractPoint)(t.skull.bot),n.mid={x:n.top.x+.6,y:.4*n.top.y+.6*n.bot.y},n.mid.cp1={x:n.top.x+1.5,y:n.top.y+.5},n.mid.cp2={x:n.mid.x+.5,y:n.mid.y+.9},n.bot.cp1={x:n.mid.x,y:n.mid.y-.7},n.bot.cp2={x:n.bot.x+.6,y:n.bot.y-.1}),[t.ear.top,t.ear.mid,t.ear.bot]}}]),EarsHuman}(),l=function(){_inherits(EarsElf,s);var n=_createSuper(EarsElf);function EarsElf(){_classCallCheck(this,EarsElf);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(EarsElf,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o;return r&&((n=t.ear={}).top=Object(c.extractPoint)(t.skull.side),o=Object(c.splitCurve)(.3,t.skull.side,t.skull.bot),n.bot=o.left.p2,n.mid={x:n.top.x+6+e.earlobeLength,y:n.top.y+.5},n.mid.cp1=Object(c.simpleQuadratic)(n.top,n.mid,.3,1),n.bot.cp1={x:n.mid.x-2,y:n.mid.y-2},n.bot.cp2={x:n.bot.x+2,y:n.bot.y+4}),[t.ear.top,t.ear.mid,t.ear.bot]}}]),EarsElf}()},function(t,e,r){"use strict";r.r(e),r.d(e,"BrowHuman",function(){return n});var o=r(11),i=(r(8),r(0));function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(Brow,o["FacePart"]);var n=_createSuper(Brow);function Brow(){_classCallCheck(this,Brow);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"brow",aboveParts:["parts head","faceParts eyelid"]}].concat(e))}return Brow}(),n=function(){_inherits(BrowHuman,a);var n=_createSuper(BrowHuman);function BrowHuman(){_classCallCheck(this,BrowHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(BrowHuman,[{key:"fill",value:function fill(t,e){return e.browFill}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=t.brow={},o=.7+.01*this.faceFem,n.inbot={x:t.eyes.center.x-2+.1*e.browCloseness,y:t.eyes.center.y+o-.5+.1*e.browHeight},a=.1*e.browThickness-.005*this.faceFem,n.intop={x:n.inbot.x+.1*e.browSharpness,y:n.inbot.y+Object(i.clamp)(.95+a,0,5)},n.intop.cp1=Object(i.simpleQuadratic)(n.inbot,n.intop,.5,.5),n.outbot={x:t.eyes.center.x+2.5+.1*e.browLength,y:t.eyes.center.y+o+.1*e.browHeight},n.outtop={x:n.outbot.x+.1*e.browOutBias,y:n.outbot.y+Object(i.clamp)(.7+a+.05*e.browOutBias,0,5)},n.outtop.cp1=Object(i.simpleQuadratic)(n.intop,n.outtop,.4,.1*e.browTopCurl),-5<e.browOutBias&&(n.outbot.cp1=Object(i.simpleQuadratic)(n.outtop,n.outbot,.5,.5)),n.inbot.cp1=Object(i.simpleQuadratic)(n.outbot,n.intop,.6,.1*-e.browBotCurl),Object(i.rotatePoints)(n.inbot,e.browTilt*Math.PI/180,n.inbot,n.intop,n.outtop,n.outbot)),[t.brow.inbot,t.brow.intop,t.brow.outtop,t.brow.outbot,t.brow.inbot]}}]),BrowHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"EyelashHuman",function(){return n});var o=r(11),c=(r(8),r(0));function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(Eyelash,o["FacePart"]);var n=_createSuper(Eyelash);function Eyelash(){_classCallCheck(this,Eyelash);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyelash",aboveParts:["eyelid"],parentPart:"eyelid"}].concat(e))}return Eyelash}(),n=function(){_inherits(EyelashHuman,a);var n=_createSuper(EyelashHuman);function EyelashHuman(){_classCallCheck(this,EyelashHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(EyelashHuman,[{key:"fill",value:function fill(t,e){return e.lashFill}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i;return r&&(n=t.eyelash={},o=t.eyelid,a=e.eyelashAngle*this.eyelashLength*.1,n.top={x:t.eyes.top.x+.1*e.eyelashBias,y:o.top.y+a},n.top.cp1={x:.7*o.in.x+.3*n.top.x,y:.5*o.in.y+.5*n.top.y},n.top.cp2={x:.4*o.in.x+.6*n.top.x,y:n.top.y},n.out=Object(c.extractPoint)(t.eyes.out),n.out.cp1=Object(c.continueCurve)(t.eyes.out,n.top,1),n.outBot=Object(c.extractPoint)(t.eyes.out),n.outBot.cp1=Object(c.adjust)(t.eyes.in.cp2,e.eyelashBias*Object(c.clamp)(this.eyelashLength,0,4)*.01,.03*-this.eyelashLength),n.outBot.cp2=Object(c.adjust)(t.eyes.in.cp1,e.eyelashBias*Object(c.clamp)(this.eyelashLength,0,5)*.01,.03*-this.eyelashLength),i=t.eyes,Object(c.rotatePoints)(i.center,e.eyeTilt*Math.PI/180,n.top,n.out)),[t.eyes.out,t.eyelid.top,t.eyelid.in,t.eyelash.top,t.eyelash.out,c.breakPoint,t.eyes.out,t.eyes.in,t.eyelash.outBot,c.endPoint]}}]),EyelashHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"EyelidHuman",function(){return n});var o=r(11),a=r(0);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(Eyelid,o["FacePart"]);var n=_createSuper(Eyelid);function Eyelid(){_classCallCheck(this,Eyelid);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyelid",aboveParts:["eyes","iris","pupil"]}].concat(e))}return Eyelid}(),n=function(){_inherits(EyelidHuman,i);var n=_createSuper(EyelidHuman);function EyelidHuman(){_classCallCheck(this,EyelidHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(EyelidHuman,[{key:"fill",value:function fill(t,e){return e.eyelidColor}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o;return r&&(t.eyelid={},n=Object(a.adjust)(t.eyes.top,.1*e.eyelidBias,.1*e.eyelidHeight-.3),o=Object(a.adjust)(t.eyes.out,.1*e.eyelidBias,.1*e.eyelidHeight-.3),t.eyelid.top={x:n.x,y:n.y},t.eyelid.top.cp1=o.cp2,t.eyelid.top.cp2=o.cp1,t.eyelid.in=Object(a.extractPoint)(t.eyes.in),t.eyelid.in.cp1=n.cp2,t.eyelid.in.cp2=n.cp1,5<e.eyelidHeight&&(t.eyelid.in.cp1.x-=.02*e.eyelidHeight,t.eyelid.in.cp2.x-=.02*e.eyelidHeight)),[t.eyes.in,t.eyes.top,t.eyes.out,t.eyelid.top,t.eyelid.in]}}]),EyelidHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"EyesHuman",function(){return n});var o=r(11),i=(r(3),r(0));function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(Eyes,o["FacePart"]);var n=_createSuper(Eyes);function Eyes(){_classCallCheck(this,Eyes);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"eyes",aboveParts:["parts head"]}].concat(e))}return Eyes}(),n=function(){_inherits(EyesHuman,a);var n=_createSuper(EyesHuman);function EyesHuman(){_classCallCheck(this,EyesHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(EyesHuman,[{key:"fill",value:function fill(){return"white"}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=.1*this.faceLength,(o=t.eyes={}).center={x:.04469*this.faceWidth-.01*e.eyeCloseness+.005*this.eyeSize+.04*e.eyeWidth,y:t.skull.y-.42*n+.1*e.eyeHeight},o.in={x:o.center.x-1.7-.005*this.eyeSize-.04*e.eyeWidth,y:o.center.y-.5},o.out={x:o.in.x+3.5+.015*this.eyeSize+.1*e.eyeWidth,y:o.in.y+.3},a=o.out.x-o.in.x,o.top={x:o.in.x+.4*a+.008*this.faceFem,y:o.in.y+1+.015*this.eyeSize+.1*e.eyeTopSize,cp1:{x:o.in.x+.1*a,y:o.in.y+Object(i.clamp)(.9-.015*this.faceFem,.4,2)+.01*this.eyeSize}},o.top.cp2={x:o.top.x-.2*a-.05*e.eyeTopSize,y:o.top.y},o.top=Object(i.adjust)(o.top,.1*e.eyeBias,0),o.out.cp1={x:o.top.x+.2*a,y:o.top.y},o.out.cp2={x:o.out.x-.1*a+.01*this.eyeSize,y:o.out.y+.5+.01*this.eyeSize},o.in.cp1={x:o.out.x-a*Object(i.clamp)(.3-.03*e.eyeBotBias,0,1),y:o.out.y-.7-.02*this.eyeSize-.1*e.eyeBotSize},o.in.cp2={x:o.in.x+a*Object(i.clamp)(.2+.02*e.eyeBotBias,0,1),y:o.in.y},Object(i.rotatePoints)(o.center,e.eyeTilt*Math.PI/180,o.top,o.out,o.in)),[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}}]),EyesHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"IrisHuman",function(){return n});var o=r(11),a=r(0);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(Iris,o["FacePart"]);var n=_createSuper(Iris);function Iris(){_classCallCheck(this,Iris);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"iris",aboveParts:["eyes"]}].concat(e))}return Iris}(),n=function(){_inherits(IrisHuman,i);var n=_createSuper(IrisHuman);function IrisHuman(){_classCallCheck(this,IrisHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(IrisHuman,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(t,e){var r=e.avatar.Mods.irisHue,n=e.avatar.Mods.irisSaturation,o=e.avatar.Mods.irisLightness;return"hsl(".concat(r,",").concat(n,"%,").concat(o,"%)")}},{key:"getLineWidth",value:function getLineWidth(t){return.01*t.Mods.limbalRingSize}},{key:"clipStroke",value:function clipStroke(t){return this.clipFill(t)}},{key:"clipFill",value:function clipFill(t){return[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){return r&&(t.eyes.iris=Object(a.adjust)(t.eyes.center,0,.1*e.irisHeight)),[a.breakPoint].concat(_toConsumableArray(Object(a.drawCircle)(t.eyes.iris,.1*e.irisSize)))}}]),IrisHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"LipsHuman",function(){return n});var o=r(11),a=r(10),i=r(2),u=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(LipShading,a["ShadingPart"]);var n=_createSuper(LipShading);function LipShading(){_classCallCheck(this,LipShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+lips",reflect:!0,layer:i.Layer.BELOW_HAIR,aboveParts:["faceParts lips"]}].concat(e))}return _createClass(LipShading,[{key:"fill",value:function fill(){return"hsl(0,0%,85%)"}},{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=Object(u.clone)(t.lips.bot.top);return[u.breakPoint,e,t.lips.out.lower,t.lips.bot,e,u.endPoint]}}]),LipShading}(),s=function(){_inherits(Lips,o["FacePart"]);var n=_createSuper(Lips);function Lips(){_classCallCheck(this,Lips);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"lips",reflect:!0,aboveParts:["mouth"],shadingParts:[c]}].concat(e))}return Lips}(),n=function(){_inherits(LipsHuman,s);var n=_createSuper(LipsHuman);function LipsHuman(){_classCallCheck(this,LipsHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(LipsHuman,[{key:"fill",value:function fill(t,e){return e.baseLipColor}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a,i,c,s,l;return r&&(n=.1*this.faceLength,o=40-this.faceFem,a=.007*e.lipParting,i=.015*-e.lipParting,(c=t.lips={}).center={x:-.1,y:t.skull.y-.78*n+.1*e.lipHeight+.018*this.faceFem},c.top={x:c.center.x,y:c.center.y+Object(u.clamp)(.015*this.lipSize+.005*this.faceFem+.01*e.lipTopSize,0,3)+a},c.tip={x:Object(u.clamp)(.7-.003*this.faceFem+.01*e.lipCupidsBow,0,5)*this.lipSize/20,y:c.top.y+.005*e.lipTopSize+.003*this.faceFem+.01*this.lipSize},c.tip.cp1=Object(u.simpleQuadratic)(c.top,c.tip,.5,.1+.001*e.lipTopCurve),c.out={x:1+.08*this.lipSize+.005*e.lipWidth+.01*o,y:c.center.y+.02*e.lipCurl},c.out.cp1={x:.5*c.tip.x+.5*c.out.x+.002*e.lipTopCurve,y:c.tip.y},c.out.cp2={x:.3*c.tip.x+.7*c.out.x,y:.5*c.tip.y+.5*c.out.y+.01*e.lipTopCurve},c.bot={x:0,y:c.center.y-.3-.02*this.lipSize-.008*this.faceFem-.004*e.lipBotSize+i},c.bot.cp1=Object(u.simpleQuadratic)(c.out,c.bot,.5,.02*this.lipSize+.003*this.faceFem+.003*e.lipBotSize-.5*i),c.bot.cp1.y-=.01*e.lipCurl,s=-.1-.006*e.lipBias,c.bot.top={x:c.center.x,y:c.center.y+i+s},c.top.bot={x:c.center.x,y:c.center.y+1.2*a+s},c.out.lower=Object(u.extractPoint)(c.out),c.out.lower.cp1=Object(u.simpleQuadratic)(c.bot.top,c.out.lower,.3,.02*e.lipBias-.005*e.lipParting),l=Object(u.splitCurve)(.6+e.lipParting/400,c.bot.top,c.out.lower),c.out.in=l.left.p2,c.top.bot.cp1=Object(u.simpleQuadratic)(c.out.in,c.top.bot,.7,.005*-e.lipParting)),[u.breakPoint,t.lips.top,t.lips.tip,t.lips.out,t.lips.bot,t.lips.bot.top,t.lips.out.in,t.lips.top.bot,t.lips.top,u.endPoint]}}]),LipsHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"MouthHuman",function(){return n});var o=r(11),a=r(8),i=r(0);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(Mouth,o["FacePart"]);var n=_createSuper(Mouth);function Mouth(){_classCallCheck(this,Mouth);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"mouth",reflect:!0,aboveParts:["parts head"]}].concat(e))}return Mouth}(),n=function(){_inherits(MouthHuman,c);var n=_createSuper(MouthHuman);function MouthHuman(){_classCallCheck(this,MouthHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(MouthHuman,[{key:"fill",value:function fill(t,e){return Object(a.adjustColor)(e.baseLipColor,{s:-30,l:-20})}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t){return[i.breakPoint,t.lips.top,t.lips.out,t.lips.bot,t.lips.top,i.endPoint]}}]),MouthHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"NoseHuman",function(){return n});var o=r(11),a=r(2),i=r(10),s=r(0);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(Nose,o["FacePart"]);var n=_createSuper(Nose);function Nose(){_classCallCheck(this,Nose);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"nose"}].concat(e))}return Nose}(),l=function(){_inherits(NoseHumanShading,i["ShadingPart"]);var n=_createSuper(NoseHumanShading);function NoseHumanShading(){_classCallCheck(this,NoseHumanShading);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+nose",layer:a.Layer.BELOW_HAIR}].concat(e))}return _createClass(NoseHumanShading,[{key:"calcDrawPoints",value:function calcDrawPoints(t,e){var r=t.nose,n=r.top,o=r.bot;o.cp1={x:n.x,y:n.y-.05*e.noseLength},o.cp2={x:o.x+.6+.1*e.noseRoundness,y:o.y+.02*e.noseLength};var a=Object(s.adjust)(r.out,0,0);a.cp1=Object(s.simpleQuadratic)(o,a,.5,.1*e.nostrilSize);var i=Object(s.clamp)(.01*e.nostrilSize-.02*e.noseRidgeHeight,0,.3),c={x:o.x*i+a.x*(1-i),y:o.y+1+.05*e.nostrilSize};return c.cp1={x:a.x+.02*e.nostrilSize,y:a.y+.05*e.nostrilSize},c.cp2={x:c.x+.6,y:c.y-.3},n.cp1=Object(s.continueCurve)(a,c,.1*e.nostrilSize),n.cp2={x:Object(s.clamp)(n.x+.1+.06*e.noseWidth+.1*e.noseRidgeHeight-.1*e.noseRoundness,0,100),y:n.y+.2},[n,o,a,c,n]}}]),NoseHumanShading}(),n=function(){_inherits(NoseHuman,c);var n=_createSuper(NoseHuman);function NoseHuman(){_classCallCheck(this,NoseHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{shadingParts:[l]}].concat(e))}return _createClass(NoseHuman,[{key:"fill",value:function fill(t,e){return e.baseStroke}},{key:"clipFill",value:function clipFill(){}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r){var n,o,a;return r&&(n=t.nose={},o=.1*this.faceLength,n.center={x:0,y:t.skull.y-.65*o+.1*e.noseHeight+.02*this.faceFem},n.in={x:n.center.x+.037*e.noseWidth-.007*this.faceFem+.01*e.nostrilSize,y:n.center.y-.3},n.out={x:n.center.x+.043*e.noseWidth-.017*this.faceFem+.25+.08*e.nostrilSize,y:n.center.y+.3},a=Object(s.clamp)(.5-.005*this.faceFem,0,.4),n.out.cp1=Object(s.simpleQuadratic)(n.in,n.out,.5,a),n.in.cp1=Object(s.simpleQuadratic)(n.out,n.in,.5,a),n.left={},n.left.in=Object(s.reflect)(n.in),n.left.out=Object(s.reflect)(n.out),n.left.in.cp1=Object(s.reflect)(n.in.cp1),n.left.out.cp1=Object(s.reflect)(n.out.cp1),n.top={x:n.center.x+.01*e.noseWidth+Object(s.clamp)(.01*e.noseRoundness,0,5),y:n.center.y+(.1*e.noseLength-.1*e.noseRoundness)*o*.045},n.bot={x:n.top.x,y:n.center.y+.3}),[s.breakPoint,t.nose.in,t.nose.out,t.nose.in,s.breakPoint,t.nose.left.in,t.nose.left.out,t.nose.left.in,s.endPoint]}}]),NoseHuman}()},function(t,e,r){"use strict";r.r(e),r.d(e,"PupilHuman",function(){return n});var o=r(11),a=r(0);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(Pupil,o["FacePart"]);var n=_createSuper(Pupil);function Pupil(){_classCallCheck(this,Pupil);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"pupil",aboveParts:["iris"]}].concat(e))}return Pupil}(),n=function(){_inherits(PupilHuman,i);var n=_createSuper(PupilHuman);function PupilHuman(){_classCallCheck(this,PupilHuman);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(PupilHuman,[{key:"stroke",value:function stroke(){return"#000"}},{key:"clipStroke",value:function clipStroke(t){return[t.eyes.in,t.eyes.top,t.eyes.out,t.eyes.in]}},{key:"getLineWidth",value:function getLineWidth(t){return.1*t.Mods.pupilSize}},{key:"calcDrawPoints",value:function calcDrawPoints(t){return[a.breakPoint,t.eyes.iris]}}]),PupilHuman}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Expression=void 0;var o=r(0);e.Expression={create:function(t,e){void 0===e&&(e=1);var r=o.clone(t);for(var n in r.Mods)r.Mods.hasOwnProperty(n)&&(r.Mods[n]*=e);return r},neutral:Object.freeze({Mods:{}}),suspicious:Object.freeze({Mods:{eyeBotSize:-7,browHeight:-2,lipBotSize:-20,lipTopSize:-8,lipWidth:-25}}),angry:Object.freeze({Mods:{browTilt:7,browCloseness:-3,browHeight:-4,eyeBotSize:1,eyeTopSize:1,lipCurl:-6}}),sad:Object.freeze({Mods:{browTilt:-7,eyeBotSize:2,eyeTopSize:-1,lipCurl:-5,eyeTilt:-1}}),surprised:Object.freeze({Mods:{browTilt:-5,eyeBotSize:2,eyeTopSize:1,lipParting:15,browHeight:5}}),mischievous:Object.freeze({Mods:{lipCurl:10,eyeBotSize:-4,eyeTopSize:-1}}),happy:Object.freeze({Mods:{lipCurl:12,eyeBotSize:-2}}),sleepy:Object.freeze({Mods:{eyeTopSize:-4,eyelidHeight:-1}}),aroused:Object.freeze({Mods:{eyelidHeight:-2.5,lipParting:13}}),bliss:Object.freeze({Mods:{irisHeight:2,lipParting:20,eyelidHeight:-2}})}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),p=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.ArmHuman=void 0;var a,i=r(10),c=r(2),s=r(3),d=r(0),l=(a=i.ShadingPart,o(LeftArmShading,a),LeftArmShading.prototype.fill=function(){return i.shadingMedium},LeftArmShading.prototype.calcDrawPoints=function(t){var e,r,n,o=[],a=d.adjustPoints(.07*this.armThickness,0,t.elbow.in,t.armpit),i=a[0],c=a[1];t.hand?(r=(e=d.adjustPoints(.02*this.armThickness,0,t.wrist.in,t.thumb.out))[0],u=e[1],p=d.extractPoint(t.thumb.tip),o.push(p,u,r)):(r=d.extractPoint(t.wrist.in),o.push(r)),t.breast?(n=d.extractPoint(t.breast.top)).cp1=d.simpleQuadratic(c,n,.5,-4):n=d.extractPoint(t.armpit);var s=d.extractPoint(t.armpit),l=d.extractPoint(t.elbow.in);l.cp1=d.clone(t.armpit.cp2),l.cp2=d.clone(t.armpit.cp1);var u,p,f,y,h=d.extractPoint(t.wrist.in);return h.cp1=d.clone(t.elbow.in.cp2),h.cp2=d.clone(t.elbow.in.cp1),o.push(i,c,n,s,l,h),t.hand&&((u=d.extractPoint(t.thumb.out)).cp1=d.clone(t.wrist.in.cp2),u.cp2=d.clone(t.wrist.in.cp1),(p=d.extractPoint(t.thumb.tip)).cp1=d.clone(t.thumb.out.cp2),p.cp2=d.clone(t.thumb.out.cp1),o.push(u,p),f=d.extractPoint(t.hand.tip),y=d.clone(t.hand.palm),f.cp1=d.adjust(t.hand.palm.cp2,.01*this.handSize,0),f.cp2=d.adjust(t.hand.palm.cp1,.01*this.handSize,0),o.push(d.breakPoint,f,y,f,d.endPoint)),o},LeftArmShading);function LeftArmShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.apply(this,p([{loc:"left arm",layer:c.Layer.ARMS}],t))||this}var u,f=(u=i.ShadingPart,o(LeftArmUnderShading,u),LeftArmUnderShading.prototype.calcDrawPoints=function(t){var e,r,n=[];t.hand?(e=d.adjust(t.hand.palm,-.5,-2),r=d.adjust(t.thumb.tip,-.5,-1.5),n.push.apply(n,p([t.hand.tip,e,r],d.adjustPoints(-2,-1,t.thumb.out,t.wrist.in)))):n.push(t.wrist.in);var o=d.adjust(t.elbow.in,-2,-1),a=d.extractPoint(t.armpit);return a.cp1=d.adjust(t.armpit.cp1,-1,-.5),a.cp2=d.adjust(t.armpit.cp2,-2,-.5),n.push(o,a),n.push(d.extractPoint(t.elbow.out),t.wrist.out),t.hand?n.push(t.hand.knuckle,t.hand.tip):n.push(d.extractPoint(t.wrist.in)),n},LeftArmUnderShading);function LeftArmUnderShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u.apply(this,p([{loc:"+left arm",layer:c.Layer.FRONT}],t))||this}var y,h=(y=i.ShadingPart,o(RightArmShading,y),RightArmShading.prototype.fill=function(){return i.shadingMedium},RightArmShading.prototype.calcDrawPoints=function(t){var e,r,n,o=[],a=d.extractPoint(t.collarbone),i=d.adjustPoints(.05*-this.armThickness,0,t.deltoids,t.shoulder,t.elbow.out),c=i[0],s=i[1],l=i[2];o.push(a,c,s,l),t.hand?(n=d.adjust(t.wrist.out,.03*-this.armThickness,0),e=d.adjust(t.hand.knuckle,.02*-this.armThickness,0),(r=d.clone(t.hand.tip)).cp1=d.adjust(t.hand.tip.cp1,.02*-this.armThickness,0),o.push(n,e),t.hand.fist&&o.push(d.adjust(t.hand.fist,.02*-this.armThickness,1)),o.push(r),t.hand.fist?(o.push(d.reverseDrawPoint(t.hand.fist,t.hand.tip)),o.push(d.reverseDrawPoint(t.hand.knuckle,t.hand.fist))):o.push(d.reverseDrawPoint(t.hand.knuckle,t.hand.tip)),o.push(d.reverseDrawPoint(t.wrist.out,t.hand.knuckle))):((n=d.extractPoint(t.wrist.out)).cp1={x:l.x,y:l.y},n.cp2={x:n.x-2,y:n.y},o.push(n));var u=[];return u.push(d.reverseDrawPoint(t.elbow.out,t.wrist.out),d.reverseDrawPoint(t.elbow.out,t.elbow.out),d.reverseDrawPoint(t.shoulder,t.elbow.out)),t.deltoids?u.push(d.reverseDrawPoint(t.deltoids,t.shoulder),d.reverseDrawPoint(t.collarbone,t.deltoids)):u.push(d.reverseDrawPoint(t.collarbone,t.shoulder)),o.splice.apply(o,p([o.length,0],d.adjustPoints.apply(void 0,p([3,0],u)))),o},RightArmShading);function RightArmShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,p([{loc:"right arm",layer:c.Layer.ARMS}],t))||this}var g,P=(g=i.ShadingPart,o(RightArmUnderShading,g),RightArmUnderShading.prototype.calcDrawPoints=function(t){var e,r=p([t.collarbone],d.adjustPoints(3,-1,t.deltoids,t.shoulder,t.elbow.out));return t.hand?(r.push.apply(r,d.adjustPoints(1.5,-.7,t.wrist.out,t.hand.knuckle,t.hand.tip)),r.push.apply(r,p(d.adjustPoints(2.2,-.9,t.hand.palm,t.thumb.tip,t.thumb.out),[d.extractPoint(t.wrist.out)]))):(e=d.extractPoint(t.wrist.out),r.push(e)),r.push(d.extractPoint(t.elbow.in),d.extractPoint(t.collarbone)),r},RightArmUnderShading);function RightArmUnderShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.apply(this,p([{loc:"+right arm",layer:c.Layer.FRONT}],t))||this}var b,v=(b=s.BodyPart,o(Arm,b),Arm.prototype.clipStroke=function(){},Arm.prototype.clipFill=function(){},Arm);function Arm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.apply(this,p([{loc:"arm",layer:c.Layer.ARMS,aboveParts:["leg","torso"],shadingParts:[l,f,h,P]}],t))||this}var _,m=(o(ArmHuman,_=v),ArmHuman.prototype.calcDrawPoints=function(t,e,r){var n,o,a,i,c,s,l,u;return r&&(n=t.wrist={},o=t.armpit={x:t.collarbone.x-.03*this.upperMuscle,y:t.collarbone.y-.27*this.torsoLength-.1*this.upperMuscle},(l=t.shoulder={x:t.collarbone.x+.2*this.upperMuscle+.1*this.armThickness,y:t.collarbone.y-10-.1*this.upperMuscle}).cp1={x:l.x,y:t.collarbone.y-3},l.cp2={x:l.x-.5+.02*this.upperMuscle,y:l.y+4},(a=t.elbow={}).out={x:o.x+5+.17*this.upperMuscle+.05*this.armThickness,y:l.y-.45*this.armLength+2},n.out={x:o.x+10+.01*this.upperMuscle+.035*this.armThickness,y:a.out.y-.5*this.armLength+2,cp1:{x:a.out.x,y:a.out.y-2}},n.out.cp2={x:n.out.x-.5,y:n.out.y+3},n.in={x:o.x+9,y:n.out.y-1},a.in={x:a.out.x-3-.07*this.upperMuscle-.05*this.armThickness,y:a.out.y+2,cp1:{x:n.in.x-1,y:n.in.y+7}},a.in.cp2={x:a.in.x+.5,y:a.in.y-7},t.armpit.cp1={x:a.in.x-.5,y:a.in.y+2},t.armpit.cp2={x:t.armpit.x,y:t.armpit.y-2},10<this.upperMuscle&&(i=this.upperMuscle-10,(c=t.deltoids={x:l.x-.12*i,y:l.y-.2*i}).cp1=d.extractPoint(l.cp1),c.cp2=d.extractPoint(l.cp2),c.cp1.x+=.03*i,c.cp2.x+=.05*i,s=d.splitCurve(.85,t.collarbone,t.deltoids),(l=t.shoulder=s.right.p1).cp1=s.right.p2.cp2,l.cp2=s.right.p2.cp1,a.out.cp1={x:l.x+.08*i,y:l.y-.1*i},a.out.cp2={x:a.out.x,y:a.out.y+.07*i},o.cp1.x-=.15*i,o.cp1.y+=.1*i,o.cp2.x-=.02*i,o.cp2.y-=.1*i,a.in.cp2.x-=.15*i,a.in.cp2.y-=.05*i,a.in.cp1.y+=.1*i,n.out.cp1.x+=.1*i,n.out.cp1.y-=.1*i,n.out.cp2.x+=.1*i,n.out.cp2.y+=.1*i,n.in.x-=.03*i),d.rotatePoints(a.in,e.armRotation*Math.PI/180,a.in,a.out,n.in,n.out),a.in.x-=.02*Math.abs(e.armRotation),a.in.y-=.01*e.armRotation,e.armRotation<-20&&(u=-20-e.armRotation,a.in.x-=.05*u,a.in.y-=.17*u)),[t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,{child:!0},t.wrist.in,t.elbow.in,t.armpit]},ArmHuman);function ArmHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _.apply(this,t)||this}e.ArmHuman=m},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.ButtHuman=void 0;var i,c=r(2),s=r(3),l=r(0),u=(i=s.BodyPart,o(Butt,i),Butt);function Butt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"butt",reflect:!0,layer:c.Layer.BACK}],t))||this}var p,f=(o(ButtHuman,p=u),ButtHuman.prototype.getLineWidth=function(t){return l.clamp(.5+.05*t.dim.buttFullness,.5,1.5)},ButtHuman.prototype.calcDrawPoints=function(t,e,r){if(r){if(t.butt={},t.butt.in={x:.5,y:t.groin.y-.01*this.buttFullness},!t.thigh.out)return[];t.butt.out={x:t.thigh.out.x-2,y:t.butt.in.y+1},t.butt.out.cp1={x:.7*t.butt.in.x+.3*t.butt.out.x-.1*this.buttFullness,y:t.butt.in.y-.35*this.buttFullness},t.butt.out.cp2={x:.3*t.butt.in.x+.7*t.butt.out.x+.12*this.buttFullness,y:t.butt.out.y-2-.2*this.buttFullness},t.butt.in.cp1={x:t.butt.out.cp2.x,y:t.butt.out.y+.2*this.buttFullness},t.butt.in.cp2={x:t.butt.in.x,y:t.butt.in.y+3+.2*this.buttFullness}}return[t.butt.in,t.butt.out,t.butt.in]},ButtHuman);function ButtHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(this,t)||this}e.ButtHuman=f},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.NipplesHuman=e.ChestHuman=void 0;var i,c=r(10),s=r(2),l=r(3),u=r(0),p=r(4),f=(i=c.ShadingPart,o(LeftBreastShading,i),LeftBreastShading.prototype.fill=function(){return c.shadingMedium},LeftBreastShading.prototype.calcDrawPoints=function(t){if(!1===t.hasOwnProperty("breast"))return[];var e={x:t.breast.cleavage.x+.5,y:t.breast.cleavage.y+.4*this.breastSize},r=u.extractPoint(t.breast.bot);return e.cp1=u.continueCurve(t.breast.in,t.breast.cleavage),r.cp1={x:e.x,y:.3*e.y+.7*r.y},r.cp2={x:r.x-6+.32*this.breastSize,y:r.y+7},[r,t.breast.in,t.breast.cleavage,e,r]},LeftBreastShading);function LeftBreastShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"chest",layer:s.Layer.GENITALS,forcedSide:l.Part.LEFT}],t))||this}var y,h=(y=c.ShadingPart,o(LeftBreastUnderShading,y),LeftBreastUnderShading.prototype.calcDrawPoints=function(t){if(!1===t.hasOwnProperty("breast"))return[];var e={x:t.breast.cleavage.x+.5,y:t.breast.cleavage.y+.4*this.breastSize},r=u.extractPoint(t.breast.bot);e.cp1=u.continueCurve(t.breast.in,t.breast.cleavage);var n=u.extractPoint(t.breast.cleavage);return n.x-=.05*this.breastSize,n.y-=.02*this.breastSize,n.cp1={x:+e.x+0*n.x,y:e.y-.02*this.breastSize},n.cp2={x:n.x,y:.5*n.y+.5*e.y},r.cp1={x:n.x-.02*this.breastSize,y:n.y-.3*this.breastSize-5},r.cp2={x:r.x-2-.05*this.breastSize,y:r.y-2-.03*this.breastSize},[r,t.breast.in,t.breast.cleavage,e,n,r]},LeftBreastUnderShading);function LeftBreastUnderShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,a([{loc:"+chest",layer:s.Layer.FRONT,forcedSide:l.Part.LEFT}],t))||this}var d,g=(d=c.ShadingPart,o(RightBreastShading,d),RightBreastShading.prototype.fill=function(){return c.shadingMedium},RightBreastShading.prototype.calcDrawPoints=function(t){if(!1===t.hasOwnProperty("breast"))return[];var e=u.extractPoint(t.breast.bot),r=u.adjustPoints(.25*-this.breastSize,0,t.breast.tip,t.breast.bot.cp1,t.breast.bot.cp2),n=r[0],o=r[1],a=r[2];e.cp1=o,e.cp2=a;var i=u.adjustPoints(.1*this.breastSize,.12*-this.breastSize,u.reverseDrawPoint(t.breast.tip,t.breast.bot),u.reverseDrawPoint(t.breast.top,t.breast.tip)),c=i[0],s=i[1];return s.x=t.breast.top.x,s.y=t.breast.top.y,[t.breast.top,n,e,c,s]},RightBreastShading);function RightBreastShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.apply(this,a([{loc:"chest",layer:s.Layer.GENITALS,forcedSide:l.Part.RIGHT}],t))||this}var P;P=c.ShadingPart,o(RightBreastUnderShading,P),RightBreastUnderShading.prototype.calcDrawPoints=function(t){if(!1===t.hasOwnProperty("breast"))return[];var e,r=u.adjust(t.breast.tip,.045*this.breastSize,.07*-this.breastSize),n=u.extractPoint(t.breast.bot),o=u.extractPoint(t.breast.top);return n.cp1=u.continueCurve(t.breast.top,r,1.5),n.cp2={x:n.x+.09*this.breastSize,y:n.y-1-.1*this.breastSize},this.breastSize<10&&(e=10-this.breastSize,o.cp1=u.adjust(o.cp1,.5*-e,.5*e),o.cp2=u.adjust(o.cp2,.7*-e,.4*e)),[t.breast.top,r,n,u.reverseDrawPoint(t.breast.tip,t.breast.bot),u.reverseDrawPoint(t.breast.top,t.breast.tip)]};function RightBreastUnderShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P.apply(this,a([{loc:"+chest",layer:s.Layer.ARMS,forcedSide:l.Part.RIGHT}],t))||this}var b,v=(b=l.BodyPart,o(Chest,b),Chest);function Chest(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.apply(this,a([{loc:"chest",reflect:!0,layer:s.Layer.GENITALS,aboveParts:["parts torso","decorativeParts torso","arm"]}],t))||this}var _,m=(o(ChestHuman,_=v),ChestHuman.prototype.calcDrawPoints=function(t,e,r){if(this.breastSize<0)return[];var n,o,a,i;r&&(n=t.breast={},o=this.breastSize-10,n.top={x:t.armpit.x-2.2+.02*this.breastSize,y:t.armpit.y+.5+.023*this.height-.05*this.breastSize},this.breastSize<10&&(n.top.x+=.1*o),a=.006*Math.pow(u.clamp(o-e.breastPerkiness,0,100),2),n.center={x:t.armpit.x-3+.02*o+.02*a,y:n.top.y-6-.03*o-a+.02*e.breastPerkiness},o=Math.max(0,o),n.tip={x:n.center.x+3.3+.07*o+.04*e.breastPerkiness,y:n.center.y+.07*e.breastPerkiness,cp1:{x:n.top.x+2+.07*o-.5*a,y:n.top.y-3+u.clamp(.15*e.breastPerkiness,-4,4)-.7*a}},n.tip.cp2={x:n.tip.x-.1*a,y:n.tip.y+2+.07*o},n.bot={x:n.center.x-1.5+.01*o,y:n.center.y-3.8-.08*o-.05*a+.08*e.breastPerkiness},n.bot.cp1=u.continueCurve(n.top,n.tip,u.clamp(.6+.05*a,0,1)),n.bot.cp2={x:n.bot.x+3.5+.05*o,y:n.bot.y},n.cleavage={x:.5,y:n.tip.y},n.cleavage.cp1=u.continueCurve(n.tip,n.bot),n.cleavage.cp2={x:n.cleavage.x,y:n.cleavage.y-2.5-.05*o},i=u.splitCurve(u.clamp((o+5)/30,0,1),n.bot,n.cleavage),n.in=i.left.p2,n.cleavage=i.right.p2);var c=u.splitCurve(u.clamp(1-this.breastSize/10,0,1),t.breast.top,t.breast.tip),s=c.right.p1;return t.breast.tip=c.right.p2,t.breast.top=p.connectEndPoints(t.breast.cleavage,s),[u.breakPoint,s,t.breast.tip,t.breast.bot,t.breast.in,t.breast.cleavage,t.breast.top]},ChestHuman);function ChestHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _.apply(this,a([{shadingParts:[f,h,g]}],t))||this}e.ChestHuman=m;var S,C=(o(NipplesHuman,S=v),NipplesHuman.prototype.strokeClip=function(){},NipplesHuman.prototype.stroke=function(t,e){return e.nippleColor},NipplesHuman.prototype.getLineWidth=function(t){return.05*t.dim.breastSize+.1*t.dim.areolaSize},NipplesHuman.prototype.calcDrawPoints=function(t,e,r){return t.chest=t.chest||{},r&&(t.breast?t.chest.nipples={x:t.breast.center.x-1.5+.03*this.breastSize,y:t.breast.tip.y-.03*this.breastSize+.1*e.breastPerkiness}:t.chest.nipples={x:t.armpit.x-5-.08*this.upperMuscle,y:t.armpit.y-3}),[u.breakPoint,t.chest.nipples]},NipplesHuman);function NipplesHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S.apply(this,a([{fill:u.none,loc:"+chest",aboveParts:["parts chest","decorativeParts chest"]}],t))||this}e.NipplesHuman=C},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.HoofHorse=e.FeetHuman=void 0;var i,c=r(2),s=r(3),l=r(6),u=r(30),p=(i=s.BodyPart,o(Feet,i),Feet);function Feet(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"feet",parentPart:"leg",layer:c.Layer.FRONT}],t))||this}var f,y=(o(FeetHuman,f=p),FeetHuman.prototype.calcDrawPoints=function(t,e,r){var n;return r&&(t.ankle.outbot={x:t.ankle.out.x+.2,y:t.ankle.out.y-2.5},t.ankle.outbot.cp1=l.averageQuadratic(t.ankle.out,t.ankle.outbot,.5,.5,.5,void 0,void 0),(n=t.toe=t.toe||{}).center={x:.5*t.ankle.out.x+.5*t.ankle.in.x,y:2-.008*this.feetLength+.02*this.legFem},n.out={x:n.center.x+1-.04*this.legFem+.05*this.feetWidth,y:n.center.y,cp1:{x:t.ankle.outbot.x,y:t.ankle.outbot.y}},n.out.cp2={x:n.out.x+.02*this.legFem,y:n.out.y+1},n.in={x:n.center.x-1.8-.02*this.legFem-.03*this.feetWidth,y:n.out.y-.5-.006*this.feetLength},n.in.cp1={x:n.out.x+1,y:n.out.y-1-.1*e.feetBias*(n.out.y-n.in.y)},n.in.cp2={x:n.in.x+2.5,y:n.in.y-.5-.02*this.legFem},t.ankle.inbot={x:n.center.x-4+.03*this.legFem,y:t.ankle.outbot.y-.5+.03*this.legFem,cp1:{x:n.in.x-1.5,y:n.in.y+1.5}},t.ankle.inbot.cp2={x:t.ankle.inbot.x+1,y:t.ankle.inbot.y-2},t.ankle.in.cp1=l.averageQuadratic(t.ankle.inbot,t.ankle.in,.3,-.5,.5,void 0,void 0)),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot]},FeetHuman);function FeetHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f.apply(this,t)||this}e.FeetHuman=y;var h,d=(o(HoofHorse,h=p),HoofHorse.prototype.stroke=function(){return u.Materials.brownFur.stroke},HoofHorse.prototype.fill=function(){return u.Materials.brownFur.fill},HoofHorse.prototype.calcDrawPoints=function(t,e,r){return r&&(t.ankle.outbot={x:t.ankle.out.x+.2,y:t.ankle.out.y-2.5},t.ankle.outbot.cp1=l.averageQuadratic(t.ankle.out,t.ankle.outbot,.5,.5,.5,void 0,void 0),t.toe=t.toe||{},t.toe.out={x:t.ankle.outbot.x+3-.07*this.legFem,y:1+.02*this.legFem,cp1:{x:t.ankle.outbot.x,y:t.ankle.outbot.y}},t.toe.out.cp2={x:t.toe.out.x+.02*this.legFem,y:t.toe.out.y+1},t.toe.in={x:t.toe.out.x-7+.05*this.legFem,y:t.toe.out.y-2,cp1:{x:t.toe.out.x+1,y:t.toe.out.y-1}},t.toe.in.cp2={x:t.toe.in.x+2.5,y:t.toe.in.y-.5-.02*this.legFem},t.ankle.inbot={x:t.toe.in.x-.5+.02*this.legFem,y:t.ankle.outbot.y-.5+.03*this.legFem,cp1:{x:t.toe.in.x-1.5,y:t.toe.in.y+1.5}},t.ankle.inbot.cp2={x:t.ankle.inbot.x+1,y:t.ankle.inbot.y-2},t.ankle.in.cp1=l.averageQuadratic(t.ankle.inbot,t.ankle.in,.3,-.5,.5,void 0,void 0)),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot]},HoofHorse);function HoofHorse(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.apply(this,a([{uncoverable:!0}],t))||this}e.HoofHorse=d},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.GroinHuman=void 0;var i,c=r(10),s=r(2),l=r(3),u=r(0),p=(i=c.ShadingPart,o(GroinShading,i),GroinShading.prototype.calcDrawPoints=function(t){var e=void 0===t.thigh.fold?u.extractPoint(t.hip):t.thigh.fold,r=u.splitCurve(.2,t.thigh.top,e),n=r.left.p2,o=u.extractPoint(t.groin);o.cp1=u.simpleQuadratic(n,o,.5,2),r=u.splitCurve(.8,t.thigh.top,e);var a=u.reflect(r.left.p2);r.left.p2.cp1&&(a.cp1=u.reflect(r.left.p2.cp1)),r.left.p2.cp2&&(a.cp2=u.reflect(r.left.p2.cp2));var i=u.reflect(t.thigh.top);return n.cp1=u.simpleQuadratic(a,n,.7,-4),[n,o,i,a,n]},GroinShading);function GroinShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"groin",layer:s.Layer.FRONT}],t))||this}var f,y=(f=l.BodyPart,o(Groin,f),Groin);function Groin(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f.apply(this,a([{loc:"groin",forcedSide:null,reflect:!0,layer:s.Layer.FRONT,belowParts:["parts torso"],shadingParts:[p]}],t))||this}var h,d=(o(GroinHuman,h=y),GroinHuman.prototype.getLineWidth=function(){return 0},GroinHuman.prototype.calcDrawPoints=function(t,e,r){var n;return r&&(n=.85*this.height-this.legLength,u.fillerDefinition(t,"thigh"),u.fillerDefinition(t.thigh,"top",{x:1.6,y:t.hip.y-.15*this.legLength}),t.groin={x:0,y:t.thigh.top.y-.015*n},t.groin.top={x:t.thigh.top.x+5,y:t.thigh.top.y+1.1}),[t.groin.top,t.groin,{fillOnly:[t.neck.nape,t.groin.top]}]},GroinHuman);function GroinHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.apply(this,t)||this}e.GroinHuman=d},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.HandHuman=void 0;var i,c=r(2),s=r(3),l=r(0),u=r(6),p=r(8),f=(i=s.BodyPart,o(Hand,i),Hand);function Hand(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"hand",parentPart:"arm",layer:c.Layer.ARMS}],t))||this}var y,h=(o(HandHuman,y=f),HandHuman.prototype.calcDrawPoints=function(t,e,r){var n,o,a,i,c,s;return u.requirePart("wrist",t),r&&(n=t.hand={},o=t.thumb={},a=t.wrist.out,i=.1*this.handSize+.04*this.upperMuscle,n.knuckle={x:a.x+.15*i,y:a.y-.6*i},n.tip={x:a.x+.1*i,y:n.knuckle.y-2-.6*i},n.tip.cp1=u.averageQuadratic(n.knuckle,n.tip,.7,1,-.2,void 0,void 0),n.palm={x:.65*a.x+.35*t.wrist.in.x,y:n.knuckle.y-.1*i,cp1:{x:n.tip.x-.5-.15*i,y:n.tip.y+.1*i}},n.palm.cp2={x:n.palm.x+1+.2*i,y:n.palm.y-1-.2*i},o.tip={x:n.palm.x-.03*i,y:n.palm.y-1-.25*i,cp1:{x:n.palm.x-.1*i,y:n.palm.y-.1*i}},o.tip.cp2={x:o.tip.x+.1*i,y:o.tip.y+.1*i},o.out={x:t.wrist.in.x+.1,y:t.wrist.in.y-.2*i,cp1:{x:o.tip.x-.15*i,y:o.tip.y+.2*i}},o.out.cp2={x:o.out.x-.05*i,y:o.out.y-.2*i},l.rotatePoints(a,(e.armRotation+e.handRotation)*Math.PI/180,n.knuckle,n.tip,n.palm,o.tip,o.out),12<this.upperMuscle&&(c=this.upperMuscle-12,n.knuckle.y-=.05*c,o.tip=l.adjust(o.tip,.03*-c,.05*c),n.tip.y+=.05*c,o.out.cp1.x-=.05*c,o.out.cp2.x-=.02*c,l.rotatePoints(n.knuckle,.035*-c,n.tip,n.palm),s=l.splitCurve(.6,n.knuckle,n.tip),n.fist=s.left.p2,n.tip.cp1=s.right.p2.cp1,l.rotatePoints(n.fist,.05*-c,n.tip,n.palm.cp1,n.palm.cp2),n.palm.x-=.07*c,25<this.upperMuscle&&(n.tip=l.extractPoint(o.tip),n.palm=l.extractPoint(n.palm),o.out=l.extractPoint(o.out),o.knuckle=p.averagePoint(o.tip,o.out),o.knuckle.x-=.06*c),l.rotatePoints(a,.01*-c,n.tip,n.first,n.palm,o.tip,o.knuckle))),[t.wrist.out,t.hand.knuckle,t.hand.fist,t.hand.tip,t.hand.palm,t.thumb.tip,t.thumb.knuckle,t.thumb.out,t.wrist.in]},HandHuman);function HandHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,t)||this}e.HandHuman=h},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.HeadHuman=void 0;var i,c=r(10),s=r(2),l=r(3),u=r(0),p=(i=l.BodyPart,o(Head,i),Head);function Head(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"head",forcedSide:null,parentPart:"neck",layer:s.Layer.BELOW_HAIR,reflect:!0}],t))||this}var f;f=c.ShadingPart,o(BrowShading,f),BrowShading.prototype.calcDrawPoints=function(t){var e=u.splitCurve(.5,t.brow.outbot,t.brow.inbot),r=e.left.p2,n=e.right.p2,o=u.extractPoint(t.nose.top);return o.cp1=u.simpleQuadratic(n,o,.5,-1),r.cp1={x:o.x+.4,y:o.y-.3},r.cp2={x:r.x+.5,y:r.y+1},[r,n,o,r]};function BrowShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f.apply(this,a([{loc:"+head",layer:s.Layer.HAIR}],t))||this}var y,h=(y=c.ShadingPart,o(HeadHumanShading,y),HeadHumanShading.prototype.calcDrawPoints=function(t){var e=function calcHeadShading(t,e){var r=u.splitCurve(.4,t.skull,t.skull.side),n=u.extractPoint(r.left.p2),o=r.right.p2;o=u.adjust(o,.045*-e,0);var a=u.adjust(t.skull.bot,.03*-e,0);a.cp1=u.simpleQuadratic(o,a,.5,.5);var i=t.chin.out?u.adjust(u.extractPoint(t.chin.out),.026*-e,0):{},c=(r=u.splitCurve(.8,i,t.chin.bot)).left.p2;return c.cp1=u.continueCurve(a,i,.7),c.cp2=u.adjust(c.cp2,.02*-e,.1),{top:n,skullSide:o,skullBot:a,chinOut:i,chinBot:c}}(t,this.faceWidth),r=e.top,n=e.skullSide,o=e.skullBot,a=e.chinOut,i=e.chinBot;return r.cp1={x:i.x+.3*this.faceWidth,y:i.y},r.cp2={x:r.x+.4*this.faceWidth,y:r.y},[r,n,o,a,i,r]},HeadHumanShading);function HeadHumanShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,a([{loc:"+head",layer:s.Layer.HAIR}],t))||this}var d,g=(o(HeadHuman,d=p),HeadHuman.prototype.getLineWidth=function(t){return u.clamp(1.7-.05*t.dim.faceFem,.7,1.5)},HeadHuman.prototype.calcDrawPoints=function(t,e,r){var n,o,a;return r&&(n=this.height,o=t.skull={x:0,y:n},t.ear={},o.side={x:.095*this.faceWidth-.01*this.faceFem,y:t.skull.y-.035*this.faceLength,cp1:{x:.045*this.faceWidth,y:n}},o.side.cp2={x:o.side.x,y:n-2},o.bot={x:o.side.x-.0135*this.faceFem,y:o.side.y-5*this.faceLength/220},t.jaw={x:o.bot.x-u.clamp(1.5-.05*this.faceFem-.1*e.jawJut,0,.2*this.faceWidth),y:o.bot.y-u.clamp(.025*this.faceLength-.2*this.faceFem,0,.03*this.faceLength)},t.chin={},t.chin.bot={x:0,y:t.skull.y-.1*this.faceLength+.035*this.faceFem-.1*e.chinLength,cp1:{x:t.jaw.x-u.clamp(1.5-.02*this.faceFem,.5,2),y:t.jaw.y-u.clamp(1+.05*this.faceFem+.1*e.cheekFullness,0,.025*this.faceLength)}},t.chin.bot.cp2={x:.1*this.chinWidth-u.clamp(.22*this.faceFem,0,3),y:t.chin.bot.y-1+u.clamp(.035*this.faceFem,0,2)},a=u.splitCurve(1-.78,t.jaw,t.chin.bot),t.chin.out=a.right.p1,t.chin.out.cp1=a.left.p2.cp1,t.chin.bot=a.right.p2,this.faceFem<13&&(t.chin.out.cp1=u.simpleQuadratic(t.jaw,t.chin.out,.5,.02*this.faceFem))),[t.skull,t.skull.side,t.skull.bot,t.jaw,t.chin.out,t.chin.bot]},HeadHuman);function HeadHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.apply(this,a([{shadingParts:[h]}],t))||this}e.HeadHuman=g},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.LegHuman=void 0;var i,c=r(10),s=r(2),l=r(3),y=r(0),p=r(8),h=r(9),u=(i=c.ShadingPart,o(RightLegShading,i),RightLegShading.prototype.fill=function(){return c.shadingMedium},RightLegShading.prototype.calcDrawPoints=function(t){var e=.1*this.bellyProtrusion,r=y.adjust(t.hip,-3-.04*this.hipWidth+.5*e,-e),n=y.adjust(t.thigh.out,-7-.2*this.legFullness,0),o=p.averagePoint(t.knee.out,t.knee.in);o.cp1=y.continueCurve(r,n,1),o.cp2={x:o.x+5,y:o.y};var a=y.splitCurve(.5,n,o).left.p2;o.cp1={x:a.x,y:a.y-3};var i={x:.7*o.x+.3*t.knee.out.x,y:o.y-2};i.cp1={x:o.x-2,y:o.y-2};var c=y.adjust(t.calf.out,-6-.1*this.legFullness,0);c.cp1={x:i.x+1,y:i.y-5};var s=y.adjust(t.ankle.out,-2,3);s.cp1=y.continueCurve(i,c);var l={x:t.ankle.out.x+20,y:t.ankle.out.y},u={x:t.hip.x+20,y:t.hip.y};return[r,n,a,o,i,c,s,y.extractPoint(t.ankle.out),l,u,r]},RightLegShading);function RightLegShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"right leg",layer:s.Layer.MIDRIFT}],t))||this}var f,d=(f=c.ShadingPart,o(LeftLegShading,f),LeftLegShading.prototype.fill=function(){return c.shadingMedium},LeftLegShading.prototype.calcDrawPoints=function(t){var e=y.adjust(t.ankle.in,3,2),r=y.adjust(t.calf.in,10-.15*this.legFem,0);r.cp1.x-=5;var n={x:.7*t.knee.in.x+.3*t.knee.out.x,y:t.knee.in.y-3};n.cp1=y.continueCurve(e,r),n.cp2={x:n.x+5,y:n.y-2};var o=y.adjust(t.knee.intop,3,2);o.cp1={x:n.x-3,y:n.y+3},o.cp2={x:o.x-1,y:o.y-2};var a=y.splitCurve(.8,t.thigh.top,t.thigh.fold).left.p2;a.cp1=y.simpleQuadratic(o,a,.5,2);var i={x:t.knee.in.x-2,y:t.knee.in.y};i.cp1=y.simpleQuadratic(a,i,.35,-8-.3*this.legFullness-.1*this.legFem);var c=y.extractPoint(t.ankle.in);return c.cp1={x:t.calf.in.x-3,y:t.calf.in.y},[c,e,r,n,o,a,i,c]},LeftLegShading);function LeftLegShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f.apply(this,a([{loc:"left leg",layer:s.Layer.FRONT}],t))||this}var g,P=(g=c.ShadingPart,o(ThighShading,g),ThighShading.prototype.calcDrawPoints=function(t){var e=y.clone(t.thigh.fold),r=y.splitCurve(.85,t.thigh.in,t.thigh.top),n=r.left.p2,o=r.right.p2;return n.cp1=y.clone(e.cp1),--e.cp1.x,e.cp1.y+=1,n.cp1.x+=.5,n.cp1.y-=.5,[o,e,n,o]},ThighShading);function ThighShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.apply(this,a([{loc:"+left leg",layer:s.Layer.FRONT,reflect:!0}],t))||this}var b,v=(b=l.BodyPart,o(Leg,b),Leg);function Leg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.apply(this,a([{loc:"leg",layer:s.Layer.FRONT,parentPart:"torso",shadingParts:[u,d,P]}],t))||this}var _,m=(o(LegHuman,_=v),LegHuman.prototype.calcDrawPoints=function(t,e,r){var n,o,a,i,c,s,l,u,p,f;return r&&(n=.01*this.legLength,(o=t.knee={}).out={x:12-y.clamp(.3*this.legFem,0,9)+.04*this.hipWidth+.03*this.legFullness,y:.5*this.legLength,cp1:{x:t.hip.x+.1*this.legFem+.15*this.buttFullness+.1*this.legFullness-.05*this.lowerMuscle,y:t.hip.y-7-.1*this.legFem-.1*this.buttFullness-.1*this.legFullness}},o.out.cp2={x:o.out.x+4+.1*this.legFem-.05*this.lowerMuscle,y:o.out.y+.25*this.legLength},a=this.lowerMuscle-10,(i=this.legFem<25&&0<a)&&(o.out.cp1.x+=.05*a,o.out.cp1.y-=.05*a,o.out.cp2.x+=.2*a,o.out.cp2.y+=.5*a,t.hip.cp2.x+=.03*a),f=y.splitCurve(.55,t.hip,o.out),(c=t.thigh=t.thigh||{}).out=f.left.p2,o.out=f.right.p2,t.ankle=t.ankle||{},t.ankle.out={x:o.out.x-.5-.05*this.legFullness,y:8},(s=t.calf=t.calf||{}).out={x:o.out.x+(y.clamp(.1*this.legFem,0,3)+y.clamp(.005*this.legFullness,0,3))*n,y:o.out.y-.2*this.legLength+.1*this.lowerMuscle,cp1:{x:o.out.x,y:o.out.y-.1*this.legLength+y.clamp(.05*this.legFem,0,6)}},s.out.cp2={x:s.out.x,y:s.out.y+.1*this.legLength},t.ankle.out.cp1={x:s.out.x,y:s.out.y-.12*this.legLength},t.ankle.out.cp2={x:t.ankle.out.x-1,y:t.ankle.out.y+5},t.ankle.in={x:t.ankle.out.x-5+.02*this.legFem,y:t.ankle.out.y+.5},s.in={x:s.out.x-9+.015*this.legFem-.05*this.legFullness,y:s.out.y-.1*this.legFem},0<(l=15-this.legFem)?s.in.x-=.02*l:s.in.x+=.02*this.legFem,s.in.cp1={x:t.ankle.in.x+.5,y:t.ankle.in.y+(1.3-.03*this.legFem)*this.legLength*.1},s.in.cp2={x:s.in.x+.02*this.legFem,y:s.in.y+(.01*this.legFem-1)*this.legLength*.1},0<l&&(s.in.cp2.x+=.01*l),o.in={x:o.out.x-8-.05*this.legFullness,y:o.out.y},o.in.cp1=y.continueCurve(t.ankle.in,s.in,.7),o.intop={x:o.in.x+.2-.01*this.legFem,y:o.in.y+3},i&&(o.in.x-=.04*a,o.intop.x-=.04*a),o.in.cp2={x:o.in.x,y:o.in.y-.09*this.legLength},c.top={x:1.6,y:t.hip.y-.15*this.legLength,cp1:{x:o.in.x,y:o.in.y+.07*this.legLength}},c.top.cp2={x:2-.03*this.buttFullness-.04*this.legFem,y:c.top.y-.12*this.legLength},i&&(o.in.cp2.x-=.01*a,o.in.cp2.y+=.05*a,o.in.cp1.x-=.1*a,s.in.x-=.1*a,s.in.y+=.1*a,s.in.cp2.x-=.1*a,s.out.x+=.05*a,s.out.cp2.x+=.05*a,s.out.cp1.x+=.02*a,s.out.cp1.y+=.1*a,c.top.cp2.x-=.08*a,c.top.cp2.y-=.08*a,c.top.cp1.y+=.2*a),f=y.splitCurve(.55,o.in,c.top),c.in=f.left.p2,c.top=f.right.p2,u=h.connectEndPoints(c.top,t.hip),p=y.clamp(this.legFem/55-this.lowerMuscle/150-.1,0,1),f=y.splitCurve(p,c.top,u),c.fold=f.left.p2),[y.extractPoint(t.hip),t.thigh.out,t.knee.out,t.calf.out,t.ankle.out,{child:!0},t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,t.thigh.in,t.thigh.top]},LegHuman);function LegHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _.apply(this,t)||this}e.LegHuman=m},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),l=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.NeckHuman=void 0;var a,i=r(10),c=r(2),s=r(3),u=r(0),p=r(6),f=(a=i.ShadingPart,o(ChinShading,a),ChinShading.prototype.calcDrawPoints=function(t){var e=u.adjustPoints(0,-2,t.skull.side,t.skull.bot,t.jaw,t.chin.out,t.chin.bot),r=e[0],n=e[1],o=e[2],a=e[3],i=e[4],c=u.reflect(a);c.cp1=u.reflect(i.cp2),c.cp2=u.reflect(i.cp1);var s=u.reflect(o);return s.cp1=u.reflect(a.cp2),s.cp2=u.reflect(a.cp1),u.adjustPoints.apply(void 0,l([1.3,0],u.adjustPoints(1.8,0,r,n,o,a,i),[c,s]))},ChinShading);function ChinShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.apply(this,l([{loc:"+neck",layer:c.Layer.GENITALS}],t))||this}var y,h=(y=i.ShadingPart,o(NeckShading,y),NeckShading.prototype.calcDrawPoints=function(t){var e={x:0,y:t.neck.top.y},r={x:t.neck.cusp.x,y:t.neck.cusp.y-3};r.cp1=t.neck.cusp.cp1;var n={x:t.neck.top.x+1,y:t.neck.top.y};return n.cp1=t.neck.cusp.cp1,[e,r,n,e]},NeckShading);function NeckShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,l([{loc:"+neck",layer:c.Layer.GENITALS}],t))||this}var d,g=(d=s.BodyPart,o(Neck,d),Neck);function Neck(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.apply(this,l([{loc:"neck",forcedSide:null,layer:c.Layer.FRONT,reflect:!0,shadingParts:[f,h]}],t))||this}var P,b=(o(NeckHuman,P=g),NeckHuman.prototype.calcDrawPoints=function(t,e,r){var n,o;return r&&((n=t.neck={}).nape={x:0,y:t.skull.y-.068*this.faceLength},n.top={x:.1*this.neckWidth+.05*this.upperMuscle-.01*this.faceFem,y:n.nape.y},n.cusp={x:n.top.x+.2,y:n.top.y-.1*this.neckLength},n.cusp.cp1=u.simpleQuadratic(n.top,n.cusp,.7,.1*e.neckCurve),12<this.upperMuscle?(o=u.splitCurve(u.clamp(1-(this.upperMuscle-12)/80,0,1),n.top,n.cusp),t.trapezius=o.right.p1):t.trapezius=u.clone(n.cusp),t.collarbone={x:n.cusp.x+.1*this.shoulderWidth+.01*this.upperMuscle,y:n.cusp.y-.105*this.torsoLength+.05*this.upperMuscle},12<this.upperMuscle?(t.collarbone.x+=.1*(this.upperMuscle-12),t.collarbone.cp1=p.averageQuadratic(t.trapezius,t.collarbone,.7,.02*this.upperMuscle,.02*this.upperMuscle,void 0,void 0)):t.collarbone.cp1=p.averageQuadratic(n.cusp,t.collarbone,.3,-.05*(12-this.upperMuscle),-.05*(12-this.upperMuscle),void 0,void 0)),[t.neck.nape,t.neck.top,t.neck.cusp,t.trapezius,t.collarbone]},NeckHuman);function NeckHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P.apply(this,t)||this}e.NeckHuman=b},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.PenisHeadHuman=e.PenisHuman=void 0;var i,c=r(2),s=r(3),l=r(0),u=r(16),p=r(8),f=r(6),y=(i=s.BodyPart,o(Penis,i),Penis.prototype.getLineWidth=function(t){return l.clamp(t.getDim("penisSize")/100,.8,1.5)},Penis);function Penis(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"penis",layer:c.Layer.MALE_GENITALS,coverConceal:["groin","left leg"],aboveParts:["testicles"]}],t))||this}var h,d=(o(PenisHuman,h=y),PenisHuman.prototype.stroke=function(){return"inherit"},PenisHuman.prototype.calcDrawPoints=function(t,e,r){var n;r&&((n=t.penis={}).center={x:0,y:t.groin.y+3},n.top={x:n.center.x+1+.01*e.penisThickness+.005*this.penisSize,y:n.center.y+.006*this.penisSize},n.bot={x:n.top.x-l.clamp(.5-.01*e.penisThickness-1e-4*this.penisSize,0,5),y:n.top.y-.1*this.penisSize},n.tip={x:n.center.x,y:n.bot.y-1-.01*this.penisSize},n.bot.cp1=l.simpleQuadratic(n.top,n.bot,.4,l.clamp(.5+.01*e.penisThickness-.002*this.penisSize,0,3)),n.tip.cp1={x:n.bot.x+.004*this.penisSize,y:n.bot.y-.005*this.penisSize},n.tip.cp2={x:n.tip.x+1,y:n.tip.y+.2});var o=l.reflect(t.penis.bot),a=l.reflect(t.penis.top);return o.cp1=l.reflect(t.penis.tip.cp2),o.cp2=l.reflect(t.penis.tip.cp1),a.cp1=l.reflect(t.penis.bot.cp1),10<this.penisSize?[t.penis.top,t.penis.bot,t.penis.tip,o,a]:[]},PenisHuman);function PenisHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h.apply(this,t)||this}e.PenisHuman=d;var g,P=(g=u.DecorativePart,o(PenisHead,g),PenisHead.prototype.getLineWidth=function(t){return l.clamp(t.getDim("penisSize")/100,.8,1.5)},PenisHead);function PenisHead(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return g.apply(this,a([{loc:"penis",layer:c.Layer.MALE_GENITALS,coverConceal:["groin","left leg"]}],t))||this}var b,v=(o(PenisHeadHuman,b=P),PenisHeadHuman.prototype.fill=function(t,e){return p.adjustColor(e.baseStroke,{l:-5,s:-5})},PenisHeadHuman.prototype.stroke=function(t,e){return p.adjustColor(e.baseStroke,{l:-5,s:-3})},PenisHeadHuman.prototype.calcDrawPoints=function(t,e,r){if(e.arousal<50)return[];f.requirePart("penis",t),r&&(t.penis.tiptop={x:t.penis.center.x,y:t.penis.bot.y+.003*this.penisSize});var n=l.extractPoint(t.penis.bot);n.cp1=l.simpleQuadratic(t.penis.tiptop,n,.5,.5);var o=l.reflect(t.penis.bot);return o.cp1=l.reflect(t.penis.tip.cp2),o.cp2=l.reflect(t.penis.tip.cp1),t.penis.tiptop.cp1=l.simpleQuadratic(o,t.penis.tiptop,.5,.5),[t.penis.tiptop,n,t.penis.tip,o,t.penis.tiptop]},PenisHeadHuman);function PenisHeadHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.apply(this,t)||this}e.PenisHeadHuman=v},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.TesticlesHuman=void 0;var i,c=r(2),s=r(3),l=r(0),u=(i=s.BodyPart,o(Testicles,i),Testicles);function Testicles(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"testicles",layer:c.Layer.MALE_GENITALS,coverConceal:["groin","left leg"]}],t))||this}var p,f=(o(TesticlesHuman,p=u),TesticlesHuman.prototype.getLineWidth=function(t){return l.clamp(t.getDim("testicleSize")/60,.5,2)},TesticlesHuman.prototype.stroke=function(){return"inherit"},TesticlesHuman.prototype.calcDrawPoints=function(t,e,r){var n;return r&&((n=t.testicles={}).center={x:0,y:t.groin.y+3},n.top={x:n.center.x+1.5+.003*this.testicleSize,y:n.center.y+.006*this.testicleSize},n.side={x:n.center.x+.06*this.testicleSize,y:n.center.y-.1*this.testicleSize},n.bot={x:n.center.x,y:n.side.y-.02*this.testicleSize},n.side.cp1={x:n.top.x,y:n.top.y-.04*this.testicleSize},n.side.cp2={x:n.side.x+.01*this.testicleSize,y:n.side.y+.05*this.testicleSize},n.bot.cp1=l.simpleQuadratic(n.side,n.bot,.5,.05*this.testicleSize),n.center.cp1=l.simpleQuadratic(n.bot,n.center,.3,.01*this.testicleSize)),20<this.testicleSize?[t.testicles.top,t.testicles.side,t.testicles.bot,l.adjust(t.testicles.center,0,-4)]:[]},TesticlesHuman);function TesticlesHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(this,a([{reflect:!0}],t))||this}e.TesticlesHuman=f},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.TorsoHuman=void 0;var i=r(10),c=r(2),s=r(3),l=r(0),u=r(4);function calcTorsoShading(t){var e=t.armpit;t.breast&&(e=l.splitCurve(.1,t.armpit,t.waist).left.p2);var r=.1*this.bellyProtrusion,n=l.adjust(e,-2-.03*this.shoulderWidth,-5),o=l.adjust(t.waist,-1-.03*this.waistWidth+.3*r,-4);o.cp1.x-=.5*r;var a=l.adjust(t.hip,-3-.04*this.hipWidth-r,-r);a.cp1=l.adjust(a.cp1,.02*this.hipWidth+1.8*r,.2*-r),a.cp2=l.adjust(a.cp2,.3*r,.1*-r);var i={x:t.hip.x+5,y:t.hip.y+.1*r},c={x:t.waist.x+5,y:t.waist.y},s={x:t.armpit.x+5,y:e.y};return n.cp1=l.simpleQuadratic(s,n,.7,-4),[n,o,a,i,c,s,n]}var p,f=(p=i.ShadingPart,o(BellyTopShading,p),BellyTopShading.prototype.fill=function(){return i.shadingMedium},BellyTopShading.prototype.calcDrawPoints=function(t){var e=.1*this.bellyProtrusion;if(0==e)return[];var r=calcTorsoShading.call(this,t),n=r[0],o=r[1],a=l.splitCurve(.5,n,o),i=l.adjust(a.left.p2,-e,0);return i.cp1=l.simpleQuadratic(n,i,.5,.2*u.dist(n,i)),delete i.cp2,o.cp1=l.simpleQuadratic(i,o,.3,2),delete o.cp2,[n,i,o,n]},BellyTopShading);function BellyTopShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(this,a([{loc:"+torso",layer:c.Layer.FRONT}],t))||this}var y,h=(y=i.ShadingPart,o(TorsoShading,y),TorsoShading.prototype.fill=function(){return i.shadingMedium},TorsoShading.prototype.calcDrawPoints=function(t){return calcTorsoShading.call(this,t)},TorsoShading);function TorsoShading(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return y.apply(this,a([{loc:"+torso",layer:c.Layer.MIDRIFT}],t))||this}var d,g=(d=s.BodyPart,o(Torso,d),Torso);function Torso(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d.apply(this,a([{loc:"torso",forcedSide:null,reflect:!0,layer:c.Layer.FRONT,shadingParts:[h,f]}],t))||this}var P,b=(o(TorsoHuman,P=g),TorsoHuman.prototype.calcDrawPoints=function(t,e,r){var n,o,a;return r&&(l.fillerDefinition(t,"armpit",{x:t.collarbone.x-.03*this.upperMuscle,y:t.collarbone.y-12-.1*this.upperMuscle}),t.hasOwnProperty("elbow")?(n=l.splitCurve(l.clamp(1.2-this.upperMuscle/40,.6,1),t.elbow.in,t.armpit),t.lat=n.right.p1,t.lat.cp1=n.right.p2.cp2,t.lat.cp2=n.right.p2.cp1):l.fillerDefinition(t,"lat",{x:t.armpit.x+.5,y:t.armpit.y-3}),o=.1*this.bellyProtrusion,a=.1*(this.shoulderWidth-80),t.waist={x:.1*this.waistWidth+.7*a+.5*o,y:t.armpit.y-.33*this.torsoLength-.5*o,cp1:{x:t.armpit.x-.1*o,y:t.armpit.y-5-.5*o}},t.waist.cp2={x:t.waist.x-.5*o,y:t.waist.y+.01*this.waistWidth+.1*a+o},t.hip={x:.1*this.hipWidth+.5*a,y:t.waist.y-.32*this.torsoLength+.5*o,cp1:{x:t.waist.x+.5*o,y:t.waist.y-.2*this.torsoLength}},t.hip.cp2={x:t.hip.x-.03*this.buttFullness-.05*this.legFem+.1*o,y:t.hip.y+4+.015*this.buttFullness-.5*o},t.pelvis={x:0,y:t.hip.y-.05*this.torsoLength}),t.hasOwnProperty("knee")?[t.armpit,t.lat,t.waist,t.hip,l.endPoint]:[t.armpit,t.lat,t.waist,t.hip,t.groin]},TorsoHuman);function TorsoHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P.apply(this,t)||this}e.TorsoHuman=b},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.VaginaHuman=void 0;var i,c=r(2),s=r(3),l=r(0),u=(i=s.BodyPart,o(Vagina,i),Vagina);function Vagina(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.apply(this,a([{loc:"vagina",forcedSide:null,layer:c.Layer.FRONT,aboveParts:["parts groin"],belowParts:["leg","clothingParts groin"]}],t))||this}var p,f=(o(VaginaHuman,p=u),VaginaHuman.prototype.stroke=function(){return"inherit"},VaginaHuman.prototype.calcDrawPoints=function(t,e,r){return r&&(t.vagina={},t.coverGroin=!0,t.vagina.top={x:t.groin.x,y:t.groin.y+.022*this.vaginaSize+.005*e.labiaFullness},t.vagina.side=l.extractPoint(t.thigh.top),t.vagina.side.y+=.1*e.labiaFullness+.005*this.vaginaSize+.5,t.vagina.side.x+=.02*e.labiaFullness+.002*this.vaginaSize,t.vagina.top.cp1={x:t.vagina.side.x,y:t.vagina.side.y-.8-(.1*e.labiaFullness+.005*this.vaginaSize)},t.vagina.top.cp2={x:t.vagina.top.x,y:t.vagina.top.y-.032*this.vaginaSize}),[t.vagina.side,t.vagina.top]},VaginaHuman);function VaginaHuman(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return p.apply(this,a([{reflect:!0}],t))||this}e.VaginaHuman=f},function(t,e,r){"use strict";var _=r(97),m=r(51),s=r(99),S=r(107),C=r(109),O=r(115),k=r(116),l=r(117),n=r(33),o=r(125),w=r(127),j=r(130),a=r(135),x=r(142),A=r(153),L=o("Date.prototype.getTime"),T=Object.getPrototypeOf,B=o("Object.prototype.toString"),E=n("%Set%",!0),R=o("Map.prototype.has",!0),I=o("Map.prototype.get",!0),H=o("Map.prototype.size",!0),F=o("Set.prototype.add",!0),u=o("Set.prototype.delete",!0),M=o("Set.prototype.has",!0),D=o("Set.prototype.size",!0);function setHasEqualElement(t,e,r,n){for(var o,a=j(t);(o=a.next())&&!o.done;)if(internalDeepEqual(e,o.value,r,n))return u(t,o.value),1}function findLooseMatchingPrimitives(t){return void 0===t?null:"object"!=typeof t?"symbol"!=typeof t&&("string"!=typeof t&&"number"!=typeof t||+t==+t):void 0}function mapHasEqualEntry(t,e,r,n,o,a){for(var i,c,s=j(t);(i=s.next())&&!i.done;)if(internalDeepEqual(r,c=i.value,o,a)&&internalDeepEqual(n,I(e,c),o,a))return u(t,c),1}function internalDeepEqual(t,e,r,n){var o=r||{};if(o.strict?s(t,e):t===e)return!0;if(l(t)!==l(e))return!1;if(!t||!e||"object"!=typeof t&&"object"!=typeof e)return o.strict?s(t,e):t==e;var a,i=n.has(t),c=n.has(e);if(i&&c){if(n.get(t)===n.get(e))return!0}else a={};return i||n.set(t,a),c||n.set(e,a),function objEquiv(t,e,r,n){var o,a;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if(B(t)!==B(e))return!1;if(m(t)!==m(e))return!1;var i=O(t),c=O(e);if(i!==c)return!1;var s=t instanceof Error,l=e instanceof Error;if(s!=l)return!1;if((s||l)&&(t.name!==e.name||t.message!==e.message))return!1;var u=S(t),p=S(e);if(u!==p)return!1;if((u||p)&&(t.source!==e.source||C(t)!==C(e)))return!1;var f=k(t),y=k(e);if(f!==y)return!1;if((f||y)&&L(t)!==L(e))return!1;if(r.strict&&T&&T(t)!==T(e))return!1;if(x(t)!==x(e))return!1;var h=isBuffer(t),d=isBuffer(e);if(h!==d)return!1;if(h||d){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;var g=_(t),P=_(e);if(g.length!==P.length)return!1;for(g.sort(),P.sort(),o=g.length-1;0<=o;o--)if(g[o]!=P[o])return!1;for(o=g.length-1;0<=o;o--)if(a=g[o],!internalDeepEqual(t[a],e[a],r,n))return!1;var b=w(t),v=w(e);return b===v&&("Set"!==b&&"Set"!==v?"Map"!==b||function mapEquiv(t,e,r,n){if(H(t)!==H(e))return!1;var o,a,i,c,s,l,u=j(t),p=j(e);for(;(o=u.next())&&!o.done;)if(c=o.value[0],s=o.value[1],c&&"object"==typeof c)i=i||new E,F(i,c);else if(void 0===(l=I(e,c))&&!R(e,c)||!internalDeepEqual(s,l,r,n)){if(r.strict)return!1;if(!function mapMightHaveLoosePrim(t,e,r,n,o,a){var i=findLooseMatchingPrimitives(r);if(null!=i)return i;var c=I(e,i),s=A({},o,{strict:!1});return(void 0!==c||R(e,i))&&internalDeepEqual(n,c,s,a)&&(!R(t,i)&&internalDeepEqual(n,c,s,a))}(t,e,c,s,r,n))return!1;i=i||new E,F(i,c)}if(i){for(;(a=p.next())&&!a.done;)if(c=a.value[0],l=a.value[1],c&&"object"==typeof c){if(!mapHasEqualEntry(i,t,c,l,r,n))return!1}else if(!(r.strict||t.has(c)&&internalDeepEqual(I(t,c),l,r,n)||mapHasEqualEntry(i,t,c,l,A({},r,{strict:!1}),n)))return!1;return 0===D(i)}return!0}(t,e,r,n):function setEquiv(t,e,r,n){if(D(t)!==D(e))return!1;var o,a,i,c=j(t),s=j(e);for(;(o=c.next())&&!o.done;)if(o.value&&"object"==typeof o.value)i=i||new E,F(i,o.value);else if(!M(e,o.value)){if(r.strict)return!1;if(!function setMightHaveLoosePrim(t,e,r){var n=findLooseMatchingPrimitives(r);return null!=n?n:M(e,n)&&!M(t,n)}(t,e,o.value))return!1;i=i||new E,F(i,o.value)}if(i){for(;(a=s.next())&&!a.done;)if(a.value&&"object"==typeof a.value){if(!setHasEqualElement(i,a.value,r.strict,n))return!1}else if(!r.strict&&!M(t,a.value)&&!setHasEqualElement(i,a.value,r.strict,n))return!1;return 0===D(i)}return!0}(t,e,r,n))}(t,e,o,n)}function isBuffer(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&(!(0<t.length&&"number"!=typeof t[0])&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))))}t.exports=function deepEqual(t,e,r){return internalDeepEqual(t,e,r,a())}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25);e.default=function loadPatterns(){n.addPattern("sequins","https://i.imgur.com/PoQcggD.jpg"),n.addPattern("soft brown fur","https://i.imgur.com/1v9coRk.jpg"),n.addPattern("coarse fur","https://i.imgur.com/Ikt1KHU.png"),n.addPattern("black leather","https://i.imgur.com/xfA29GM.jpg"),n.addPattern("brown leather","https://i.imgur.com/hVWtAl0.jpg"),n.addPattern("chain mail 1","https://i.imgur.com/W3iSEWa.jpg"),n.addPattern("fishnet","http://i.imgur.com/fU41Daz.png"),n.addPattern("lace","https://i.imgur.com/SWkUyef.jpg"),n.addPattern("red plaid","https://i.imgur.com/sJGeGWR.jpg"),n.addPattern("green camouflage","http://i.imgur.com/cSQUcjj.png"),n.addPattern("camouflage","https://i.imgur.com/EOyjNND.jpg"),n.addPattern("kimono flowers","https://i.imgur.com/d0RFLql.png"),n.addPattern("bandages","http://i.imgur.com/Om7lYpO.png"),n.addPattern("knit cashmere","https://i.imgur.com/kcyIFUT.jpg")}},function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(50),a=Object.keys,i=a?function keys(t){return a(t)}:r(98),c=Object.keys;i.shim=function shimObjectKeys(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function keys(t){return o(t)?c(n.call(t)):c(t)}):Object.keys=i,Object.keys||i},t.exports=i},function(t,e,r){"use strict";var f,y,h,n,d,g,P,b,o,v,a;Object.keys||(f=Object.prototype.hasOwnProperty,y=Object.prototype.toString,h=r(50),n=Object.prototype.propertyIsEnumerable,d=!n.call({toString:null},"toString"),g=n.call(function(){},"prototype"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],b=function(t){var e=t.constructor;return e&&e.prototype===t},o={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},v=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!o["$"+t]&&f.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{b(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),a=function keys(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===y.call(t),n=h(t),o=e&&"[object String]"===y.call(t),a=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var i=g&&r;if(o&&0<t.length&&!f.call(t,0))for(var c=0;c<t.length;++c)a.push(String(c));if(n&&0<t.length)for(var s=0;s<t.length;++s)a.push(String(s));else for(var l in t)i&&"prototype"===l||!f.call(t,l)||a.push(String(l));if(d)for(var u=function(t){if("undefined"==typeof window||!v)return b(t);try{return b(t)}catch(t){return!1}}(t),p=0;p<P.length;++p)u&&"constructor"===P[p]||!f.call(t,P[p])||a.push(P[p]);return a}),t.exports=a},function(t,e,r){"use strict";var n=r(24),o=r(101),a=r(53),i=r(54),c=r(106),s=o(i(),Object);n(s,{getPolyfill:i,implementation:a,shim:c}),t.exports=s},function(t,e,r){"use strict";var n=Object.prototype.toString;t.exports=function isArguments(t){var e=n.call(t);return"[object Arguments]"===e||"[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===n.call(t.callee)}},function(t,e,r){"use strict";var n=r(12),o=r(103)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var s=Array.prototype.slice,l=Object.prototype.toString;t.exports=function bind(e){var r=this;if("function"!=typeof r||"[object Function]"!==l.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,t,o=s.call(arguments,1),a=Math.max(0,r.length-o.length),i=[],c=0;c<a;c++)i.push("$"+c);return n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var t=r.apply(this,o.concat(s.call(arguments)));return Object(t)===t?t:this}return r.apply(e,o.concat(s.call(arguments)))}),r.prototype&&((t=function Empty(){}).prototype=r.prototype,n.prototype=new t,t.prototype=null),n}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function U3a(){throw new i}var o=c?function(){try{return U3a}catch(t){try{return c(arguments,"callee").get}catch(t){return U3a}}}():U3a,a=r(104)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u="undefined"==typeof Uint8Array?n:s(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":l&&a&&Symbol.asyncIterator?l[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":u,"%TypedArrayPrototype%":u?u.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},f=r(12).call(Function.call,String.prototype.replace),y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return f(t,y,function(t,e,r,n){o[o.length]=r?f(n,h,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in p))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===p[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return p[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(105);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(54),o=r(24);t.exports=function shimObjectIs(){var t=n();return o(Object,{is:t},{is:function testObjectIs(){return Object.is!==t}}),t}},function(t,e,r){"use strict";var n=r(108),o=RegExp.prototype.exec,a=Object.getOwnPropertyDescriptor,i=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isRegex(t){if(!t||"object"!=typeof t)return!1;if(!c)return"[object RegExp]"===i.call(t);var e=a(t,"lastIndex");return!(!e||!n(e,"value"))&&function tryRegexExec(t){try{var e=t.lastIndex;return t.lastIndex=0,o.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,r){"use strict";var n=r(12);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(24),o=r(110),a=r(55),i=r(56),c=r(114),s=o(a);n(s,{getPolyfill:i,implementation:a,shim:c}),t.exports=s},function(t,e,r){"use strict";var n=r(12),o=r(111)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n,i=TypeError,c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(t){c=null}function N5a(){throw new i}var o=c?function(){try{return N5a}catch(t){try{return c(arguments,"callee").get}catch(t){return N5a}}}():N5a,a=r(112)(),s=Object.getPrototypeOf||function(t){return t.__proto__},l=n,u="undefined"==typeof Uint8Array?n:s(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":a?s([][Symbol.iterator]()):n,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":n,"%AsyncIteratorPrototype%":l&&a&&Symbol.asyncIterator?l[Symbol.asyncIterator]():n,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?n:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?n:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?n:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?n:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":n,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":n,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?n:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?n:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?n:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":a?s(s([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%JSONParse%":"object"==typeof JSON?JSON.parse:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&a?s((new Map)[Symbol.iterator]()):n,"%MapPrototype%":"undefined"==typeof Map?n:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%PromisePrototype%":"undefined"==typeof Promise?n:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?n:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?n:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?n:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?n:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&a?s((new Set)[Symbol.iterator]()):n,"%SetPrototype%":"undefined"==typeof Set?n:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":a?s(""[Symbol.iterator]()):n,"%StringPrototype%":String.prototype,"%Symbol%":a?Symbol:n,"%SymbolPrototype%":a?Symbol.prototype:n,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":o,"%TypedArray%":u,"%TypedArrayPrototype%":u?u.prototype:n,"%TypeError%":i,"%TypeErrorPrototype%":i.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?n:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?n:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?n:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?n:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?n:WeakSet.prototype},f=r(12).call(Function.call,String.prototype.replace),y=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g;t.exports=function GetIntrinsic(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var r=function stringToPath(t){var o=[];return f(t,y,function(t,e,r,n){o[o.length]=r?f(n,h,"$1"):e||t}),o}(t),n=function getBaseIntrinsic(t,e){if(!(t in p))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===p[t]&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return p[t]}("%"+(0<r.length?r[0]:"")+"%",e),o=1;o<r.length;o+=1)if(null!=n)if(c&&o+1>=r.length){var a=c(n,r[o]);if(!(e||r[o]in n))throw new i("base intrinsic for "+t+" exists, but the property is not available.");n=a?a.get||a.value:n[r[o]]}else n=n[r[o]];return n}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(113);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(24).supportsDescriptors,o=r(56),a=Object.getOwnPropertyDescriptor,i=Object.defineProperty,c=TypeError,s=Object.getPrototypeOf,l=/a/;t.exports=function shimFlags(){if(!n||!s)throw new c("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=s(l),r=a(e,"flags");return r&&r.get===t||i(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isDateObject(t){return"object"==typeof t&&null!==t&&(a?function tryDateGetDayCall(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},function(t,e,r){"use strict";var n=r(57),o=r(118),a=r(119),i=r(120),c=r(122);t.exports=function whichBoxedPrimitive(t){return null==t||"object"!=typeof t&&"function"!=typeof t?null:n(t)?"String":o(t)?"Number":a(t)?"Boolean":i(t)?"Symbol":c(t)?"BigInt":void 0}},function(t,e,r){"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isNumberObject(t){return"number"==typeof t||"object"==typeof t&&(a?function tryNumberObject(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Number]"===o.call(t))}},function(t,e,r){"use strict";var n=Boolean.prototype.toString,o=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function isBoolean(t){return"boolean"==typeof t||null!==t&&"object"==typeof t&&(a&&Symbol.toStringTag in t?function booleanBrandCheck(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Boolean]"===o.call(t))}},function(t,e,r){"use strict";var n,o,a=Object.prototype.toString;r(121)()?(n=Symbol.prototype.toString,o=/^Symbol\(.*\)$/,t.exports=function isSymbol(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==a.call(t))return!1;try{return function isRealSymbolObject(t){return"symbol"==typeof t.valueOf()&&o.test(n.call(t))}(t)}catch(t){return!1}}):t.exports=function isSymbol(){return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(58);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";var n;"function"==typeof BigInt?(n=BigInt.prototype.valueOf,t.exports=function isBigInt(t){return null!=t&&"boolean"!=typeof t&&"string"!=typeof t&&"number"!=typeof t&&"symbol"!=typeof t&&"function"!=typeof t&&("bigint"==typeof t||function tryBigIntObject(t){try{return n.call(t),!0}catch(t){}return!1}(t))}):t.exports=function isBigInt(){return!1}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(124);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(33),o=r(126),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(12),o=r(33)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(59),o=r(60),a=r(128),i=r(129);t.exports=function whichCollection(t){if(t&&"object"==typeof t){if(n(t))return"Map";if(o(t))return"Set";if(a(t))return"WeakMap";if(i(t))return"WeakSet"}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,a="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function isWeakMap(){return!1});var i=o?o.prototype.has:null,c=a?a.prototype.has:null;n||i||(n=function isWeakMap(){return!1}),t.exports=n||function isWeakMap(t){if(!t||"object"!=typeof t)return!1;try{if(i.call(t,i),c)try{c.call(t,c)}catch(t){return!0}return t instanceof o}catch(t){}return!1}},function(t,e,r){"use strict";var n,o="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,a="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;o||(n=function isWeakSet(){return!1});var i=o?o.prototype.has:null,c=a?a.prototype.has:null;n||c||(t.exports=function isWeakSet(){return!1}),t.exports=n||function isWeakSet(t){if(!t||"object"!=typeof t)return!1;try{if(c.call(t,c),i)try{i.call(t,i)}catch(t){return!0}return t instanceof a}catch(t){}return!1}},function(C,t,O){"use strict";(function(t){var e,o,a,r,n,i,c,s,l,u,p,f,y,h,d,g,P,b,v,_,m,S=O(51);O(61)()||O(62)()?(e=Symbol.iterator,C.exports=function getIterator(t){return null!=t&&void 0!==t[e]?t[e]():S(t)?Array.prototype[e].call(t):void 0}):(o=O(132),a=O(57),n=(r=O(34))("%Map%",!0),i=r("%Set%",!0),c=O(133),s=c("Array.prototype.push"),l=c("String.prototype.charCodeAt"),u=c("String.prototype.slice"),p=function getArrayIterator(r){var n=0;return{next:function next(){var t,e=n>=r.length;return e||(t=r[n],n+=1),{done:e,value:t}}}},f=function getNonCollectionIterator(r){if(o(r)||S(r))return p(r);if(a(r)){var n=0;return{next:function next(){var t=function advanceStringIndex(t,e){if(t.length<=e+1)return e+1;var r=l(t,e);if(r<55296||56319<r)return e+1;var n=l(t,e+1);return n<56320||57343<n?e+1:e+2}(r,n),e=u(r,n,t);return{done:(n=t)>r.length,value:e}}}}},n||i?(y=O(59),h=O(60),d=c("Map.prototype.forEach",!0),g=c("Set.prototype.forEach",!0),void 0!==t&&t.versions&&t.versions.node||(P=c("Map.prototype.iterator",!0),b=c("Set.prototype.iterator",!0),v=function(t){var e=!1;return{next:function next(){try{return{done:e,value:e?void 0:t.next()}}catch(t){return{done:e=!0,value:void 0}}}}}),_=c("Map.prototype.@@iterator",!0)||c("Map.prototype._es6-shim iterator_",!0),m=c("Set.prototype.@@iterator",!0)||c("Set.prototype._es6-shim iterator_",!0),C.exports=function getIterator(t){return function getCollectionIterator(t){if(y(t)){if(P)return v(P(t));if(_)return _(t);if(d){var r=[];return d(t,function(t,e){s(r,[e,t])}),p(r)}}if(h(t)){if(b)return v(b(t));if(m)return m(t);if(g){var e=[];return g(t,function(t){s(e,t)}),p(e)}}}(t)||f(t)}):C.exports=f)}).call(this,O(131))},function(t,e){var r,n,o=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){n=defaultClearTimeout}}();var a,i=[],c=!1,s=-1;function cleanUpNextTick(){c&&a&&(c=!1,a.length?i=a.concat(i):s=-1,i.length&&drainQueue())}function drainQueue(){if(!c){var t=runTimeout(cleanUpNextTick);c=!0;for(var e=i.length;e;){for(a=i,i=[];++s<e;)a&&a[s].run();s=-1,e=i.length}a=null,c=!1,function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];i.push(new Item(t,e)),1!==i.length||c||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(34),o=r(134),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(12),o=r(34)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(35),o=r(138),a=r(140),i=n("%TypeError%"),c=n("%WeakMap%",!0),s=n("%Map%",!0),l=o("Array.prototype.push"),u=o("WeakMap.prototype.get",!0),p=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),y=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0);t.exports=function getSideChannel(){var r,n,o,e={assert:function(t){if(!e.has(t))throw new i("Side channel does not contain "+a(t))},get:function(t){if(c&&t&&("object"==typeof t||"function"==typeof t)){if(r)return u(r,t)}else if(s){if(n)return y(n,t)}else if(o)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return t[r].value}(o,t)},has:function(t){if(c&&t&&("object"==typeof t||"function"==typeof t)){if(r)return f(r,t)}else if(s){if(n)return d(n,t)}else if(o)return function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].key===e)return!0;return!1}(o,t);return!1},set:function(t,e){c&&t&&("object"==typeof t||"function"==typeof t)?(r=r||new c,p(r,t,e)):s?(n=n||new s,h(n,t,e)):function(t,e,r){for(var n=0;n<t.length;n+=1)if(t[n].key===e)return t[n].value=r;l(t,{key:e,value:r})}(o=o||[],t,e)}};return e}},function(n,t,o){"use strict";(function(t){var e=t.Symbol,r=o(137);n.exports=function hasNativeSymbols(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&r())))}}).call(this,o(15))},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(35),o=r(139),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";var n=r(12),o=r(35)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=n&&o&&"function"==typeof o.get?o.get:null,g=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,i=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P=a&&i&&"function"==typeof i.get?i.get:null,b=a&&Set.prototype.forEach,v="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m=Boolean.prototype.valueOf,c=Object.prototype.toString,S=String.prototype.match,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,s=r(141).custom,O=s&&isSymbol(s)?s:null;function wrapQuotes(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function isArray(t){return"[object Array]"===toStr(t)}function isSymbol(t){return"[object Symbol]"===toStr(t)}t.exports=function inspect_(r,t,n,o){var a=t||{};if(has(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(void 0===r)return"undefined";if(null===r)return"null";if("boolean"==typeof r)return r?"true":"false";if("string"==typeof r)return function inspectString(t,e){return wrapQuotes(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,lowbyte),"single",e)}(r,a);if("number"==typeof r)return 0===r?0<1/0/r?"0":"-0":String(r);if("bigint"==typeof r)return String(r)+"n";var e=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),e<=n&&0<e&&"object"==typeof r)return"[Object]";if(void 0===o)o=[];else if(0<=function indexOf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}(o,r))return"[Circular]";function inspect(t,e){return e&&(o=o.slice()).push(e),inspect_(t,a,n+1,o)}if("function"==typeof r){var i=function nameOf(t){if(t.name)return t.name;var e=S.call(t,/^function\s*([\w$]+)/);if(e)return e[1];return null}(r);return"[Function"+(i?": "+i:"")+"]"}if(isSymbol(r)){var c=Symbol.prototype.toString.call(r);return"object"==typeof r?markBoxed(c):c}if(function isElement(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(r)){for(var s="<"+String(r.nodeName).toLowerCase(),l=r.attributes||[],u=0;u<l.length;u++)s+=" "+l[u].name+"="+wrapQuotes(function quote(t){return String(t).replace(/"/g,"&quot;")}(l[u].value),"double",a);return s+=">",r.childNodes&&r.childNodes.length&&(s+="..."),s+="</"+String(r.nodeName).toLowerCase()+">"}if(isArray(r))return 0===r.length?"[]":"[ "+arrObjKeys(r,inspect).join(", ")+" ]";if(function isError(t){return"[object Error]"===toStr(t)}(r)){var p=arrObjKeys(r,inspect);return 0===p.length?"["+String(r)+"]":"{ ["+String(r)+"] "+p.join(", ")+" }"}if("object"==typeof r){if(O&&"function"==typeof r[O])return r[O]();if("function"==typeof r.inspect)return r.inspect()}if(function isMap(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t);try{P.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(r)){var f=[];return g.call(r,function(t,e){f.push(inspect(e,r)+" => "+inspect(t,r))}),collectionOf("Map",d.call(r),f)}if(function isSet(t){if(!P||!t||"object"!=typeof t)return!1;try{P.call(t);try{d.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(r)){var y=[];return b.call(r,function(t){y.push(inspect(t,r))}),collectionOf("Set",P.call(r),y)}if(function isWeakMap(t){if(!v||!t||"object"!=typeof t)return!1;try{v.call(t,v);try{_.call(t,_)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(r))return"WeakMap { ? }";if(function isWeakSet(t){if(!_||!t||"object"!=typeof t)return!1;try{_.call(t,_);try{v.call(t,v)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(r))return"WeakSet { ? }";if(function isNumber(t){return"[object Number]"===toStr(t)}(r))return markBoxed(inspect(Number(r)));if(function isBigInt(t){return"[object BigInt]"===toStr(t)}(r))return markBoxed(inspect(C.call(r)));if(function isBoolean(t){return"[object Boolean]"===toStr(t)}(r))return markBoxed(m.call(r));if(function isString(t){return"[object String]"===toStr(t)}(r))return markBoxed(inspect(String(r)));if(function isDate(t){return"[object Date]"===toStr(t)}(r)||function isRegExp(t){return"[object RegExp]"===toStr(t)}(r))return String(r);var h=arrObjKeys(r,inspect);return 0===h.length?"{}":"{ "+h.join(", ")+" }"};var l=Object.prototype.hasOwnProperty||function(t){return t in this};function has(t,e){return l.call(t,e)}function toStr(t){return c.call(t)}function lowbyte(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16)}function markBoxed(t){return"Object("+t+")"}function collectionOf(t,e,r){return t+" ("+e+") {"+r.join(", ")+"}"}function arrObjKeys(t,e){var r=isArray(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=has(t,o)?e(t[o],t):""}for(var a in t)has(t,a)&&(r&&String(Number(a))===a&&a<t.length||(/[^\w$]/.test(a)?n.push(e(a,t)+": "+e(t[a],t)):n.push(a+": "+e(t[a],t))));return n}},function(t,e){},function(f,t,y){"use strict";(function(a){var e=y(63),t=y(64),r=y(144),n=r("Object.prototype.toString"),o=y(65)()&&"symbol"==typeof Symbol.toStringTag,i=t(),c=r("String.prototype.slice"),s={},l=y(147),u=Object.getPrototypeOf;o&&l&&u&&e(i,function(t){if("function"==typeof a[t]){var e=new a[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r,n=u(e),o=l(n,Symbol.toStringTag);o||(r=u(n),o=l(r,Symbol.toStringTag)),s[t]=o.get}});var p=y(148);f.exports=function whichTypedArray(t){return!!p(t)&&(o?function tryAllTypedArrays(n){var o=!1;return e(s,function(t,e){if(!o)try{var r=t.call(n);r===e&&(o=r)}catch(t){}}),o}(t):c(n(t),8,-1))}}).call(this,y(15))},function(t,e){t.exports=function(t,e,r){if(t.filter)return t.filter(e,r);if(null==t)throw new TypeError;if("function"!=typeof e)throw new TypeError;for(var n,o=[],a=0;a<t.length;a++){i.call(t,a)&&(n=t[a],e.call(r,n,a,t)&&o.push(n))}return o};var i=Object.prototype.hasOwnProperty},function(t,e,r){"use strict";var n=r(36),o=r(146),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(12),o=r(36)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(36)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},function(f,t,y){"use strict";(function(a){var o=y(63),t=y(64),e=y(149),r=e("Object.prototype.toString"),n=y(66)()&&"symbol"==typeof Symbol.toStringTag,i=t(),c=e("Array.prototype.indexOf",!0)||function indexOf(t,e){for(var r=0;r<t.length;r+=1)if(t[r]===e)return r;return-1},s=e("String.prototype.slice"),l={},u=y(152),p=Object.getPrototypeOf;n&&u&&p&&o(i,function(t){var e=new a[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r,n=p(e),o=u(n,Symbol.toStringTag);o||(r=p(n),o=u(r,Symbol.toStringTag)),l[t]=o.get});f.exports=function isTypedArray(t){if(!t||"object"!=typeof t)return!1;if(n)return!!u&&function tryAllTypedArrays(r){var n=!1;return o(l,function(t,e){if(!n)try{n=t.call(r)===e}catch(t){}}),n}(t);var e=s(r(t),8,-1);return-1<c(i,e)}}).call(this,y(15))},function(t,e,r){"use strict";var n=r(37),o=r(151),a=o(n("String.prototype.indexOf"));t.exports=function callBoundIntrinsic(t,e){var r=n(t,!!e);return"function"==typeof r&&a(t,".prototype.")?o(r):r}},function(t,e,r){"use strict";t.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=r(12),o=r(37)("%Function%"),a=o.apply,i=o.call;t.exports=function callBind(){return n.apply(i,arguments)},t.exports.apply=function applyBind(){return n.apply(a,arguments)}},function(t,e,r){"use strict";var n=r(37)("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(t){n=null}t.exports=n},function(t,e,r){"use strict";var n=r(24),o=r(67),a=r(68),i=r(154),c=a();n(c,{getPolyfill:a,implementation:o,shim:i}),t.exports=c},function(t,e,r){"use strict";var n=r(24),o=r(68);t.exports=function shimAssign(){var t=o();return n(Object,{assign:t},{assign:function(){return Object.assign!==t}}),t}},function(t,e,r){var n=r(156);t.exports=function(t,e){if("string"!=typeof e)throw new TypeError("path must be a string");if("object"!=typeof t)throw new TypeError("object must be passed");var r=n.get(e);if(!r.valid)throw new Error("path is not a valid object path");return r.getValueFrom(t)}},function(t,e){function noop(){}var n=function detectEval(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{return new Function("","return true;")()}catch(t){return!1}}();function isIndex(t){return+t==t>>>0&&""!==t}function isObject(t){return t===Object(t)}var r="__proto__"in{}?function(t){return t}:function(e){var t=e.__proto__;if(!t)return e;var r=Object.create(t);return Object.getOwnPropertyNames(e).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}),r};function parsePath(e){var t,r,n,o,a,i,c,s=[],l=-1,u="beforePath",p={push:function(){void 0!==n&&(s.push(n),n=void 0)},append:function(){void 0===n?n=r:n+=r}};for(;u;)if("\\"!=(t=e[++l])||!function maybeUnescapeQuote(){if(!(l>=e.length)){var t=e[l+1];return("inSingleQuote"==u&&"'"==t||"inDoubleQuote"==u&&'"'==t)&&(l++,r=t,p.append(),1)}}()){if(o=function getPathCharType(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return 97<=e&&e<=122||65<=e&&e<=90?"ident":49<=e&&e<=57?"number":"else"}(t),"error"==(a=(c=f[u])[o]||c.else||"error"))return;if(u=a[0],i=p[a[1]]||noop,r=void 0===a[2]?t:a[2],i(),"afterPath"===u)return s}}var o=new RegExp("^[$_a-zA-Z]+[$_a-zA-Z0-9]*$");function isIdent(t){return o.test(t)}var a={};function Path(t,e){if(e!==a)throw Error("Use Path.get to retrieve path objects");for(var r=0;r<t.length;r++)this.push(String(t[r]));n&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}var i={};function formatAccessor(t){return isIndex(t)?"["+t+"]":'["'+t.replace(/"/g,'\\"')+'"]'}Path.get=function getPath(t){if(t instanceof Path)return t;if(null!=t&&0!=t.length||(t=""),"string"!=typeof t){if(isIndex(t.length))return new Path(t,a);t=String(t)}if(r=i[t])return r;var e=parsePath(t);if(!e)return c;var r=new Path(e,a);return i[t]=r},Path.prototype=r({__proto__:[],valid:!0,toString:function(){for(var t="",e=0;e<this.length;e++){var r=this[e];isIdent(r)?t+=e?"."+r:r:t+=formatAccessor(r)}return t},getValueFrom:function(t,e){for(var r=0;r<this.length;r++){if(null==t)return;t=t[this[r]]}return t},iterateObjects:function(t,e){for(var r=0;r<this.length;r++){if(r&&(t=t[this[r-1]]),!isObject(t))return;e(t,this[r])}},compiledGetValueFromFn:function(){var t="",e="obj";t+="if (obj != null";for(var r,n=0;n<this.length-1;n++)t+=" &&\n     "+(e+=isIdent(r=this[n])?"."+r:formatAccessor(r))+" != null";return t+=")\n",t+="  return "+(e+=isIdent(r=this[n])?"."+r:formatAccessor(r))+";\nelse\n  return undefined;",new Function("obj",t)},setValueFrom:function(t,e){if(!this.length)return!1;for(var r=0;r<this.length-1;r++){if(!isObject(t))return!1;t=t[this[r]]}return!!isObject(t)&&(t[this[r]]=e,!0)}});var f={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],else:["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],else:["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},c=new Path("",a);c.valid=!1,c.getValueFrom=c.setValueFrom=function(){},t.exports=Path},function(t,e,r){t.exports=r(158)},function(t,e,r){function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(159).Matrix;function lastElement(t){return t[t.length-1]}function using(t,e,r){try{return t.call(this),r.call(this)}finally{e.call(this)}}t.exports=function(){function Context2DTracked(r){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Context2DTracked),this.context=r,this.tf=[new a],this.penx=0,this.peny=0,this.justBegun=!1,this.bpenx=0,this.bpeny=0,this.ox=0,this.oy=0,this.showcontrol=!1;for(var t=["webkitImageSmoothingEnabled"],e=Object.getOwnPropertyNames(r.__proto__),n=0;n<e.length;n++){var o=e[n];0<=t.indexOf(o)||("function"==typeof r[o]?void 0===this[o]&&(this[o]=r[o].bind(r)):Object.defineProperty(this,o,{get:function(t){return r[t]}.bind(null,o),set:function(t,e){return r[t]=e}.bind(null,o)}))}}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(Context2DTracked,[{key:"cf",value:function cf(){return lastElement(this.tf)}},{key:"usingScaledLineWidth",value:function usingScaledLineWidth(t){var e=this,r=this.context.lineWidth;return using.call(this,function start(){e.context.lineWidth*=Math.abs(e.cf().a)},function close(){e.context.lineWidth=r},t)}},{key:"usingScaledFontSize",value:function usingScaledFontSize(t){var e=this,r=this.context.font,n=r.split(" "),o=Math.round(parseInt(n[0])*Math.abs(this.cf().a));return using.call(this,function start(){e.context.font=o+"px "+n[n.length-1]},function close(){e.context.font=r},t)}},{key:"trace",value:function trace(){var t=this.penx,e=this.peny;return console.log(Math.round(10*t)/10+this.ox,Math.round(10*e)/10+this.oy),this.context.moveTo(t-5,e),this.context.lineTo(t+5,e),this.context.moveTo(t,e+5),this.context.lineTo(t,e-5),this.context.moveTo(t,e),{x:t,y:e}}},{key:"transformPoint",value:function transformPoint(t,e){return lastElement(this.tf).inverse().applyToPoint(t,e)}},{key:"transformCoordinate",value:function transformCoordinate(t,e){return lastElement(this.tf).applyToPoint(t,e)}},{key:"save",value:function save(){this.tf.push(lastElement(this.tf).clone()),this.context.save()}},{key:"restore",value:function restore(){this.tf.pop(),this.context.restore()}},{key:"scale",value:function scale(t,e){lastElement(this.tf).scale(t,e)}},{key:"translate",value:function translate(t,e){lastElement(this.tf).translate(t,e)}},{key:"setTransform",value:function setTransform(t,e,r,n,o,a){lastElement(this.tf).setTransform(t,e,r,n,o,a)}},{key:"rotate",value:function rotate(t){lastElement(this.tf).rotate(t)}},{key:"movePen",value:function movePen(t,e){var r=this.cf().applyToPoint(t,e);this.justBegun&&(this.justBegun=!1,this.bpenx=r.x,this.bpeny=r.y),this.penx=r.x,this.peny=r.y}},{key:"_rect",value:function _rect(t,e,r,n,o){var a=this.cf().applyToPoint(t,e),i=this.cf().applyToPoint(r,n);o.call(this.context,a.x,a.y,i.x,i.y)}},{key:"clearRect",value:function clearRect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.clearRect]))}},{key:"fillRect",value:function fillRect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.fillRect]))}},{key:"strokeRect",value:function strokeRect(t,e,r,n){var o=arguments,a=this;this.usingScaledLineWidth(function(){a._rect.apply(a,_toConsumableArray(o).concat([a.context.strokeRect]))})}},{key:"rect",value:function rect(t,e,r,n){this._rect.apply(this,Array.prototype.slice.call(arguments).concat([this.context.rect]))}},{key:"fillText",value:function fillText(t,e,r,n){var o=this,a=this.cf().applyToPoint(e,r);this.usingScaledFontSize(function(){o.context.fillText(t,a.x,a.y,n)})}},{key:"strokeText",value:function strokeText(t,e,r,n){var o=this,a=this.cf().applyToPoint(e,r);this.usingScaledLineWidth(function(){o.usingScaledFontSize(function(){o.context.strokeText(t,a.x,a.y,n)})})}},{key:"createLinearGradient",value:function createLinearGradient(t,e,r,n){var o=this.cf().applyToPoint(t,e),a=this.cf().applyToPoint(r,n);return this.context.createLinearGradient(o.x,o.y,a.x,a.y)}},{key:"createRadialGradient",value:function createRadialGradient(t,e,r,n,o,a){var i=this.cf().applyToPoint(t,e),c=this.cf().applyToPoint(n,o),s=Math.abs(this.cf().a*r),l=Math.abs(this.cf().a*a);return this.context.createRadialGradient(i.x,i.y,s,c.x,c.y,l)}},{key:"beginPath",value:function beginPath(){this.justBegun=!0,this.context.beginPath()}},{key:"moveTo",value:function moveTo(t,e){this.movePen(t,e);var r=this.cf().applyToPoint(t,e);this.context.moveTo(r.x,r.y)}},{key:"lineTo",value:function lineTo(t,e,r){var n,o=this.cf().applyToPoint(t,e);(r||this.showcontrol)&&(n=Object.assign(this._getDefaultDebugOptions(),r),this._drawCurveControl(this._getDebugPoint(o.x,o.y),n)),this.context.lineTo(o.x,o.y),this.movePen(t,e)}},{key:"bezierCurveTo",value:function bezierCurveTo(t,e,r,n,o,a,i){var c,s=this.cf().applyToPoint(o,a),l=this.cf().applyToPoint(t,e),u=this.cf().applyToPoint(r,n);(i||this.showcontrol)&&(c=Object.assign(this._getDefaultDebugOptions(),i),this._drawCurveControl(this._getDebugPoint(s.x,s.y,l.x,l.y,u.x,u.y),c)),this.context.bezierCurveTo(l.x,l.y,u.x,u.y,s.x,s.y),this.movePen(o,a)}},{key:"quadraticCurveTo",value:function quadraticCurveTo(t,e,r,n,o){var a,i=this.cf().applyToPoint(r,n),c=this.cf().applyToPoint(t,e);(o||this.showcontrol)&&(a=Object.assign(this._getDefaultDebugOptions(),o),this._drawCurveControl(this._getDebugPoint(i.x,i.y,c.x,c.y),a)),this.context.quadraticCurveTo(c.x,c.y,i.x,i.y),this.movePen(r,n)}},{key:"arc",value:function arc(t,e,r,n,o,a){var i=this.cf().applyToPoint(t,e),c=this.cf().a*r,s=i.x+Math.cos(n)*c,l=i.y+Math.sin(n)*c;this.movePen(s,l),this.context.arc(i.x,i.y,c,n,o,a);var u=i.x+Math.cos(o)*c,p=i.y+Math.sin(o)*c;this.movePen(u,p),this.bpenx=u,this.bpeny=p}},{key:"drawImage",value:function drawImage(t,e,r,n,o,a,i,c,s){var l,u,p,f=this.cf().applyToPoint(e,r);void 0!==n?(l=this.cf().applyToPoint(n,o),void 0!==a?(u=this.cf().applyToPoint(a,i),p=this.cf().applyToPoint(c,s),this.context.drawImage(t,f.x,f.y,l.x,l.y,u.x,u.y,p.x,p.y)):this.context.drawImage(t,f.x,f.y,l.x,l.y)):this.context.drawImage(t,f.x,f.y)}},{key:"putImageData",value:function putImageData(t,e,r,n,o,a,i){var c,s,l=this.cf().applyToPoint(e,r);void 0!==n?(c=this.cf().applyToPoint(n,o),s=this.cf().applyToPoint(a,i),this.context.putImageData(t,l.x,l.y,c.x,c.y,s.x,s.y)):this.context.putImageData(t,l.x,l.y)}},{key:"stroke",value:function stroke(){var t=this;"rgba(0, 0, 0, 0)"!==this.context.strokeStyle&&this.usingScaledLineWidth(function(){t.context.stroke()})}},{key:"fill",value:function fill(){this.movePen(this.bpenx,this.bpeny),this.context.fill.apply(this.context,arguments)}},{key:"clip",value:function clip(){this.movePen(this.bpenx,this.bpeny),this.context.clip.apply(this.context,arguments)}},{key:"_drawCurveControl",value:function _drawCurveControl(t,e){this.context.save();var r=[t.p1];this.context.strokeStyle=e.controlLine.color,this.context.lineWidth=e.controlLine.width,t.cp1&&(this.context.moveTo(t.p1.x,t.p1.y),this.context.lineTo(t.cp1.x,t.cp1.y),r.push(t.cp1),t.cp2?(this.context.lineTo(t.cp2.x,t.cp2.y),this.context.lineTo(t.p2.x,t.p2.y),r.push(t.cp2)):this.context.lineTo(t.p2.x,t.p2.y)),this.context.stroke(),r.push(t.p2);for(var n=0;n<r.length;++n){var o=r[n];r[n]="("+Math.round(10*r[n].x)/10+", "+Math.round(10*r[n].y)/10+")",this.context.lineWidth=e.point.width,o===t.p2?this.context.strokeStyle=e.point.destinationColor:this.context.strokeStyle=e.point.color,this.context.fillStyle=e.point.fill,this.context.beginPath(),this.context.arc(o.x,o.y,e.point.radius,0,2*Math.PI,!0),this.context.fill(),this.context.stroke()}console.log("from points",r.join(" to ")),this.context.restore(),this.context.beginPath(),this.context.moveTo(t.p1.x,t.p1.y)}},{key:"_getDebugPoint",value:function _getDebugPoint(t,e,r,n,o,a){var i={p1:{x:this.penx,y:this.peny},p2:{x:t,y:e}};return"number"==typeof r&&"number"==typeof n&&(i.cp1={x:r,y:n},"number"==typeof o&&"number"==typeof a&&(i.cp2={x:o,y:a})),i}},{key:"_getDefaultDebugOptions",value:function _getDefaultDebugOptions(){return{controlLine:{color:"rgb(200,100,100)",width:.5},point:{color:"rgb(200,50,50)",destinationColor:"#000",fill:"white",width:1,radius:1}}}}]),Context2DTracked}()},function(t,e,r){
/*!
  2D Transformation Matrix v2.7.5
  (c) Epistemex.com 2014-2018
  License: MIT
*/
/**
 * 2D transformation matrix object initialized with identity matrix.
 *
 * The matrix can synchronize a canvas 2D context by supplying the context
 * as an argument, or later apply current absolute transform to an
 * existing context.
 *
 * To synchronize a DOM element you can use [`toCSS()`]{@link Matrix#toCSS} or [`toCSS3D()`]{@link Matrix#toCSS3D}.
 * together with for example the `style.transform` property.
 *
 * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix
 * @param {HTMLElement} [element=null] - DOM Element to synchronize
 * @prop {number} a - scale x
 * @prop {number} b - shear y
 * @prop {number} c - shear x
 * @prop {number} d - scale y
 * @prop {number} e - translate x
 * @prop {number} f - translate y
 * @prop {CanvasRenderingContext2D} [context] - set or get current synchronized 2D context
 * @prop {HTMLElement} [element] - get current synchronized DOM element
 * @prop {boolean} [useCSS3D=false] - is a DOM element is defined for sync., choose whether to use 2D (false) or 3D (true) matrix to sync it.
 * @constructor
 * @license MIT license
 * @copyright Epistemex.com 2014-2018
 */
function Matrix(t,e){var r,n=this;n._t=n.transform,n.a=n.d=1,n.b=n.c=n.e=n.f=0,t&&(n.context=t).setTransform(1,0,0,1,0,0),Object.defineProperty(n,"element",{get:function(){return r},set:function(t){r||(n._px=n._getPX(),n.useCSS3D=!1),r=t,(n._st=r.style)[n._px]=n.toCSS()}}),e&&(n.element=e)}Matrix.fromTriangles=function(t,e,r){var n,o,a,i,c,s=new Matrix,l=new Matrix(r),u=Array.isArray(t)?"number"==typeof t[0]?(o=t[4],a=t[5],i=e[4],c=e[5],n=[t[0]-o,t[1]-a,t[2]-o,t[3]-a,o,a],[e[0]-i,e[1]-c,e[2]-i,e[3]-c,i,c]):(o=t[2].x,a=t[2].y,i=e[2].x,c=e[2].y,n=[t[0].x-o,t[0].y-a,t[1].x-o,t[1].y-a,o,a],[e[0].x-i,e[0].y-c,e[1].x-i,e[1].y-c,i,c]):(n=[t.px-t.rx,t.py-t.ry,t.qx-t.rx,t.qy-t.ry,t.rx,t.ry],[e.px-e.rx,e.py-e.ry,e.qx-e.rx,e.qy-e.ry,e.rx,e.ry]);return s.setTransform.apply(s,n),l.setTransform.apply(l,u),l.multiply(s.inverse())},Matrix.fromSVGTransformList=function(t,e,r){for(var n=new Matrix(e,r),o=0;o<t.length;)n.multiply(t[o++].matrix);return n},Matrix.from=function(t,e,r,n,o,a,i,c){var s,l,u,p=new Matrix(i,c);if("number"==typeof t)p.setTransform(t,e,r,n,o,a);else if("number"==typeof t.x)u=Math.sqrt(t.x*t.x+t.y*t.y),s=l=1,n?s=u:l=u,p.translate(e||0,r||0).rotateFromVector(t).scaleU(s).translate(l,0);else{if("boolean"==typeof t.is2D&&!t.is2D)throw"Cannot use 3D DOMMatrix.";e&&(p.context=e),r&&(p.element=r),p.multiply(t)}return p},Matrix.prototype={_getPX:function(){for(var t,e=["t","oT","msT","mozT","webkitT","khtmlT"],r=0,n=document.createElement("div").style;t=e[r++];)if(void 0!==n[t+"ransform"])return t+"ransform"},concat:function(t){return this.clone().multiply(t)},flipX:function(){return this._t(-1,0,0,1,0,0)},flipY:function(){return this._t(1,0,0,-1,0,0)},reflectVector:function(t,e){var r=this.applyToPoint(0,1),n=2*(r.x*t+r.y*e);return{x:t-=n*r.x,y:e-=n*r.y}},reset:function(){return this.setTransform(1,0,0,1,0,0)},rotate:function(t){var e=Math.cos(t),r=Math.sin(t);return this._t(e,r,-r,e,0,0)},rotateFromVector:function(t,e){return this.rotate("number"==typeof t?Math.atan2(e,t):Math.atan2(t.y,t.x))},rotateDeg:function(t){return this.rotate(t*Math.PI/180)},scaleU:function(t){return this._t(t,0,0,t,0,0)},scale:function(t,e){return this._t(t,0,0,e,0,0)},scaleX:function(t){return this._t(t,0,0,1,0,0)},scaleY:function(t){return this._t(1,0,0,t,0,0)},scaleFromVector:function(t,e){return this.scaleU(Math.sqrt(t*t+e*e))},shear:function(t,e){return this._t(1,e,t,1,0,0)},shearX:function(t){return this._t(1,0,t,1,0,0)},shearY:function(t){return this._t(1,t,0,1,0,0)},skew:function(t,e){return this.shear(Math.tan(t),Math.tan(e))},skewDeg:function(t,e){return this.shear(Math.tan(t/180*Math.PI),Math.tan(e/180*Math.PI))},skewX:function(t){return this.shearX(Math.tan(t))},skewY:function(t){return this.shearY(Math.tan(t))},setTransform:function(t,e,r,n,o,a){return this.a=t,this.b=e,this.c=r,this.d=n,this.e=o,this.f=a,this._x()},translate:function(t,e){return this._t(1,0,0,1,t,e)},translateX:function(t){return this._t(1,0,0,1,t,0)},translateY:function(t){return this._t(1,0,0,1,0,t)},transform:function(t,e,r,n,o,a){var i=this,c=i.a,s=i.b,l=i.c,u=i.d,p=i.e,f=i.f;return i.a=c*t+l*e,i.b=s*t+u*e,i.c=c*r+l*n,i.d=s*r+u*n,i.e=c*o+l*a+p,i.f=s*o+u*a+f,i._x()},multiply:function(t){return this._t(t.a,t.b,t.c,t.d,t.e,t.f)},divide:function(t){return this.multiply(t.inverse())},divideScalar:function(t){if(!t)throw"Division on zero";return this.a/=t,this.b/=t,this.c/=t,this.d/=t,this.e/=t,this.f/=t,this._x()},inverse:function(t,e){var r=this,n=new Matrix(t?r.context:null,e?r.element:null),o=r.determinant();if(!o)throw"Matrix not invertible.";return n.a=r.d/o,n.b=-r.b/o,n.c=-r.c/o,n.d=r.a/o,n.e=(r.c*r.f-r.d*r.e)/o,n.f=-(r.a*r.f-r.b*r.e)/o,n},interpolate:function(t,e,r,n){var o=this,a=new Matrix(r,n);return a.a=o.a+(t.a-o.a)*e,a.b=o.b+(t.b-o.b)*e,a.c=o.c+(t.c-o.c)*e,a.d=o.d+(t.d-o.d)*e,a.e=o.e+(t.e-o.e)*e,a.f=o.f+(t.f-o.f)*e,a._x()},interpolateAnim:function(t,e,r,n){var o=new Matrix(r,n),a=this.decompose(),i=t.decompose(),c=a.translate,s=i.translate,l=a.scale;return o.translate(c.x+(s.x-c.x)*e,c.y+(s.y-c.y)*e),o.rotate(a.rotation+(i.rotation-a.rotation)*e),o.scale(l.x+(i.scale.x-l.x)*e,l.y+(i.scale.y-l.y)*e),o._x()},decompose:function(t){var e,r,n=this.a,o=this.b,a=this.c,i=this.d,c=Math.acos,s=Math.atan,l=Math.sqrt,u=Math.PI,p={x:this.e,y:this.f},f=0,y={x:1,y:1},h={x:0,y:0},d=n*i-o*a;return t?n?(h={x:s(a/n),y:s(o/n)},y={x:n,y:d/n}):o?(f=.5*u,y={x:o,y:d/o},h.x=s(i/o)):(y={x:a,y:i},h.x=.25*u):n||o?(e=l(n*n+o*o),f=0<o?c(n/e):-c(n/e),y={x:e,y:d/e},h.x=s((n*a+o*i)/(e*e))):a||i?(r=l(a*a+i*i),f=.5*u-(0<i?c(-a/r):-c(a/r)),y={x:d/r,y:r},h.y=s((n*a+o*i)/(r*r))):y={x:0,y:0},{translate:p,rotation:f,scale:y,skew:h}},determinant:function(){return this.a*this.d-this.b*this.c},applyToPoint:function(t,e){return{x:t*this.a+e*this.c+this.e,y:t*this.b+e*this.d+this.f}},applyToArray:function(t){var e,r,n=0,o=[];if("number"==typeof t[0])for(r=t.length;n<r;)e=this.applyToPoint(t[n++],t[n++]),o.push(e.x,e.y);else for(;e=t[n++];)o.push(this.applyToPoint(e.x,e.y));return o},applyToTypedArray:function(t,e){for(var r,n=0,o=t.length,a=new(e?Float64Array:Float32Array)(o);n<o;)r=this.applyToPoint(t[n],t[n+1]),a[n++]=r.x,a[n++]=r.y;return a},applyToContext:function(t){return t.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),this},applyToElement:function(t,e){return this._px||(this._px=this._getPX()),t.style[this._px]=e?this.toCSS3D():this.toCSS(),this},applyToObject:function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.e=this.e,t.f=this.f,this},isIdentity:function(){return!(1!==this.a||this.b||this.c||1!==this.d||this.e||this.f)},isInvertible:function(){return!this._q(this.determinant(),0)},isValid:function(){return!(this.a*this.d)},isEqual:function(t){var e=this._q;return e(this.a,t.a)&&e(this.b,t.b)&&e(this.c,t.c)&&e(this.d,t.d)&&e(this.e,t.e)&&e(this.f,t.f)},clone:function(t){return new Matrix(t?null:this.context).multiply(this)},toArray:function(){return[this.a,this.b,this.c,this.d,this.e,this.f]},toTypedArray:function(){return new Float32Array([this.a,this.b,this.c,this.d,this.e,this.f])},toCSS:function(){return"matrix("+this.toArray()+")"},toCSS3D:function(){return"matrix3d("+this.a+","+this.b+",0,0,"+this.c+","+this.d+",0,0,,0,0,,1,0,"+this.e+","+this.f+",0,1)"},toJSON:function(){return'{"a":'+this.a+',"b":'+this.b+',"c":'+this.c+',"d":'+this.d+',"e":'+this.e+',"f":'+this.f+"}"},toString:function(t){return t=t||4,"a="+this.a.toFixed(t)+" b="+this.b.toFixed(t)+" c="+this.c.toFixed(t)+" d="+this.d.toFixed(t)+" e="+this.e.toFixed(t)+" f="+this.f.toFixed(t)},toCSV:function(){return this.toArray().join()+"\r\n"},toDOMMatrix:function(){var t=null;return"DOMMatrix"in window&&((t=new DOMMatrix).a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.e=this.e,t.f=this.f),t},toSVGMatrix:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=null;return t&&((e=t.createSVGMatrix()).a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.e=this.e,e.f=this.f),e},_q:function(t,e){return Math.abs(t-e)<1e-14},_x:function(){var t=this;return t.context&&t.context.setTransform(t.a,t.b,t.c,t.d,t.e,t.f),t._st&&(t._st[t._px]=t.useCSS3D?t.toCSS3D():t.toCSS()),t}},e.Matrix=Matrix},function(t,e,r){"use strict";r.r(e),r.d(e,"Mustache",function(){return n});var o=r(16),a=r(2),i=r(0),c=r(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(FacialHair,o["DecorativePart"]);var n=_createSuper(FacialHair);function FacialHair(){_classCallCheck(this,FacialHair);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{loc:"+head",layer:a.Layer.BELOW_HAIR,aboveParts:["parts head"]}].concat(e))}return _createClass(FacialHair,[{key:"stroke",value:function stroke(){return i.none}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return console.log(this),Object(c.adjustColor)(e.hairFill,{l:-5,s:-5})}}]),FacialHair}(),n=function(){_inherits(Mustache,s);var n=_createSuper(Mustache);function Mustache(){_classCallCheck(this,Mustache);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(Mustache,[{key:"stroke",value:function stroke(){return i.none}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return console.log(this),Object(c.adjustColor)(e.hairFill,{l:-5,s:-5})}}]),Mustache}()},function(t,e,r){"use strict";r.r(e),r.d(e,"LegFur",function(){return n});var o=r(16),a=r(2),i=r(0),c=r(30);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(LegFur,o["DecorativePart"]);var n=_createSuper(LegFur);function LegFur(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,LegFur);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,c.Materials.brownFur,{fill:i.none,loc:"+leg",layer:a.Layer.FRONT,aboveParts:["parts leg"]}].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(LegFur,[{key:"calcDrawPoints",value:function calcDrawPoints(t){var e=[],r=t.ankle.in;return e.push.apply(e,_toConsumableArray(Object(i.drawSpecificCurl)({x:r.x,y:r.y,deflection:-.5},Object(i.adjust)(r,1,-3),Object(i.adjust)(r,3,0))).concat([i.breakPoint])),r=Object(i.adjust)(t.knee.in,3,-3),e.push.apply(e,_toConsumableArray(Object(i.drawSpecificCurl)({x:r.x,y:r.y,deflection:-.5},Object(i.adjust)(r,2,-6),Object(i.adjust)(r,5,-1))).concat([i.breakPoint])),r=Object(i.adjust)(t.calf.out,-8,0),e.push.apply(e,_toConsumableArray(Object(i.drawSpecificCurl)({x:r.x,y:r.y,deflection:-.5},Object(i.adjust)(r,2,-6),Object(i.adjust)(r,4,3))).concat([i.breakPoint])),r=Object(i.adjust)(t.thigh.out,-9,0),e.push.apply(e,_toConsumableArray(Object(i.drawSpecificCurl)({x:r.x,y:r.y,deflection:-1},Object(i.adjust)(r,3,-9),Object(i.adjust)(r,5,2))).concat([i.breakPoint])),e}}]),LegFur}()},function(t,e,r){"use strict";r.r(e),r.d(e,"BeautyMark",function(){return n});var o=r(16),a=r(2),i=r(0),c=r(8);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var n=function(){!function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}(BeautyMark,o["DecorativePart"]);var n=_createSuper(BeautyMark);function BeautyMark(){!function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,BeautyMark);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{offsetX:-10,offsetY:10,radius:.3,loc:"head",layer:a.Layer.BELOW_HAIR,aboveParts:["parts head"]}].concat(e))}return function _createClass(t,e,r){e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r)}(BeautyMark,[{key:"stroke",value:function stroke(){return i.none}},{key:"clipFill",value:function clipFill(){}},{key:"fill",value:function fill(t,e){return Object(c.adjustColor)(e.baseStroke,{s:-30,l:-30})}},{key:"calcDrawPoints",value:function calcDrawPoints(t,e,r,n){var o=Object(i.extractPoint)(t.lips.center);return o.x+=n.offsetX,o.y+=n.offsetY,[i.breakPoint].concat(_toConsumableArray(Object(i.drawCircle)(o,n.radius)))}}]),BeautyMark}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var i=r(41),a=r(29),s=r(42),l=r(3),n=r(39),o=r(38),c=r(32),u=r(7),p=r(10),f=r(0),y=r(21),h=r(43),d=r(81),g=r(1),P=r(17),b=r(45),v=r(44),_=r(40),m=r(4);function defaultParts(t,e){for(var r=[],n=s.Skeleton[e][t],o=0;o<n.length;++o){var a=n[o],i=a.side,c=a.part;r.push(l.Part.create(c,{side:i}))}return r}var S=(Player.defaultStats=function(){return i.getDefault(n.statLimits,n.statDiscretePool)()},Player.defaultMods=function(){return i.getDefault(o.modLimits,o.modDiscretePool)()},Player.defaultVitals=function(){return i.getDefault(_.vitalLimits,null)()},Player.defaultClothes=function(){return[g.Clothes.create(P.Bra),g.Clothes.create(P.Panties)]},Player.prototype.toString=function(){return this.name},Player.prototype.clampStats=function(){for(var t in n.statLimits)!1!==n.statLimits.hasOwnProperty(t)&&(this[t]=f.clamp(this[t],n.statLimits[t].low,n.statLimits[t].high))},Player.prototype.clampVitals=function(){var e=this;this.vitals?Object.keys(this.maxVitals).forEach(function(t){e.vitals[t]=f.clamp(e.vitals[t],_.vitalLimits[t].low,e.maxVitals[t])}):this.vitals=Object.assign({},this.maxVitals)},Player.prototype.get=function(t){return this[t]+this._clampedMods[t]},Player.prototype.diff=function(t){return this.get(t)-n.statLimits[t].avg},Player.prototype.getDim=function(t){return this.basedim[t]+this._clampedMods[t]},Player.prototype.getBaseVitals=function(t){return this.baseVitals[t]+this._clampedMods[t]},Player.prototype.getMod=function(t){return this._clampedMods[t]},Player.prototype.getDimDesc=function(t){return a.baseDimDesc[this.skeleton][t]},Player.prototype.calcAll=function(){this._clampMods(),this._calcDimensions(),this._calcVitals(),this.clampVitals()},Player.prototype._clampMods=function(){var n=this;this._clampedMods={},Object.entries(this.Mods).forEach(function(t){var e=t[0],r=t[1];o.modLimits.hasOwnProperty(e)&&(n._clampedMods[e]=f.clamp(r,o.modLimits[e].low,o.modLimits[e].high))})},Player.prototype._calcDimensions=function(){var n=this;this.dim={},Object.entries(a.baseDimDesc[this.skeleton]).forEach(function(t){var e=t[0],r=t[1];n.dim[e]=f.clamp(r.hasOwnProperty("calc")?r.calc.call(n):n.getDim(e),r.low,r.high)}),this.dim.torsoLength=.85*this.dim.height-this.dim.legLength,this.replaceHair(b.styles[Math.round(this.dim.hairStyle)])},Player.prototype._calcVitals=function(){var n=this;this.maxVitals={},Object.entries(_.vitalLimits).forEach(function(t){var e=t[0],r=t[1];n.maxVitals[e]=f.clamp(r.hasOwnProperty("calc")?r.calc.call(n):n.getBaseVitals(e),r.low,r.high)})},Player.prototype.attachPart=function(t,e){var r=this;void 0===e&&(e=this.parts),t instanceof p.ShadingPart&&(e=this.shadingParts);for(var n=null,o=0;o<e.length;++o)if(l.partConflict(t,e[o])){var a=e[o];e[o]=t,n=a;break}return null===n&&e.push(t),this._filteredShadingParts(t).forEach(function(t){var e=l.getAttachedLocation(t);(r.getPartInLocation(e)||r.getPartInLocation(e,r.faceParts)||r.getPartInLocation(e,r.hairParts))&&r.attachPart(l.Part.create(t),r.shadingParts)}),n},Player.prototype._attachShadingPartsForPartGroup=function(r){var n=this;r.forEach(function(t){n._filteredShadingParts(t).forEach(function(t){var e=l.getAttachedLocation(t);n.getPartInLocation(e,r)&&n.attachPart(l.Part.create(t),n.shadingParts)})})},Player.prototype._filteredShadingParts=function(t){var e,r=[];return t.shadingParts&&(e=y.extractSideLocation(t.loc),t.shadingParts.forEach(function(t){l.prototypeAppliesToSide(e,t)&&r.push(t)})),r},Player.prototype.getPartInLocation=function(t,e,r){void 0===e&&(e=this.parts),void 0===r&&(r=0);for(var n=y.extractUnmodifiedLocation(t),o=0;o<e.length;++o)if(y.extractUnmodifiedLocation(e[o].loc)===n){if(0<r){--r;continue}return e[o]}return null},Player.prototype.removeSpecificPart=function(t,e,r){void 0===e&&(e=this.parts),void 0===r&&(r=0);for(var n=0;n<e.length;++n)if(e[n]instanceof t){if(0<r){--r;continue}var o=e[n];return e.splice(n,1),this.doRemovePart(o,e),o}return null},Player.prototype.checkPartCoveredByClothing=function(e){var r=this,n=!1;return e.coverConceal.forEach(function(t){"this"===t&&(t=e.loc),r.getClothingInLocation(t).forEach(function(t){t.noCover||(n=!0)})}),n},Player.prototype.removePart=function(t,e,r){void 0===e&&(e=this.parts),void 0===r&&(r=0);for(var n=0;n<e.length;++n)if(y.extractUnmodifiedLocation(e[n].loc)===t){if(0<r){--r;continue}var o=e[n];return e.splice(n,1),this.doRemovePart(o,e),o}return null},Player.prototype.doRemovePart=function(e,r){var n,o=this;this._filteredShadingParts(e).forEach(function(t){o.removeSpecificPart(t,o.shadingParts)}),r===this.parts&&(n=[],this.clothingParts.forEach(function(t){y.extractUnmodifiedLocation(t.loc)===e.loc?o._filteredShadingParts(t).forEach(function(t){o.removeSpecificPart(t,o.shadingParts)}):n.push(t)}),this.clothingParts=n),r.forEach(function(t){l.isParentPart(e,t)&&o.removePart(y.extractUnmodifiedLocation(t.loc),r)})},Player.prototype.replaceHair=function(t){var e=this;this.hairParts.forEach(function(t){e._filteredShadingParts(t).forEach(function(t){e.removeSpecificPart(t,e.shadingParts)})}),this.hairParts=[],t.forEach(function(t){e.attachPart(u.Hair.create(t),e.hairParts)})},Player.prototype.applyExpression=function(t){if(!1===t.hasOwnProperty("Mods"))throw new Error("Invalid expression object since it has no Mods");for(var e in this.removeExpression(),t.Mods)t.Mods.hasOwnProperty(e)&&(this.Mods[e]+=t.Mods[e]);if(t.hasOwnProperty("specificModification")){if(t.hasOwnProperty("removeSpecificModification"))throw new Error("Expression has specific modifications but no way of removing them");t.specificModification(this)}this._expression=t},Player.prototype.removeExpression=function(){for(var t in this._expression.Mods)this._expression.Mods.hasOwnProperty(t)&&(this.Mods[t]-=this._expression.Mods[t]);this._expression.hasOwnProperty("removeSpecificModification")&&this._expression.removeSpecificModification(this)},Player.prototype.getClothingInLocation=function(e){var r=[];return this.clothingParts.forEach(function(t){y.extractUnmodifiedLocation(t.loc)===e&&r.indexOf(t._owner)<0&&r.push(t._owner)}),r},Player.prototype.getConflictingClothing=function(a){var e=this,i=[];return a.parts.forEach(function(t){var n=y.extractUnmodifiedLocation(t.loc),o=y.extractLocationModifier(t.loc);e.clothingParts.forEach(function(t){if(y.extractUnmodifiedLocation(t.loc)===n){var e,r=!1;if(t._owner.clothingLayer!==a.clothingLayer)return;Object.getPrototypeOf(t._owner)===Object.getPrototypeOf(a)?r=!0:(e=y.extractLocationModifier(t.loc),("-"===o||"-"===e||"+"!==o&&"+"!==e)&&(r=!0)),r&&i.indexOf(t._owner)<0&&i.push(t._owner)}})}),i},Player.prototype.wearClothing=function(e){for(var r=this,t=this.getConflictingClothing(e),n=0;n<t.length;++n)if(!1===this.removeClothing(t[n]))return null;var o=this[e.requiredParts]||this.parts,a=!1;return e.parts.forEach(function(t){r.getPartInLocation(y.extractUnmodifiedLocation(t.loc),o)&&(r.clothingParts.push(t),a=!0,r._filteredShadingParts(t).forEach(function(t){r.attachPart(l.Part.create(t,{_owner:e}),r.shadingParts)}))}),a?(i.applyMods(this.Mods,e.Mods),this.clothes.push(e),t):(t.forEach(function(t){r.wearClothing(t)}),null)},Player.prototype.removeClothing=function(e){var r=this,t=this.clothes.indexOf(e);if(-1===t)return!1;if(e.cursed)return!1;var n=[];return this.clothingParts.forEach(function(t){t._owner!==e?n.push(t):r._filteredShadingParts(t).forEach(function(t){r.removeSpecificPart(t,r.shadingParts)})}),this.clothingParts=n,i.removeMods(this.Mods,e.Mods),-1!==t&&this.clothes.splice(t,1),!0},Player.prototype.removeAllClothing=function(){for(var t=[],e=this.clothes.length-1;0<=e;--e){var r=this.clothes[e];this.removeClothing(r)&&t.push(r)}return t},Player.prototype.wieldItem=function(t){h.Items.loadItem(t),t.modifyPose.call(this),this.items.push(t)},Player.prototype.removeItem=function(t){t.restorePose.call(this),this.items.splice(this.items.indexOf(t),1)},Player.prototype.addTattoo=function(t){v.Tattoos.loadTattoo(t),this.tattoos.push(t)},Player.prototype.removeTattoo=function(t){this.tattoos.splice(this.tattoos.indexOf(t),1)},Player.prototype.heightAdjust=function(){var e=0;return this.getClothingInLocation("left feet").forEach(getMaxHeight),this.getClothingInLocation("right feet").forEach(getMaxHeight),e;function getMaxHeight(t){t.shoeHeight&&t.shoeHeight>e&&(e=t.shoeHeight,t.hasOwnProperty("platformHeight")&&(e+=.2*t.platformHeight))}},Player.prototype.isFemale=function(){return 5<this.fem},Player.prototype.isMale=function(){return!this.isFemale()},Player.prototype.fillMissingDrawpoints=function(t){t.deltoids=t.deltoids||f.extractPoint(t.collarbone),t.shoulder=t.shoulder||f.extractPoint(t.collarbone),t.elbow=t.elbow||{out:f.extractPoint(t.shoulder),in:f.extractPoint(t.armpit)},t.wrist=t.wrist||{out:f.extractPoint(t.elbow.out),in:f.extractPoint(t.elbow.in)}},Player);function Player(e){var r=this;if(!c.loaded)throw new Error("trying to create Player without having loaded first! (call load() before)");Object.assign(this,Player.defaultStats(),{parts:[],faceParts:[],decorativeParts:[],hairParts:[],clothingParts:[],baseVitals:Player.defaultVitals(),_expression:d.Expression.neutral,hairFill:null,hairStroke:null,browFill:null,lashFill:null}),this.skeleton="human",this.Mods=Player.defaultMods();var t=["number","string","function"];for(var n in e){var o=typeof e[n];e.hasOwnProperty(n)&&(t.includes(o)||m.isPattern(e[n]))&&(this[n]=e[n])}this.shadingParts=[],e&&e.parts?e.parts.forEach(function(t){r.attachPart(t)}):(this.parts=defaultParts("defaultParts",this.skeleton),function addSexParts(o){var t,e=s.Skeleton[o.skeleton];o.isFemale()&&(t=e.femaleParts),o.isMale()&&(t=e.maleParts),t.forEach(function(t){var e=t.partGroup,r=t.side,n=t.part;o.attachPart(l.Part.create(n,{side:r}),o[e])})}(this)),this.decorativeParts=defaultParts("defaultDecorativeParts",this.skeleton),e&&e.decorativeParts&&e.decorativeParts.forEach(function(t){r.attachPart(t,r.decorativeParts)}),this.faceParts=defaultParts("defaultFaceParts",this.skeleton),e&&e.faceParts&&e.faceParts.forEach(function(t){r.attachPart(t,r.faceParts)}),this._attachShadingPartsForPartGroup(this.parts),this._attachShadingPartsForPartGroup(this.faceParts),this.basedim=function defaultBaseDimensions(t){return i.getDefault(a.baseDimDesc[t],a.basedimDiscretePool[t])()}(this.skeleton),["basedim","Mods","baseVitals"].forEach(function(t){e&&e[t]&&Object.assign(r[t],e[t])}),this.clothingParts=[],this.clothes=[],this.items=[],this.tattoos=[],e&&e.clothes?e.clothes.forEach(function(t){r.wearClothing(t)}):Player.defaultClothes().forEach(function(t){r.wearClothing(t)}),e&&e.items&&e.items.forEach(function(t){r.wieldItem(t)}),e&&e.tattoos&&e.tattoos.forEach(function(t){r.addTattoo(t)}),this.maxVitals={},this.calcAll(),e&&e.vitals&&(this.vitals=Object.assign({},e.vitals),this.clampVitals()),console.log("created avatar "+this.name)}e.Player=S},function(t,e,r){"use strict";r.r(e),r.d(e,"calcDressShirt",function(){return calcDressShirt}),r.d(e,"DressShirtBasePart",function(){return i}),r.d(e,"DressShirtCollarPart",function(){return c}),r.d(e,"DressShirtButtonPart",function(){return s}),r.d(e,"DressShirtBreastPart",function(){return l}),r.d(e,"LongSleeveCuffPart",function(){return u}),r.d(e,"DressShirt",function(){return p}),r.d(e,"WomenDressShirt",function(){return n}),r.d(e,"MenDressShirt",function(){return h});var d=r(1),o=r(3),g=r(9),a=r(2),P=r(6),f=r(22),y=r(46),b=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcDressShirt(t){var e=y.calcJacket.call(this,t),r=e.outBot,n=e.outMid,o=e.breastBot,a=e.breastTip,i=e.outTop,c=f.calcSweaterBase.call(this,t),s=c.top,l=c.cusp,u=c.collarbone,p=c.bot;return s.x+=this.topParted,s.y-=.4*this.topParted,p.bot.x+=this.botParted,p.bot=Object(g.connectEndPoints)(s,p.bot,-.01*(this.topParted+this.botParted)),r.cp1=Object(b.simpleQuadratic)(p.bot,r,.5,-1),{collarbone:u,cusp:l=Object(b.reverseDrawPoint)(l,u),top:s,bot:p,outBot:r,outMid:n,breastBot:o,breastTip:a,outTop:i}}var i=function(){_inherits(DressShirtBasePart,d["ClothingPart"]);var n=_createSuper(DressShirtBasePart);function DressShirtBasePart(){_classCallCheck(this,DressShirtBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],aboveSameLayerParts:["groin"]}].concat(e))}return _createClass(DressShirtBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressShirt.call(this,t),n=r.collarbone,o=r.cusp,a=r.top,i=r.bot,c=r.outBot,s=r.outMid,l=r.breastBot,u=r.breastTip;d.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(b.drawPoints)(e,n,o,a,i.bot,c,s,l,u,Object(b.extractPoint)(t.armpit)),e.fill(),e.clip(),Object(P.setStrokeAndFill)(e,{stroke:this.liningPattern,fill:b.none},t),e.lineWidth=this.liningWidth,e.beginPath(),Object(b.drawPoints)(e,a,i.bot),e.stroke()}}]),DressShirtBasePart}(),c=function(){_inherits(DressShirtCollarPart,d["ClothingPart"]);var n=_createSuper(DressShirtCollarPart);function DressShirtCollarPart(){_classCallCheck(this,DressShirtCollarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"]}].concat(e))}return _createClass(DressShirtCollarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcDressShirt.call(this,t),n=r.collarbone,o=r.cusp,a=r.top,i=Object(b.splitCurve)(1-this.collarCoverage,n,o).left.p2,c=Object(b.adjust)(Object(b.extractPoint)(a),this.collarWidth+.25*this.topParted,-this.collarHeight+.3*this.topParted);Object(P.setStrokeAndFill)(e,{stroke:b.none,fill:this.collarPattern},t),e.beginPath(),Object(b.drawPoints)(e,i,o,a,c,i),e.fill()}}]),DressShirtCollarPart}(),s=function(){_inherits(DressShirtButtonPart,d["ClothingPart"]);var n=_createSuper(DressShirtButtonPart);function DressShirtButtonPart(){_classCallCheck(this,DressShirtButtonPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+torso",reflect:!1,forcedNoSideString:!0,aboveParts:["parts torso","decorativeParts torso"],aboveSameLayerParts:["torso"]},{buttonStroke:"#fff",buttonFill:"#ccc",buttonRadius:1,buttonThickness:1,buttonCoverage:.77}].concat(e))}return _createClass(DressShirtButtonPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){for(var r=calcDressShirt.call(this,t),n=r.top,o=r.bot,a=[],i=.1;i<1;i+=1.001-this.buttonCoverage){var c=Object(b.splitCurve)(i,n,o.bot),s=0;(.2<c.left.p2.x||c.left.p2.x<-.2)&&(s=Object(b.clamp)(Math.abs(c.left.p2.x),0,1.5*this.buttonRadius));var l=Object(b.adjust)(c.left.p2,s,0);a.push.apply(a,_toConsumableArray(Object(b.drawCircle)(l,this.buttonRadius)).concat([b.breakPoint]))}Object(P.setStrokeAndFill)(e,{stroke:this.buttonStroke,fill:this.buttonFill},t),e.lineWidth=this.buttonThickness,e.beginPath(),b.drawPoints.apply(void 0,[e].concat(a)),e.fill(),e.stroke()}}]),DressShirtButtonPart}(),l=function(){_inherits(DressShirtBreastPart,d["ClothingPart"]);var n=_createSuper(DressShirtBreastPart);function DressShirtBreastPart(){_classCallCheck(this,DressShirtBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"+chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return _createClass(DressShirtBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s,l,u,p,f,y,h;Object(g.coverNipplesIfHaveNoBreasts)(t,e,this)||(n=(r=calcDressShirt.call(this,t)).collarbone,o=r.cusp,a=r.top,i=r.bot,c=r.outBot,s=i.bot,l=a,e.beginPath(),Object(b.drawPoints)(e,n,o,a,i.bot,c,{x:c.x+50,y:c.y},{x:n.x+50,y:n.y}),e.clip(),u=Object(b.adjust)(t.breast.top,0,0),p=Object(b.adjust)(t.breast.tip,.1,0),f=Object(b.adjust)(t.breast.bot,0,-.1),y=Object(b.adjust)(t.breast.cleavage,0,-.1),h=Object(b.adjust)(t.breast.in,0,-.1),d.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(b.drawPoints)(e,u,p,f,h,y,Object(g.connectEndPoints)(y,u)),e.fill(),e.clip(),Object(P.setStrokeAndFill)(e,{stroke:this.liningPattern,fill:b.none},t),e.lineWidth=this.liningWidth,e.beginPath(),Object(b.drawPoints)(e,l,s),e.stroke())}}]),DressShirtBreastPart}(),u=function(){_inherits(LongSleeveCuffPart,d["ClothingPart"]);var n=_createSuper(LongSleeveCuffPart);function LongSleeveCuffPart(){_classCallCheck(this,LongSleeveCuffPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"+arm",reflect:!1,aboveParts:["parts arm","decorativeParts arm"],aboveSameLayerParts:["arm"]},{cuffPattern:"#a4c3ca"}].concat(e))}return _createClass(LongSleeveCuffPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=f.calcLongSleeve.call(this,t),n=r.elbowOut,o=r.out,a=r.bot,i=r.elbow,c=Object(b.splitCurve)(.7,n,o),s=Object(b.adjust)(c.right.p1,1.5,0);o.cp1=c.right.p2.cp1,o.cp2=c.right.p2.cp2;var l=(c=Object(b.splitCurve)(.3,a,i)).left.p2;Object(P.setStrokeAndFill)(e,{stroke:b.none,fill:this.cuffPattern},t),e.beginPath(),Object(b.drawPoints)(e,s,o,a,l,s),e.fill();var u=Object(b.drawCircle)(Object(b.adjust)(s,-2,-2),.5*this.buttonRadius);Object(P.setStrokeAndFill)(e,{stroke:this.buttonStroke,fill:this.buttonFill},t),e.lineWidth=.5*this.buttonThickness,e.beginPath(),b.drawPoints.apply(void 0,[e].concat(_toConsumableArray(u))),e.fill(),e.stroke()}}]),LongSleeveCuffPart}(),p=function(){_inherits(DressShirt,d["Clothing"]);var n=_createSuper(DressShirt);function DressShirt(){_classCallCheck(this,DressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:d.Clothes.Layer.MID,stomachCoverage:.9,neckCoverage:0,liningWidth:3.5,liningPattern:"#98aaaf",collarCoverage:.25,collarHeight:7,collarWidth:3,collarPattern:"#a4c3ca",topParted:4,botParted:0,cling:.6}].concat(e))}return DressShirt}(),n=function(){_inherits(WomenDressShirt,p);var n=_createSuper(WomenDressShirt);function WomenDressShirt(){_classCallCheck(this,WomenDressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(WomenDressShirt,[{key:"stroke",value:function stroke(){return b.none}},{key:"fill",value:function fill(){return"hsl(198.9,42.2%,82.4%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:null,Part:l},{side:o.Part.LEFT,Part:f.LongSleevePart},{side:o.Part.RIGHT,Part:f.LongSleevePart},{side:o.Part.RIGHT,Part:u},{side:o.Part.LEFT,Part:u},{side:o.Part.RIGHT,Part:s}]}}]),WomenDressShirt}(),h=function(){_inherits(MenDressShirt,p);var n=_createSuper(MenDressShirt);function MenDressShirt(){_classCallCheck(this,MenDressShirt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(MenDressShirt,[{key:"stroke",value:function stroke(){return b.none}},{key:"fill",value:function fill(){return"hsl(198.9,42.2%,82.4%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:null,Part:l},{side:o.Part.LEFT,Part:f.LongSleevePart},{side:o.Part.RIGHT,Part:f.LongSleevePart},{side:o.Part.RIGHT,Part:u},{side:o.Part.LEFT,Part:u},{side:o.Part.LEFT,Part:s}]}}]),MenDressShirt}()},function(t,e,r){"use strict";r.r(e),r.d(e,"HeelPart",function(){return c}),r.d(e,"HeelBaseShine",function(){return l}),r.d(e,"HeelBasePart",function(){return u}),r.d(e,"CoveredHeelBasePart",function(){return p}),r.d(e,"HeelStrapPart",function(){return h}),r.d(e,"calcHeels",function(){return calcHeels}),r.d(e,"HeelSideBaseClosedPart",function(){return g}),r.d(e,"CoveredHeelSideBasePart",function(){return P}),r.d(e,"calcCoveredHeelBaseSide",function(){return calcCoveredHeelBaseSide}),r.d(e,"StilettoPart",function(){return b}),r.d(e,"PlatformSidePart",function(){return v}),r.d(e,"HeelSideSimpleStrapPart",function(){return _}),r.d(e,"HeelSideWideStrapPart",function(){return m}),r.d(e,"calcWideStrapSide",function(){return calcWideStrapSide}),r.d(e,"calcHeelBaseSide",function(){return calcHeelBaseSide}),r.d(e,"calcHeelPlatformSide",function(){return calcHeelPlatformSide}),r.d(e,"calcStiletto",function(){return calcStiletto}),r.d(e,"StrapLockSidePart",function(){return n}),r.d(e,"StrapLockPart",function(){return C}),r.d(e,"Heels",function(){return O}),r.d(e,"ClosedToePumps",function(){return k}),r.d(e,"ClosedToeStrappedPumps",function(){return w}),r.d(e,"CoveredFancyStilettos",function(){return j}),r.d(e,"LockedCoveredFancyStilettos",function(){return A});var f=r(1),s=r(10),o=r(3),a=r(2),y=r(6),i=r(18),d=r(0);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,e,r){var n=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(HeelPart,f["ClothingPart"]);var n=_createSuper(HeelPart);function HeelPart(){_classCallCheck(this,HeelPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],belowParts:["shadingParts feet"]}].concat(e))}return HeelPart}(),l=function(){_inherits(HeelBaseShine,c);var n=_createSuper(HeelBaseShine);function HeelBaseShine(){_classCallCheck(this,HeelBaseShine);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS}].concat(e))}return _createClass(HeelBaseShine,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcHeels.call(this,t),n=r.bot,o=r.outBot,a=r.out;n.y+=3,n.x+=1;var i=Object(d.adjust)(o,-1,.5),c=Object(d.adjust)(a,-.5,-4.8);i.cp1=Object(d.simpleQuadratic)(n,i,.7,-1),c.cp1=Object(d.simpleQuadratic)(i,c,.5,-.5),n.cp1=Object(d.simpleQuadratic)(c,n,.3,1),e.fillStyle=s.shine,e.beginPath(),Object(d.drawPoints)(e,n,i,c,n),e.fill()}}]),HeelBaseShine}(),u=function(){_inherits(HeelBasePart,c);var n=_createSuper(HeelBasePart);function HeelBasePart(){_classCallCheck(this,HeelBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(HeelBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=t.toe;r.toebox={x:r.center.x,y:r.center.y};var n=calcHeels.call(this,t),o=n.out,a=n.outBot,i=n.bot,c=n.inBot,s=n.inTop,l=n.tongue;f.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(d.drawPoints)(e,o,a,i,c,s,l,o),e.fill();var u=Object(d.extractPoint)(t.ankle.in),p=Object(d.splitCurve)(.6,t.toe.in,t.ankle.inbot).left.p2;p.cp1=Object(d.simpleQuadratic)(u,p,.2,-3.3),u.cp1=Object(d.simpleQuadratic)(p,u,.7,1.4),e.beginPath(),Object(d.drawPoints)(e,u,p,u),e.fill()}}]),HeelBasePart}(),p=function(){_inherits(CoveredHeelBasePart,c);var n=_createSuper(CoveredHeelBasePart);function CoveredHeelBasePart(){_classCallCheck(this,CoveredHeelBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(CoveredHeelBasePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcHeels.call(this,t),n=r.out,o=r.outBot,a=r.bot,i=r.inBot,c=r.inTop,s=Object(d.adjust)(Object(d.extractPoint)(t.ankle.in),1.1,-.7),l=Object(d.adjust)(Object(d.extractPoint)(t.ankle.out),-1.1,-.7);n.cp1=Object(d.simpleQuadratic)(l,n,.5,-1),n.cp2=null,s.cp1=Object(d.simpleQuadratic)(c,s,.5,-1),f.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,c,s,l,n),e.fill()}}]),CoveredHeelBasePart}(),h=function(){_inherits(HeelStrapPart,c);var n=_createSuper(HeelStrapPart);function HeelStrapPart(){_classCallCheck(this,HeelStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:1.5}].concat(e))}return _createClass(HeelStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(d.splitCurve)(1.06-.03*this.strapWidth,t.calf.out,t.ankle.out),n=r.right.p1,o=Object(d.extractPoint)(t.ankle.out),a=Object(d.extractPoint)(t.ankle.in);o.cp1=r.right.cp1,o.cp2=r.right.cp2;a.cp1=Object(d.simpleQuadratic)(o,a,.5,3),r=Object(d.splitCurve)(.035*this.strapWidth,t.ankle.in,t.calf.in);var i=Object(d.extractPoint)(r.left.p2);n.cp1=Object(d.simpleQuadratic)(i,n,.5,-3),Object(y.setStrokeAndFill)(e,{fill:this.fill,stroke:this.fill},t),e.beginPath(),Object(d.drawPoints)(e,n,o,a,i,n),e.fill()}}]),HeelStrapPart}();function calcHeels(t){var e=t.toe,r=Object(d.splitCurve)(.7,t.ankle.outbot,e.out).left.p2,n={x:e.out.x+2,y:e.in.y+2},o={x:.45*e.out.x+.55*e.in.x,y:e.in.y-this.heelPointiness},a={x:e.in.x-2.5,y:e.in.y+2},i=Object(d.splitCurve)(.6,e.in,t.ankle.inbot).left.p2,c={x:o.x,y:e.center.y-2.3+1.3*this.toeCoverage};return o.cp1=Object(d.simpleQuadratic)(n,o,.6,2),a.cp1=Object(d.simpleQuadratic)(o,a,.6,2),c.cp1=Object(d.scale)(i,.5,a),c.cp2={x:c.x-4,y:c.y},r.cp1=Object(d.continueCurve)(i,c,1),r.cp2=Object(d.scale)(r,.5,n),n.cp1=Object(d.simpleQuadratic)(r,n,.8,.6),i.cp1=Object(d.simpleQuadratic)(a,i,.1,1),{out:r,outBot:n,bot:o,inBot:a,inTop:i,tongue:c}}var g=function(){_inherits(HeelSideBaseClosedPart,i["ShoeSidePart"]);var n=_createSuper(HeelSideBaseClosedPart);function HeelSideBaseClosedPart(){_classCallCheck(this,HeelSideBaseClosedPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{toeCoverage:.5}]))}return _createClass(HeelSideBaseClosedPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcHeelBaseSide.call(this,t,r),o=n.vamp,a=n.toeTip,i=n.soleBot,c=n.heelBack,s=n.counterTip;e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:this.fill,fill:this.fill},t),Object(d.drawPoints)(e,o,a,i,c,s,o),e.fill()}}]),HeelSideBaseClosedPart}(),P=function(){_inherits(CoveredHeelSideBasePart,i["ShoeSidePart"]);var n=_createSuper(CoveredHeelSideBasePart);function CoveredHeelSideBasePart(){_classCallCheck(this,CoveredHeelSideBasePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{toeCoverage:.2,soleWidth:3,tongueSplitRatio:.75}]))}return _createClass(CoveredHeelSideBasePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcCoveredHeelBaseSide.call(this,t,r),o=n.vamp,a=n.toeTip,i=n.soleBot,c=n.heelBack,s=n.heelBackTop,l=n.tongueStart,u=n.tongueSide,p=n.tongue;e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:this.fill,fill:this.fill},t),Object(d.drawPoints)(e,o,a,i,c,s,l,u,p,o),e.fill()}}]),CoveredHeelSideBasePart}();function calcCoveredHeelBaseSide(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.vamp,o=r.toeTip,a=r.soleBot,i=r.heelBack,c=r.counterTip;o.cp1.y+=1;var s=Object(d.splitCurve)(this.tongueSplitRatio,a,i),l=s.right.p1,u=Object(d.reverseDrawPoint)(s.right.p1,s.right.p2);l.cp1=u.cp1,l.cp2=u.cp2,l=Object(d.adjust)(l,0,this.soleWidth);var p=Object(d.adjust)(Object(d.extractPoint)(i),0,this.soleWidth);p.cp1=Object(d.simpleQuadratic)(i,p,.5,-1);var f={x:c.x-16,y:c.y};f.cp1=Object(d.simpleQuadratic)(l,f,.5,5);var y={x:f.x-5,y:f.y};return n.cp1={x:y.x,y:y.y-15},n.cp2={x:n.x+6,y:n.y},{vamp:n,toeTip:o,soleBot:a,heelBack:i,heelBackTop:p,tongueStart:l,tongueSide:f,tongue:y,counterTip:c}}var b=function(){_inherits(StilettoPart,i["ShoeSidePart"]);var n=_createSuper(StilettoPart);function StilettoPart(){_classCallCheck(this,StilettoPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{separationAlongArch:.83,heelTipWidth:3.5,backHeelDeflection:2,stilettoFill:"black"}]))}return _createClass(StilettoPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcStiletto.call(this,t,r),o=n.archTip,a=n.heelTip,i=n.heelTipBack,c=n.stilettoHeelBack,s=this.stilettoFill||this.fill;e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:s,fill:s},t),Object(d.drawPoints)(e,o,a,i,c,o),e.fill()}}]),StilettoPart}(),v=function(){_inherits(PlatformSidePart,i["ShoeSidePart"]);var n=_createSuper(PlatformSidePart);function PlatformSidePart(){_classCallCheck(this,PlatformSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e,[{platformHeight:0,platformFill:"black"}]))}return _createClass(PlatformSidePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n,o,a,i,c,s;this.platformHeight<=0||(o=(n=calcHeelPlatformSide.call(this,t,r)).topLeft,a=n.left,i=n.bot,c=n.right,s=this.platformFill||this.fill,e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:s,fill:s},t),Object(d.drawPoints)(e,o,a,i,c,o),e.fill())}}]),PlatformSidePart}(),_=function(){_inherits(HeelSideSimpleStrapPart,i["ShoeSidePart"]);var n=_createSuper(HeelSideSimpleStrapPart);function HeelSideSimpleStrapPart(){_classCallCheck(this,HeelSideSimpleStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(HeelSideSimpleStrapPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcHeelBaseSide.call(this,t,r).counterTip,o=Object(d.adjust)(n,-10,0);e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:this.fill,fill:this.fill},t),e.lineWidth=1.33*this.strapWidth,e.ellipse(o.x-1,o.y-2,10,3.5,-.95*Math.PI,0,2*Math.PI),e.stroke()}}]),HeelSideSimpleStrapPart}(),m=function(){_inherits(HeelSideWideStrapPart,i["ShoeSidePart"]);var n=_createSuper(HeelSideWideStrapPart);function HeelSideWideStrapPart(){_classCallCheck(this,HeelSideWideStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:5}].concat(e))}return _createClass(HeelSideWideStrapPart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcWideStrapSide.call(this,t,r);e.beginPath(),Object(y.setStrokeAndFill)(e,{stroke:this.fill,fill:this.fill},t),Object(d.drawPoints)(e,n.left,n.topLeft,n.topRight,n.right,n.left),e.fill()}}]),HeelSideWideStrapPart}();function calcWideStrapSide(t,e){var r=calcCoveredHeelBaseSide.call(this,t,e),n=r.tongue,o=r.counterTip,a={x:n.x,y:n.y+this.strapWidth},i={x:o.x-.5,y:o.y+this.strapWidth};return i.cp1=Object(d.simpleQuadratic)(a,i,.5,-2.5),n.cp1=Object(d.simpleQuadratic)(o,n,.5,2.5),o.cp1=Object(d.simpleQuadratic)(i,o,.5,-.5),o.cp2=null,{left:n,topLeft:a,topRight:i,right:o}}var S=3;function calcHeelBaseSide(t,e){var r={x:5,y:12+this.platformHeight},n={x:r.x+14-.5*this.shoeHeight,y:r.y-9};n.cp1={x:r.x,y:r.y-3},n.cp2={x:n.x-8,y:n.y};var o={x:r.x+40+.07*e.feetLength-7*this.shoeHeight,y:r.y+5*this.shoeHeight},a={x:o.x+10,y:o.y};a.cp1={x:n.x+28,y:n.y},a.cp2={x:o.x-20,y:o.y-10};var i={x:o.x+4,y:a.y+19};i.cp1={x:a.x+3,y:a.y+10},i.cp2={x:i.x+3,y:i.y-5};var c={x:r.x+10.5+1.7*this.toeCoverage-.5*this.shoeHeight,y:r.y+4+1.3*this.toeCoverage};return r.cp1=Object(d.simpleQuadratic)(c,r,.7,-1.5),c.cp1={x:i.x-19,y:i.y-5},c.cp2={x:c.x+18,y:c.y-10},{vamp:c,toeTip:r,soleBot:n,heelBack:a,counterTip:i}}function calcHeelPlatformSide(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.toeTip,o=r.soleBot,a=r.heelBack,i=Object(d.extractPoint)(n),c=Object(d.adjust)(i,.2*this.platformHeight,-this.platformHeight);c.cp1=Object(d.simpleQuadratic)(i,c,.3,-.4);var s=Object(d.adjust)(o,0,-this.platformHeight);s.cp1.x+=.2*this.platformHeight;var l=Object(d.splitCurve)(.5,o,a).left.p2;return l.cp1.y-=this.platformHeight,l.cp2.y-=.5*this.platformHeight,{topLeft:i,left:c,bot:s,right:l}}function calcStiletto(t,e){var r=calcHeelBaseSide.call(this,t,e),n=r.soleBot,o=r.heelBack,a=Object(d.splitCurve)(this.separationAlongArch,n,o),i=Object(d.extractPoint)(a.left.p2),c={x:o.x-5.8,y:S},s={x:c.x-.5*this.heelTipWidth,y:S};s.cp1={x:s.x,y:i.y};var l=Object(d.extractPoint)(o);l.cp1=Object(d.simpleQuadratic)(c,l,.7,this.backHeelDeflection);var u=Object(d.reverseDrawPoint)(a.right.p1,a.right.p2);i.cp1=u.cp1,i.cp2=u.cp2;return{archTip:i=Object(d.adjust)(i,0,.4),heelTip:s,heelTipBack:c,stilettoHeelBack:l=Object(d.adjust)(l,0,.4)}}function renderLock(t,e,r,n,o,a,i){var c=2<arguments.length&&void 0!==r?r:1,s=3<arguments.length&&void 0!==n?n:0,l=4<arguments.length&&void 0!==o?o:2,u=5<arguments.length&&void 0!==a?a:"#D3D3D3",p=6<arguments.length&&void 0!==i?i:"gold",f=Object(d.adjust)(e,-l,-2),y=Object(d.adjust)(e,l,-2);y.cp1={x:f.x,y:f.y+5},y.cp2={x:y.x,y:y.y+5};var h={};h.topLeft=Object(d.adjust)(f,-1,1),h.topRight=Object(d.adjust)(Object(d.extractPoint)(y),1,1),h.right=Object(d.adjust)(h.topRight,0,-5),h.left=Object(d.adjust)(h.topLeft,0,-5),Object(d.scalePoints)(e,c,f,y,h.topLeft,h.topRight,h.left,h.right),Object(d.rotatePoints)(e,s,f,y,h.topLeft,h.topRight,h.left,h.right),t.beginPath(),t.fillStyle=p,Object(d.drawPoints)(t,h.topLeft,h.topRight,h.right,h.left,h.topLeft),t.fill(),t.beginPath(),t.strokeStyle=u,t.lineWidth=c,t.lineCap="round",Object(d.drawPoints)(t,f,y),t.stroke()}var n=function(){_inherits(StrapLockSidePart,i["ShoeSidePart"]);var n=_createSuper(StrapLockSidePart);function StrapLockSidePart(){_classCallCheck(this,StrapLockSidePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{lockSize:1,aboveSameLayerParts:["feet"]}].concat(e))}return _createClass(StrapLockSidePart,[{key:"renderShoeSidePart",value:function renderShoeSidePart(t,e,r){var n=calcWideStrapSide.call(this,t,r);renderLock(e,{x:n.left.x+6,y:.9*n.left.y+.1*n.topLeft.y},this.lockSize,-.1)}}]),StrapLockSidePart}(),C=function(){_inherits(StrapLockPart,c);var n=_createSuper(StrapLockPart);function StrapLockPart(){_classCallCheck(this,StrapLockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,lockSize:1,aboveSameLayerParts:["feet"]}].concat(e))}return _createClass(StrapLockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){renderLock(e,{x:t.ankle.out.x-1,y:t.ankle.out.y},.5*this.lockSize,.3,.8)}}]),StrapLockPart}(),O=function(){_inherits(Heels,f["Clothing"]);var o=_createSuper(Heels);function Heels(){var t;_classCallCheck(this,Heels);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{clothingLayer:f.Clothes.Layer.MID,thickness:1,shoeHeight:3,basePointiness:5,shoeTightness:30}].concat(r))).Mods=Object.assign({feetWidth:-t.shoeTightness,feetLength:0},t.Mods),t.Mods.feetLength+=80*t.shoeHeight,t.Mods.feetWidth-=2*t.shoeHeight,t.heelPointiness=t.basePointiness-.5*t.shoeHeight,t}return _createClass(Heels,[{key:"fill",value:function fill(){return"#000"}}]),Heels}(),k=function(){_inherits(ClosedToePumps,O);var n=_createSuper(ClosedToePumps);function ClosedToePumps(){_classCallCheck(this,ClosedToePumps);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ClosedToePumps,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:u},{side:o.Part.RIGHT,Part:u},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:g},{side:o.Part.RIGHT,Part:b},{side:o.Part.RIGHT,Part:v}]}}]),ClosedToePumps}(),w=function(){_inherits(ClosedToeStrappedPumps,O);var n=_createSuper(ClosedToeStrappedPumps);function ClosedToeStrappedPumps(){_classCallCheck(this,ClosedToeStrappedPumps);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:1.5}].concat(e))}return _createClass(ClosedToeStrappedPumps,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:u},{side:o.Part.RIGHT,Part:u},{side:o.Part.LEFT,Part:h},{side:o.Part.RIGHT,Part:h},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:g},{side:o.Part.RIGHT,Part:b},{side:o.Part.RIGHT,Part:_},{side:o.Part.RIGHT,Part:v}]}}]),ClosedToeStrappedPumps}(),j=function(){_inherits(CoveredFancyStilettos,O);var n=_createSuper(CoveredFancyStilettos);function CoveredFancyStilettos(){_classCallCheck(this,CoveredFancyStilettos);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(CoveredFancyStilettos,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:p},{side:o.Part.RIGHT,Part:p},{side:o.Part.LEFT,Part:h},{side:o.Part.RIGHT,Part:h},{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:P},{side:o.Part.RIGHT,Part:m},{side:o.Part.RIGHT,Part:b},{side:o.Part.RIGHT,Part:v}]}}]),CoveredFancyStilettos}(),x=[{side:o.Part.RIGHT,Part:n},{side:o.Part.LEFT,Part:C},{side:o.Part.RIGHT,Part:C}],A=function(){_inherits(LockedCoveredFancyStilettos,j);var n=_createSuper(LockedCoveredFancyStilettos);function LockedCoveredFancyStilettos(){_classCallCheck(this,LockedCoveredFancyStilettos);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(LockedCoveredFancyStilettos,[{key:"partPrototypes",get:function get(){return _get(_getPrototypeOf(LockedCoveredFancyStilettos.prototype),"partPrototypes",this).concat(x)}}]),LockedCoveredFancyStilettos}()},function(t,e,r){"use strict";r.r(e),r.d(e,"calcSuperBra",function(){return calcSuperBra}),r.d(e,"calcSuperBraStrap",function(){return calcSuperBraStrap}),r.d(e,"SuperBraGenitalPart",function(){return c}),r.d(e,"SuperBraChestPart",function(){return f}),r.d(e,"calcPanties",function(){return calcPanties}),r.d(e,"calcPanties2",function(){return calcPanties2}),r.d(e,"SuperPantiesPart",function(){return y}),r.d(e,"ChastityBeltPart",function(){return h}),r.d(e,"SuperPanties2Part",function(){return d}),r.d(e,"SuperBra",function(){return g}),r.d(e,"SuperPanties",function(){return P}),r.d(e,"BikiniBottom",function(){return b}),r.d(e,"ChastityBelt",function(){return v});var l=r(1),o=r(17),a=r(2),i=r(6),u=r(0),n=r(5),s=r(8),p=r(26);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperBra(t){if(!1===t.hasOwnProperty("breast"))return null;var e=Object(u.splitCurve)(.7,t.breast.top,t.breast.tip),r={out:Object(u.clone)(Object(u.extractPoint)(e.right.p1)),tip:Object(u.clone)(Object(u.extractPoint)(e.right.p2))};return r.top={x:t.breast.bot.x,y:r.out.y+2},r.out.cp1=Object(u.simpleQuadratic)(r.top,r.out,.4,1),r.top.cp1=Object(u.simpleQuadratic)(t.breast.cleavage,r.top,.6,2),r.bot=Object(u.adjust)(t.breast.bot,0,0),r.cleavage=Object(u.adjust)(t.breast.cleavage,0,0),r.inner=Object(u.adjust)(t.breast.in,0,0),r}function calcSuperBraStrap(t){var e=Object(o.calcBra)(t),r={};r.out={x:t.breast.bot.x,y:t.breast.cleavage.y},r.outbot={x:t.breast.bot.x,y:t.breast.bot.y+3-this.botStrapWidth},r.bot={x:-a.seamWidth,y:t.breast.bot.y+4-this.botStrapWidth},r.mid={x:-a.seamWidth,y:t.breast.cleavage.y};var n=Object(u.splitCurve)(1-this.neckCoverage,t.neck.cusp,t.collarbone);return r.strapTop=n.left.p2,r.strapTop.y-=this.strapWidth/2,r.breastTop=Object(u.adjust)(t.breast.top,.1*this.strapWidth,.1*this.strapWidth),r.breastTop.cp1={x:r.breastTop.x-5+this.topStrapCurveX,y:r.breastTop.y+10+this.topStrapCurveY},r.breastOut=Object(u.extractPoint)(Object(u.adjust)(e.out,-.5*this.strapWidth,0)),r}var c=function(){_inherits(SuperBraGenitalPart,l["ClothingPart"]);var n=_createSuper(SuperBraGenitalPart);function SuperBraGenitalPart(){_classCallCheck(this,SuperBraGenitalPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{strapBehindBreasts:!0}].concat(e))}return _createClass(SuperBraGenitalPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n=calcSuperBra(t);null!==n&&(r=calcSuperBraStrap.call(this,t),this.showStrap&&!this.strapBehindBreasts&&(e.lineWidth=this.strapWidth,e.strokeStyle=this.highlight,e.beginPath(),Object(u.drawPoints)(e,r.breastTop,r.breastOut),e.stroke()),Object(i.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.thickness,e.beginPath(),Object(u.drawPoints)(e,n.top,n.out,n.tip,n.bot,n.inner,n.cleavage,n.top),e.fill(),e.stroke())}}]),SuperBraGenitalPart}(),f=function(){_inherits(SuperBraChestPart,l["ClothingPart"]);var n=_createSuper(SuperBraChestPart);function SuperBraChestPart(){_classCallCheck(this,SuperBraChestPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+torso",reflect:!0,aboveParts:["parts torso"],belowParts:["parts chest"]}].concat(e))}return _createClass(SuperBraChestPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;null!==calcSuperBra(t)&&(r=calcSuperBraStrap.call(this,t),Object(i.setStrokeAndFill)(e,{fill:this.fill,stroke:this.stroke},t),e.lineWidth=this.thickness,e.lineCap="round",e.beginPath(),Object(u.drawPoints)(e,r.out,r.outbot,r.bot,r.mid,r.out),e.fill(),this.showStrap&&(e.lineWidth=this.strapWidth,e.strokeStyle=this.highlight,e.beginPath(),Object(u.drawPoints)(e,r.strapTop,r.breastTop),e.stroke()))}}]),SuperBraChestPart}();function calcPanties(t){var e,r,n,o,a,i={};return this.waistCoverageLower>this.waistCoverage&&(this.waistCoverageLower=this.waistCoverage),0<this.waistCoverage&&0<this.waistCoverageLower?(n=Object(u.splitCurve)(1-this.waistCoverage,t.waist,t.hip),i.sideTop=n.left.p2,e=n.right.p2,r=(this.waistCoverage-this.waistCoverageLower)/this.waistCoverage,n=Object(u.splitCurve)(r,i.sideTop,e),i.sideBot=n.left.p2,i.sideTop=Object(u.extractPoint)(i.sideTop)):this.waistCoverage<0&&this.waistCoverageLower<0?(n=Object(u.splitCurve)(Math.abs(this.waistCoverage),t.hip,t.thigh.out),i.sideTop=n.left.p2,o=n.right.p2,a=Math.abs((1+this.waistCoverage-(1+this.waistCoverageLower))/(1+this.waistCoverage)),n=Object(u.splitCurve)(a,i.sideTop,o),i.sideBot=n.left.p2,i.sideTop=Object(u.extractPoint)(i.sideTop)):(n=Object(u.splitCurve)(1-this.waistCoverage,t.waist,t.hip),i.sideTop=Object(u.extractPoint)(n.left.p2),i.hip=n.right.p2,n=Object(u.splitCurve)(Math.abs(this.waistCoverageLower),t.hip,t.thigh.out),i.sideBot=n.left.p2),i.top={x:-.1,y:i.sideTop.y+this.topY-8},i.sideTop.cp1={x:.5*i.sideTop.x+.5*i.top.x,y:i.sideTop.y},i.sideTop.cp1.x+=this.curveTopX,i.sideTop.cp1.y+=this.curveTopY-9,i.bot=Object(u.adjust)(Object(u.clone)(t.groin),-.1,0),n=Object(u.splitCurve)(this.genCoverage,t.groin,Object(u.extractPoint)(t.thigh.top)),i.botOut=Object(u.extractPoint)(n.left.p2),n=Object(u.splitCurve)(.5,i.sideBot,i.botOut),i.botOut.cp1=Object(u.extractPoint)(n.left.p2),i.botOut.cp1.x+=this.curveBotX-9,i.botOut.cp1.y+=this.curveBotY+5,i}function calcPanties2(t){var e=calcPanties.call(this,t);e.center={x:-.1,y:e.top.y-2*this.radius},e.top.cp1={x:2*this.radius,y:e.top.y-this.radius};var r=Object(n.cartesian2polar)(e.sideTop,e.sideBot).theta;return e.sideBot.cp1=Object(n.perpendicularPoint)(e.sideTop,e.sideBot,.5,-2*r),e.sideBot.cp=void 0,e}var y=function(){_inherits(SuperPantiesPart,l["ClothingPart"]);var n=_createSuper(SuperPantiesPart);function SuperPantiesPart(){_classCallCheck(this,SuperPantiesPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg"],belowSameLayerParts:["clothingParts leg"]}].concat(e))}return _createClass(SuperPantiesPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c;!1!==t.hasOwnProperty("groin")&&(r=calcPanties.call(this,t),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,r.top,r.sideTop,r.hip,r.sideBot,r.botOut,r.bot),e.fill(),e.stroke(),this.bow&&(n=Object(u.adjust)(r.top,0,-2),o=Object(u.adjust)(n,0,1),a=Object(u.adjust)(n,0,-1),i=Object(u.adjust)(n,3,2),c=Object(u.adjust)(n,3,-2),e.fillStyle=Object(s.adjustColor)(e.fillStyle,{s:-10,l:-15}),e.beginPath(),Object(u.drawPoints)(e,o,i,c,a),e.fill(),e.stroke()))}}]),SuperPantiesPart}(),h=function(){_inherits(ChastityBeltPart,l["ClothingPart"]);var n=_createSuper(ChastityBeltPart);function ChastityBeltPart(){_classCallCheck(this,ChastityBeltPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg","parts torso","decorativeParts torso"],belowSameLayerParts:["clothingParts leg"]},{waistCoverage:.72,beltWidth:6,beltCurve:-2,highlight:"#cdc331",coverage:.2}].concat(e))}return _createClass(ChastityBeltPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=p.calcBelt.call(this,t),n=r.inTop,o=r.outTop,a=r.outMid,i=r.outBot,c=r.inBot;e.beginPath(),Object(u.drawPoints)(e,n,o,a,i,c),e.fill(),e.stroke();var s=Object(u.splitCurve)(this.coverage,n,o).left.p2;Object(u.drawPoints)(e,n,s,t.vagina.side,t.groin),e.fill(),e.stroke()}}]),ChastityBeltPart}(),d=function(){_inherits(SuperPanties2Part,l["ClothingPart"]);var n=_createSuper(SuperPanties2Part);function SuperPanties2Part(){_classCallCheck(this,SuperPanties2Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"groin",reflect:!0,aboveParts:["parts groin","parts torso","parts leg"],belowSameLayerParts:["clothingParts leg"]}].concat(e))}return _createClass(SuperPanties2Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;!1!==t.hasOwnProperty("groin")&&(r=calcPanties2.call(this,t),l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,r.center,r.top,r.sideTop,r.sideBot,r.botOut,r.bot),e.fill(),e.stroke())}}]),SuperPanties2Part}(),g=function(){_inherits(SuperBra,o["Underwear"]);var n=_createSuper(SuperBra);function SuperBra(){_classCallCheck(this,SuperBra);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{showStrap:!1,strapWidth:1.5,neckCoverage:.7,thickness:.5,botStrapWidth:0,topStrapCurveX:0,topStrapCurveY:0,highlight:"hsl(346, 50%, 70%)"}].concat(e))}return _createClass(SuperBra,[{key:"fill",value:function fill(){return"hsl(346, 57%, 82%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:f},{side:null,Part:c}]}}]),SuperBra}(),P=function(){_inherits(SuperPanties,o["Underwear"]);var n=_createSuper(SuperPanties);function SuperPanties(){_classCallCheck(this,SuperPanties);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.11,waistCoverageLower:-.05,genCoverage:1,topY:0,curveTopX:0,curveTopY:0,curveBotX:0,curveBotY:0,bow:!0}].concat(e))}return _createClass(SuperPanties,[{key:"fill",value:function fill(){return"hsl(346, 57%, 82%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),SuperPanties}(),b=function(){_inherits(BikiniBottom,o["Underwear"]);var n=_createSuper(BikiniBottom);function BikiniBottom(){_classCallCheck(this,BikiniBottom);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.11,waistCoverageLower:-.05,genCoverage:1,topY:0,curveTopX:0,curveTopY:0,curveBotX:0,curveBotY:0,radius:2.8,thickness:.6}].concat(e))}return _createClass(BikiniBottom,[{key:"stroke",value:function stroke(){return"hsla(335, 800%, 30%, 1)"}},{key:"fill",value:function fill(){return"hsla(335, 100%, 42%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:d}]}}]),BikiniBottom}(),v=function(){_inherits(ChastityBelt,o["Underwear"]);var n=_createSuper(ChastityBelt);function ChastityBelt(){_classCallCheck(this,ChastityBelt);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(ChastityBelt,[{key:"fill",value:function fill(){return"#50a9cc"}},{key:"stroke",value:function stroke(){return"#343570"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:h}]}}]),ChastityBelt}()},function(t,e,r){"use strict";r.r(e),r.d(e,"Garter",function(){return i}),r.d(e,"SuperSockBandPart",function(){return c}),r.d(e,"SuperSockPart",function(){return s}),r.d(e,"PantyhosePart",function(){return l}),r.d(e,"SuperSocks",function(){return n}),r.d(e,"Stockings",function(){return u}),r.d(e,"StockingsGarter",function(){return y}),r.d(e,"Pantyhose",function(){return h});var p=r(1),o=r(3),P=(r(2),r(0)),b=r(5),a=r(19),f=r(47);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcSuperSocks(t){var e=[];void 0!==t.quads&&(e[0]=Object(P.clone)(t.quads.top),e[0].x=t.thigh.out.x,e[1]=Object(P.clone)(t.quads.out));var r,n=b.getLimbPointsNegative.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,t.hip,t.thigh.out].concat(e,[t.knee.out,t.calf.out,t.ankle.out]));!this.lockGroin&&this.legCoverage<0&&((r=Object(b.getLimbPointsNegative)(t.armpit,t.hip,1+this.legCoverage,t.armpit,t.waist,t.hip)).pop(),n=r.concat(n));var o,a,i,c=Object(b.getLimbPointsBellowPoint)(n[0],!0,t.groin,t.thigh.top,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in);return n[0]=Object(P.extractPoint)(n[0]),n[0].y-6<=t.thigh.top.y?n[0].cp1={x:Object(b.findBetween)(c[c.length-1].x,n[0].x,.5),y:n[0].y-6}:this.lockGroin?(c.splice(c.length-1,1),o=Object(P.interpolateCurve)(t.hip,t.thigh.out,{x:null,y:t.thigh.top.y}),n[0]=Object(P.extractPoint)(o[0]),n[1]=Object(P.extractPoint)(n[1]),n[0].cp1={x:Object(b.findBetween)(c[c.length-1].x,n[0].x,.5),y:n[0].y-6}):(c[c.length]=Object(P.adjust)(t.groin,-.2,0),a=n[0].y-t.hip.y,i={x:-.2,y:t.pelvis.y+1.2*a},n[0].cp2=void 0,n[0].cp1={x:Object(b.findBetween)(n[0].x,i.x,.5),y:i.y},n.unshift(i),c[c.length-1].cp1={x:.5*c[c.length-1].x+.5*t.thigh.top.x,y:c[c.length-1].y},c[c.length]=i),{outerPoints:n,innerPoints:c}}var i=function(){_inherits(Garter,a["SockPart"]);var n=_createSuper(Garter);function Garter(){_classCallCheck(this,Garter);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"],reflect:!0}].concat(e))}return _createClass(Garter,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s=calcSuperSocks.call(this,t),l=s.outerPoints,u=s.innerPoints;e.fillStyle=this.highlight,a=0<this.waistCoverage?(r=Object(P.splitCurve)(1-this.waistCoverage,t.waist,t.hip),o={x:0,y:(n=Object(P.extractPoint)(r.left.p2)).y-this.beltWidth},Object(b.getLimbPointsAbovePoint)(o,!1,n,t.hip,t.thigh.out)):(i=Object(P.splitCurve)(Math.abs(this.waistCoverage),t.hip,t.thigh.out),c={x:0,y:(n=Object(P.extractPoint)(i.left.p2)).y-this.beltWidth},Object(b.getLimbPointsAbovePoint)(c,!1,n,t.thigh.out));var p={x:-.1,y:n.y-6};n.cp1={x:.5*n.x+.5*p.x,y:p.y};var f=u[u.length-1],y=Object(P.extractPoint)(l[0]);f.y-=6,y.y-=6;var h={y:y.y,x:.4*(f.x-y.x)+y.x+3};h.cp1={y:.9*(a[a.length-1].y-h.y)+h.y,x:-.1*(a[a.length-1].x-h.x)+h.x};var d={y:f.y,x:h.x-3},g={x:t.pelvis.x-.1,y:p.y-(n.y-a[a.length-1].y)};g.cp1={y:.2*(d.y-p.y)+p.y,x:.9*(d.x-p.x)+p.x},e.beginPath(),P.drawPoints.apply(void 0,[e,p,n].concat(_toConsumableArray(a),[h,d,g])),e.fill()}}]),Garter}(),c=function(){_inherits(SuperSockBandPart,a["SockPart"]);var n=_createSuper(SuperSockBandPart);function SuperSockBandPart(){_classCallCheck(this,SuperSockBandPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return _createClass(SuperSockBandPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r,n,o,a,i,c,s,l;this.bandWidth<.1||(n=(r=calcSuperSocks.call(this,t)).outerPoints,o=r.innerPoints,e.fillStyle=this.highlight,a=o[o.length-1],i=Object(P.extractPoint)(n[0]),(c=Object(P.clone)(a)).y=c.y-this.bandWidth,o.reverse(),s=b.getLimbPointsAbovePoint.apply(void 0,[c,!0].concat(_toConsumableArray(o))),l=b.getLimbPointsAbovePoint.apply(void 0,[c,!1].concat(_toConsumableArray(n))),i.cp1={x:Object(b.findBetween)(a.x,i.x,.5),y:i.y-6},s[0]=Object(P.extractPoint)(s[0]),s[0].cp1={x:Object(b.findBetween)(l[l.length-1].x,s[0].x,.5),y:s[0].y-6},e.beginPath(),P.drawPoints.apply(void 0,[e,i].concat(_toConsumableArray(l),_toConsumableArray(s),[a,i])),e.fill())}}]),SuperSockBandPart}(),s=function(){_inherits(SuperSockPart,a["SockPart"]);var n=_createSuper(SuperSockPart);function SuperSockPart(){_classCallCheck(this,SuperSockPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return _createClass(SuperSockPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcSuperSocks.call(this,t),n=r.outerPoints,o=r.innerPoints;p.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),P.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot],_toConsumableArray(o),[n[0]])),e.fill(),e.stroke()}}]),SuperSockPart}(),l=function(){_inherits(PantyhosePart,a["SockPart"]);var n=_createSuper(PantyhosePart);function PantyhosePart(){_classCallCheck(this,PantyhosePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{aboveSameLayerParts:["feet"],aboveParts:["parts feet","parts leg","clothingParts groin"]}].concat(e))}return _createClass(PantyhosePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=f.calcSuperPantsTop.call(this,t),n=r.top,o=r.out,a=r.hip,i=r.thighOut;p.Clothes.simpleStrokeFill(e,t,this);var c=[];void 0!==t.quads&&(c[0]=Object(P.clone)(t.quads.top),c[0].x=t.thigh.out.x,c[1]=Object(P.clone)(t.quads.out));var s,l=t.thigh.top,u=t.groin;.02<this.open&&(s=.7*(n.y-u.y)*this.open,(u=Object(P.adjust)(t.groin,0,s)).cp2=Object(P.adjust)(t.groin,22*this.open,22*this.open),u.cp1=Object(P.adjust)(t.groin,12*this.open,-14*this.open),l=(s=Object(P.splitCurve)(1-.9*this.open,t.thigh.in,t.thigh.top)).left.p2),e.beginPath(),P.drawPoints.apply(void 0,[e,n,o,a,i].concat(c,[t.knee.out,t.calf.out,t.ankle.out,t.ankle.outbot,t.toe.out,t.toe.in,t.ankle.inbot,t.ankle.in,t.calf.in,t.knee.in,t.knee.intop,t.thigh.in,l,u,n])),e.fill(),e.stroke()}}]),PantyhosePart}(),n=function(){_inherits(SuperSocks,a["Sock"]);var n=_createSuper(SuperSocks);function SuperSocks(){_classCallCheck(this,SuperSocks);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.5,thickness:.5,lockGroin:!1}].concat(e))}return _createClass(SuperSocks,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),SuperSocks}(),u=function(){_inherits(Stockings,a["Sock"]);var n=_createSuper(Stockings);function Stockings(){_classCallCheck(this,Stockings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.2,thickness:.3,bandWidth:7,highlight:"hsla(0, 0%, 11%, 1)",lockGroin:!0}].concat(e))}return _createClass(Stockings,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:c},{side:o.Part.RIGHT,Part:c},{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),Stockings}(),y=function(){_inherits(StockingsGarter,a["Sock"]);var n=_createSuper(StockingsGarter);function StockingsGarter(){_classCallCheck(this,StockingsGarter);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.2,thickness:.3,bandWidth:9,beltWidth:10,highlight:"hsla(0, 0%, 11%, 1)",waistCoverage:.5,lockGroin:!0}].concat(e))}return _createClass(StockingsGarter,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.RIGHT,Part:i},{side:o.Part.LEFT,Part:c},{side:o.Part.RIGHT,Part:c},{side:o.Part.LEFT,Part:s},{side:o.Part.RIGHT,Part:s}]}}]),StockingsGarter}(),h=function(){_inherits(Pantyhose,a["Sock"]);var n=_createSuper(Pantyhose);function Pantyhose(){_classCallCheck(this,Pantyhose);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{waistCoverage:.45,thickness:.3,open:0}].concat(e))}return _createClass(Pantyhose,[{key:"fill",value:function fill(){return"hsla(0,20%,30%,0.5)"}},{key:"stroke",value:function stroke(){return"hsla(0.0,5%,30%,1)"}},{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:l},{side:o.Part.RIGHT,Part:l}]}}]),Pantyhose}()},function(t,e,r){"use strict";r.r(e),r.d(e,"MagicHatFrontPart",function(){return i}),r.d(e,"MagicHatBackPart",function(){return c}),r.d(e,"calcMagicHat",function(){return calcMagicHat}),r.d(e,"MaidHeadpiecePart",function(){return s}),r.d(e,"MagicHat",function(){return n}),r.d(e,"MaidHeadpiece",function(){return p});var l=r(1),o=r(2),u=(r(6),r(0)),a=r(31);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(MagicHatFrontPart,l["ClothingPart"]);var n=_createSuper(MagicHatFrontPart);function MagicHatFrontPart(){_classCallCheck(this,MagicHatFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ABOVE_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(MagicHatFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcMagicHat.call(this,t),n=(r.center,r.inBot),o=r.out,a=r.inTop,i=r.coneBase,c=r.coneTop,s=r.forhead;l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,i,c,Object(u.extractPoint)(a)),e.fill(),e.beginPath(),Object(u.drawPoints)(e,i,c),e.stroke(),e.beginPath(),Object(u.drawPoints)(e,o,a,s,i),e.fill(),n.y>a.y&&(e.beginPath(),Object(u.drawPoints)(e,s,i),e.stroke()),e.beginPath(),Object(u.drawPoints)(e,o,a),e.stroke()}}]),MagicHatFrontPart}(),c=function(){_inherits(MagicHatBackPart,l["ClothingPart"]);var n=_createSuper(MagicHatBackPart);function MagicHatBackPart(){_classCallCheck(this,MagicHatBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BACK,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(MagicHatBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcMagicHat.call(this,t),n=(r.center,r.inBot),o=r.out,a=r.inTop;r.coneBase,r.coneTop,r.forhead;l.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(u.drawPoints)(e,n,o,a),e.fill(),e.stroke()}}]),MagicHatBackPart}();function calcMagicHat(t){var e={x:-.2,y:t.skull.side.y+3+this.centerOffset},r=Object(u.adjust)(e,0,6+this.brimAngle),n=Object(u.adjust)(e,0,-6-this.brimAngle),o=Object(u.adjust)(e,36+this.brimWidth,0),a=Object(u.adjust)(e,0,(6+this.brimAngle)/2);o.cp1={x:.5*(o.x+n.x),y:n.y},r.cp1={x:.5*(r.x+o.x),y:r.y};var i=Object(u.interpolateCurve)(t.skull,t.skull.side,{x:null,y:e.y})[0];return(i=Object(u.adjust)(i,this.coneWidth+2,0)).cp1={x:.5*(i.x+a.x),y:a.y},{center:e,inBot:n,out:o,inTop:r,coneBase:i,coneTop:Object(u.adjust)(e,0,45+this.coneHeight),forhead:a}}var s=function(){_inherits(MaidHeadpiecePart,l["ClothingPart"]);var n=_createSuper(MaidHeadpiecePart);function MaidHeadpiecePart(){_classCallCheck(this,MaidHeadpiecePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ABOVE_HAIR,loc:"head",reflect:!0},{}].concat(e))}return _createClass(MaidHeadpiecePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r={x:-.2,y:t.skull.y-5+this.centerOffset},n={x:-.2,y:r.y+this.height},o={x:n.x+this.width,y:n.y-this.drop};o.cp1={x:.5*(n.x+o.x),y:n.y};var a=Math.sqrt(Math.pow(this.height,2)/2),i={x:o.x-a,y:o.y-a};r.cp1={x:.5*(r.x+i.x),y:r.y},e.beginPath(),Object(u.drawPoints)(e,n,o,i,r),e.fill(),e.stroke()}}]),MaidHeadpiecePart}(),n=function(){_inherits(MagicHat,a["Hat"]);var n=_createSuper(MagicHat);function MagicHat(){_classCallCheck(this,MagicHat);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{centerOffset:0,brimWidth:0,brimAngle:0,coneHeight:0,coneWidth:0}].concat(e))}return _createClass(MagicHat,[{key:"fill",value:function fill(){return"#343232"}},{key:"stroke",value:function stroke(){return"#201b1b"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c}]}}]),MagicHat}(),p=function(){_inherits(MaidHeadpiece,a["Hat"]);var n=_createSuper(MaidHeadpiece);function MaidHeadpiece(){_classCallCheck(this,MaidHeadpiece);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{centerOffset:2,height:9,width:12,drop:4}].concat(e))}return _createClass(MaidHeadpiece,[{key:"fill",value:function fill(){return"white"}},{key:"stroke",value:function stroke(){return"black"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:s}]}}]),MaidHeadpiece}()},function(t,e,r){"use strict";r.r(e),r.d(e,"CorsetBreastPart",function(){return s}),r.d(e,"calcCorset",function(){return calcCorset}),r.d(e,"CorsetPart",function(){return l}),r.d(e,"HalfCorsetPart",function(){return u}),r.d(e,"Corset",function(){return n}),r.d(e,"HalfCorset",function(){return p});var f=r(1),o=(r(3),r(9)),a=r(2),y=r(0),h=r(5),i=r(27),c=r(17);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(CorsetBreastPart,f["ClothingPart"]);var n=_createSuper(CorsetBreastPart);function CorsetBreastPart(){_classCallCheck(this,CorsetBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]}].concat(e))}return _createClass(CorsetBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;f.Clothes.simpleStrokeFill(e,t,this),Object(o.coverNipplesIfHaveNoBreasts)(t,e,this)||((r=Object(c.calcBra)(t)).out.cp1=Object(y.simpleQuadratic)(r.top,r.out,.4,1),r.top.cp1=Object(y.simpleQuadratic)(t.breast.cleavage,r.top,.6,2),e.beginPath(),Object(y.drawPoints)(e,r.top,r.out,r.tip,t.breast.bot,t.breast.in,t.breast.cleavage,r.top),e.fill(),Object(y.drawPoints)(e,t.breast.cleavage,r.top,r.out,r.tip,t.breast.bot),e.stroke())}}]),CorsetBreastPart}();function calcCorset(t){var e,r;t.breast?(e=Object(h.getLimbPointsBellowPoint)(t.breast.cleavage,!1,t.armpit,t.waist)[0],r={x:-.1,y:t.breast.cleavage.y}):(r={x:-.1,y:(e=Object(y.clone)(t.armpit)).y-4},e.cp1={x:.5*e.x+.5*r.x,y:r.y});var n=Object(y.splitCurve)(this.botCoverage,t.waist,t.hip).left.p2,o={x:0,y:n.y-7};return o.cp2={x:.5*o.x+.5*n.x,y:o.y},o.cp1={x:o.cp2.x+12,y:o.cp2.y+9},{topMid:r,top:e,bot:n,botMid:o}}var l=function(){_inherits(CorsetPart,f["ClothingPart"]);var n=_createSuper(CorsetPart);function CorsetPart(){_classCallCheck(this,CorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(CorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r,n,o,a,i,c=calcCorset.call(this,t),s=c.topMid,l=c.top,u=c.bot,p=c.botMid;e.beginPath(),Object(y.drawPoints)(e,s,l,t.waist,u,Object(y.extractPoint)(u),p),e.fill(),e.stroke(),this.lacing&&(r=Object(y.adjust)(s,-3,-1),n=Object(y.adjust)(p,-3,1),o=Object(y.adjust)(s,3,-1),a=Object(y.adjust)(p,3,1),i=Object(h.getLacingPoints)(n,r,a,o,this.knots),e.strokeStyle=this.highlight,e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i.inner),[y.breakPoint],_toConsumableArray(i.outer))),e.stroke())}}]),CorsetPart}(),u=function(){_inherits(HalfCorsetPart,f["ClothingPart"]);var n=_createSuper(HalfCorsetPart);function HalfCorsetPart(){_classCallCheck(this,HalfCorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(HalfCorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r=Object(y.splitCurve)(1-this.topCoverage,t.armpit,t.waist),n=Object(y.extractPoint)(r.left.p2),o=(r=Object(y.splitCurve)(this.botCoverage,t.waist,t.hip)).left.p2,a={x:0,y:o.y-7};a.cp2={x:.5*a.x+.5*o.x,y:a.y},a.cp1={x:a.cp2.x+12,y:a.cp2.y+9};var i,c,s,l,u,p={x:0,y:n.y-5};n.cp1={x:.5*n.x+.5*p.x,y:p.y},e.beginPath(),Object(y.drawPoints)(e,p,n,t.waist,o,a,p),e.fill(),e.beginPath(),Object(y.drawPoints)(e,p,n,t.waist,o,a),e.stroke(),this.lacing&&(i=Object(y.adjust)(p,-3,-1),c=Object(y.adjust)(a,-3,1),s=Object(y.adjust)(p,3,-1),l=Object(y.adjust)(a,3,1),u=Object(h.getLacingPoints)(c,i,l,s,this.knots),e.strokeStyle=this.highlight,e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(u.inner),[y.breakPoint],_toConsumableArray(u.outer))),e.stroke())}}]),HalfCorsetPart}(),n=function(){_inherits(Corset,i["Top"]);var n=_createSuper(Corset);function Corset(){_classCallCheck(this,Corset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:f.Clothes.Layer.OUTER,botCoverage:1,thickness:1,lacing:!0,knots:6,highlight:"hsla(0, 0%, 52%, 1)"}].concat(e))}return _createClass(Corset,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:l}]}}]),Corset}(),p=function(){_inherits(HalfCorset,i["Top"]);var n=_createSuper(HalfCorset);function HalfCorset(){_classCallCheck(this,HalfCorset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:f.Clothes.Layer.OUTER,topCoverage:.6,botCoverage:1,thickness:1,knots:6,lacing:!0,highlight:"hsla(0, 0%, 52%, 1)"}].concat(e))}return _createClass(HalfCorset,[{key:"stroke",value:function stroke(){return"#000"}},{key:"fill",value:function fill(){return"hsl(0,10%,20%)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:u}]}}]),HalfCorset}()},function(t,e,r){"use strict";r.r(e),r.d(e,"ChokerPart",function(){return i}),r.d(e,"NeckCorsetPart",function(){return c}),r.d(e,"CollarPart",function(){return p}),r.d(e,"calcCollarRing",function(){return calcCollarRing}),r.d(e,"TagPart",function(){return f}),r.d(e,"ChokerCrossPart",function(){return y}),r.d(e,"calcCollar",function(){return calcCollar}),r.d(e,"Choker",function(){return n}),r.d(e,"NeckCorset",function(){return h}),r.d(e,"Collar",function(){return d}),r.d(e,"TaggedCollar",function(){return g}),r.d(e,"CrossedChoker",function(){return P});var s=r(1),o=r(2),l=r(0),a=r(20),u=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||_unsupportedIterableToArray(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(ChokerPart,s["ClothingPart"]);var n=_createSuper(ChokerPart);function ChokerPart(){_classCallCheck(this,ChokerPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"],neckCoverage:.3,neckBotCoverage:0},{}].concat(e))}return _createClass(ChokerPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn;if(this.center)return a.cp1={y:(a.y-i.y)/2+i.y,x:4},e.beginPath(),Object(l.drawPoints)(e,a,n,o,i,a),e.fill(),void e.stroke();e.beginPath(),Object(l.drawPoints)(e,a,n,o,i),e.fill(),e.stroke()}}]),ChokerPart}(),c=function(){_inherits(NeckCorsetPart,s["ClothingPart"]);var n=_createSuper(NeckCorsetPart);function NeckCorsetPart(){_classCallCheck(this,NeckCorsetPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return _createClass(NeckCorsetPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn,a={x:3,y:n.y},i={x:3,y:o.y};e.beginPath(),Object(l.drawPoints)(e,a,n,o,i),e.fill(),e.stroke();var c=Object(u.getLacingPoints)(i,a,Object(l.reflect)(i),Object(l.reflect)(a),this.crossings);e.beginPath(),e.strokeStyle=this.highlight,e.lineWidth=.4,l.drawPoints.apply(void 0,[e].concat(_toConsumableArray(c.outer))),e.stroke()}}]),NeckCorsetPart}(),p=function(){_inherits(CollarPart,s["ClothingPart"]);var n=_createSuper(CollarPart);function CollarPart(){_classCallCheck(this,CollarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"],ringColor:"silver",ringWidth:3,ringThickness:1},{}].concat(e))}return _createClass(CollarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcCollarRing.call(this,t),n=r.center,o=r.top,a=r.right,i=r.bot,c=r.left;e.beginPath(),e.lineWidth=this.ringThickness,e.strokeStyle=this.ringColor,Object(l.drawPoints)(e,o,a,i,c,o),e.stroke();e.beginPath(),e.lineWidth=.5,e.fillStyle=this.highlight,Object(l.drawPoints)(e,{x:n.x+1.5,y:n.y+1.5},{x:n.x+1.5,y:n.y-1.5},{x:n.x-1.5,y:n.y-1.5},{x:n.x-1.5,y:n.y+1.5}),e.fill()}}]),CollarPart}();function calcCollarRing(t){var e=Object(l.splitCurve)(this.neckCoverage,t.neck.cusp,t.neck.top),r={x:0,y:Object(u.findBetween)(e.left.p2.y,t.neck.cusp.y,.5)-2},n=this.ringWidth,o=_slicedToArray(Object(l.drawCircle)({x:0,y:r.y-n},n),4);return{center:r,top:o[0],right:o[1],bot:o[2],left:o[3]}}var f=function(){_inherits(TagPart,s["ClothingPart"]);var n=_createSuper(TagPart);function TagPart(){_classCallCheck(this,TagPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!1,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{text:"SLUT",fontHeight:8,dx:0,dy:0}].concat(e))}return _createClass(TagPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=(r.topOut,r.botOut,r.topIn,r.botIn),o=Object(l.reflect)(n);o.x-=3.5+this.dx/10,o.y+=1.2+this.dy/10,e.font=this.fontHeight+"px Comic Sans MS",e.fillStyle=this.highlight,e.fillText(this.text,o.x,o.y)}}]),TagPart}(),y=function(){_inherits(ChokerCrossPart,s["ClothingPart"]);var n=_createSuper(ChokerCrossPart);function ChokerCrossPart(){_classCallCheck(this,ChokerCrossPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{}].concat(e))}return _createClass(ChokerCrossPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){s.Clothes.simpleStrokeFill(e,t,this);var r=calcCollar.call(this,t),n=r.topOut,o=r.botOut,a=r.topIn,i=r.botIn;o.cp1=i.cp1,o.cp2=i.cp2;var c=Object(u.getLacingPoints)(a,n,i,o,this.crossings);e.beginPath(),e.lineWidth=this.thickness,l.drawPoints.apply(void 0,[e].concat(_toConsumableArray(c.outer),[l.breakPoint],_toConsumableArray(c.inner))),e.stroke()}}]),ChokerCrossPart}();function calcCollar(t){var e=Object(l.splitCurve)(this.neckCoverage,t.neck.cusp,t.neck.top),r=Object(l.adjust)(e.left.p2,.5*-this.thickness,0),e=Object(l.splitCurve)(this.neckBotCoverage,t.neck.cusp,t.neck.top),n=Object(l.adjust)(e.left.p2,.5*-this.thickness,0),n=Object(l.extractPoint)(n),o={x:-.1,y:r.y},a={x:-.1,y:n.y};return a.y-=2.2,a.cp1={x:.5*(a.x+n.x),y:a.y},o.y-=2.2,r.cp1={x:.5*(r.x+o.x),y:o.y},{topOut:r,botOut:n,topIn:o,botIn:a}}var n=function(){_inherits(Choker,a["NeckAccessory"]);var n=_createSuper(Choker);function Choker(){_classCallCheck(this,Choker);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.2,neckBotCoverage:0,center:!1,thickness:.5}].concat(e))}return _createClass(Choker,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:i}]}}]),Choker}(),h=function(){_inherits(NeckCorset,a["NeckAccessory"]);var n=_createSuper(NeckCorset);function NeckCorset(){_classCallCheck(this,NeckCorset);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.6,neckBotCoverage:0,crossings:3,highlight:"black"}].concat(e))}return _createClass(NeckCorset,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),NeckCorset}(),d=function(){_inherits(Collar,a["NeckAccessory"]);var n=_createSuper(Collar);function Collar(){_classCallCheck(this,Collar);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.3,neckBotCoverage:0,ringColor:"hsla(209, 33%, 70%, 1)",highlight:"hsla(209, 8%, 16%, 1)",thickness:.5}].concat(e))}return _createClass(Collar,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:p},{side:null,Part:i}]}}]),Collar}(),g=function(){_inherits(TaggedCollar,a["NeckAccessory"]);var n=_createSuper(TaggedCollar);function TaggedCollar(){_classCallCheck(this,TaggedCollar);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.27,neckBotCoverage:0,highlight:"white",thickness:.5}].concat(e))}return _createClass(TaggedCollar,[{key:"stroke",value:function stroke(){return"hsla(321.3,80.2%,50.4%,1.00)"}},{key:"fill",value:function fill(){return"hsla(321.3,80.2%,50.4%,1.00)"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:f},{side:null,Part:i}]}}]),TaggedCollar}(),P=function(){_inherits(CrossedChoker,a["NeckAccessory"]);var n=_createSuper(CrossedChoker);function CrossedChoker(){_classCallCheck(this,CrossedChoker);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{neckCoverage:.21,neckBotCoverage:.05,crossings:2,thickness:.5}].concat(e))}return _createClass(CrossedChoker,[{key:"stroke",value:function stroke(){return"#5c5c5c"}},{key:"fill",value:function fill(){return"#5c5c5c"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),CrossedChoker}()},function(t,e,r){"use strict";r.r(e),r.d(e,"BiChainPart",function(){return c}),r.d(e,"TearPart",function(){return s}),r.d(e,"DoubleNecklacePart",function(){return p}),r.d(e,"MultiNecklacePart",function(){return f}),r.d(e,"NecklaceChainPart",function(){return y}),r.d(e,"StarPart",function(){return h}),r.d(e,"TNecklacePart",function(){return d}),r.d(e,"Necklace",function(){return g}),r.d(e,"BiChain",function(){return n}),r.d(e,"DoubleNecklace",function(){return P}),r.d(e,"MultiNecklace",function(){return b}),r.d(e,"PearlNecklace",function(){return v}),r.d(e,"SimpleChain",function(){return _}),r.d(e,"StarNecklace",function(){return m}),r.d(e,"TNecklace",function(){return S}),r.d(e,"TearNecklace",function(){return C}),r.d(e,"ThickChain",function(){return O});var l=r(1),o=r(2),u=(r(4),r(0)),a=r(20),i=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function calcNeck(t){var e=Object(u.splitCurve)(this.neckCoverage,t.neck.cusp,t.collarbone),r=e.left.p2;r.y-=.5*this.thickness;var n=(e=Object(u.splitCurve)(this.cleavageCoverage,t.neck.cusp,t.groin)).left.p2;return n.x=0,r.cp1={x:.5*r.x+.5*n.x,y:n.y},--r.cp1.x,r.cp1.x+=this.curveX,r.cp1.y+=this.curveY,{top:r,bot:n}}var c=function(){_inherits(BiChainPart,l["ClothingPart"]);var n=_createSuper(BiChainPart);function BiChainPart(){_classCallCheck(this,BiChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{curveX:0,curveY:0,thickness:1}].concat(e))}return _createClass(BiChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;e.beginPath(),e.lineWidth=this.thickness,Object(u.drawPoints)(e,o,n),e.stroke(),e.beginPath(),this.chain&&e.setLineDash([this.beadsSize,this.spaceSize]),e.strokeStyle=this.highlight,e.lineWidth=this.beadThickness,Object(u.drawPoints)(e,o,n),e.stroke()}}]),BiChainPart}(),s=function(){_inherits(TearPart,l["ClothingPart"]);var n=_createSuper(TearPart);function TearPart(){_classCallCheck(this,TearPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{width:3.5,length:.5,size:1}].concat(e))}return _createClass(TearPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this),this.highlight&&(e.fillStyle=this.highlight);var r=calcNeck.call(this,t),n=(r.top,r.bot),o=Object(u.adjust)(n,0,-6*this.size);o.cp1=Object(u.adjust)(o,this.width*this.size,this.length*this.size),e.beginPath(),Object(u.drawPoints)(e,n,o),e.fill()}}]),TearPart}(),p=function(){_inherits(DoubleNecklacePart,l["ClothingPart"]);var n=_createSuper(DoubleNecklacePart);function DoubleNecklacePart(){_classCallCheck(this,DoubleNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{neckCoverage:.14,cleavageCoverage:.13,cleavageCoverageTop:.05,curveX:0,curveY:0,thickness:.5}].concat(e))}return _createClass(DoubleNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;this.chain&&e.setLineDash([3,3]),e.lineWidth=this.thickness,e.beginPath(),Object(u.drawPoints)(e,o,n),e.stroke(),this.cleavageCoverageTop>this.cleavageCoverage-.03&&(this.cleavageCoverageTop=this.cleavageCoverage-.03);var a=Object(u.splitCurve)(this.cleavageCoverageTop,t.neck.cusp,t.groin).left.p2;a.x=0,a.cp1={x:.5*a.x+.5*n.x,y:a.y},e.beginPath(),Object(u.drawPoints)(e,n,a),e.stroke()}}]),DoubleNecklacePart}(),f=function(){_inherits(MultiNecklacePart,l["ClothingPart"]);var n=_createSuper(MultiNecklacePart);function MultiNecklacePart(){_classCallCheck(this,MultiNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{cleavageCoverage:.13,neckCoverage:.05,curveX:0,curveY:0,thickness:.5,size:1.2,multiple:2,distance:5}].concat(e))}return _createClass(MultiNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;this.chain&&e.setLineDash([3,3]),e.lineWidth=this.thickness,e.beginPath(),Object(u.drawPoints)(e,o,n),e.stroke();for(var a=-this.distance,i=0;i<this.multiple;i++){var c=Object(u.adjust)(o,0,a),s=Object(u.adjust)(n,.02,0);s.cp1={x:.5*s.x+.5*c.x+this.curveX+4*i,y:c.y+this.curveY+i},e.beginPath(),Object(u.drawPoints)(e,c,s),e.stroke(),a-=this.distance}}}]),MultiNecklacePart}(),y=function(){_inherits(NecklaceChainPart,l["ClothingPart"]);var n=_createSuper(NecklaceChainPart);function NecklaceChainPart(){_classCallCheck(this,NecklaceChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{chain:!1,neckCoverage:.14,cleavageCoverage:.09,curveX:0,curveY:0,thickness:.5,dash:2}].concat(e))}return _createClass(NecklaceChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=r.top,o=r.bot;e.beginPath(),this.chain&&e.setLineDash([this.dash,this.dash]),e.lineWidth=this.thickness,Object(u.drawPoints)(e,o,n),e.stroke()}}]),NecklaceChainPart}(),h=function(){_inherits(StarPart,l["ClothingPart"]);var n=_createSuper(StarPart);function StarPart(){_classCallCheck(this,StarPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{starThickness:.6,radius:4,spikes:5,upwards:!0,styleOuter:1,styleInner:-1}].concat(e))}return _createClass(StarPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcNeck.call(this,t),n=(r.top,r.bot),o=Object(i.drawStar)({x:0,y:n.y-this.radius},this.spikes,this.radius,.33*this.radius,this.upwards,this.styleOuter,this.styleInner);e.beginPath(),e.lineWidth=this.starThickness,e.strokeStyle=e.fillStyle,u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(o))),e.stroke()}}]),StarPart}(),d=function(){_inherits(TNecklacePart,l["ClothingPart"]);var n=_createSuper(TNecklacePart);function TNecklacePart(){_classCallCheck(this,TNecklacePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+neck",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso"],belowSameLayerParts:["torso"]},{chain:!1,neckCoverage:.14,cleavageCoverage:.09,curveX:0,curveY:0,thickness:.5,size:1.2}].concat(e))}return _createClass(TNecklacePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,n){l.Clothes.simpleStrokeFill(n,t,this);var e=calcNeck.call(this,t),r=e.top,o=e.bot,a=Object(u.adjust)(o,0,-12);function ball(t,e){var r=Object(u.drawCircle)(t,e);n.beginPath(),u.drawPoints.apply(void 0,[n].concat(_toConsumableArray(r))),n.fill()}n.lineWidth=this.thickness,n.beginPath(),Object(u.drawPoints)(n,a,o,r),n.stroke(),ball(Object(u.getPointOnCurve)(.4,o,r),this.size),ball(Object(u.getPointOnCurve)(.8,o,r),this.size),ball(Object(i.findBetween)(o,a,.3),this.size),ball(Object(i.findBetween)(o,a,.7),this.size)}}]),TNecklacePart}(),g=function(){_inherits(Necklace,a["NeckAccessory"]);var n=_createSuper(Necklace);function Necklace(){_classCallCheck(this,Necklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:l.Clothes.Layer.OUTER,stroke:"#5c5c5c",fill:"#5c5c5c"}].concat(e))}return Necklace}(),n=function(){_inherits(BiChain,g);var n=_createSuper(BiChain);function BiChain(){_classCallCheck(this,BiChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.1,chain:!0,curveX:2,neckCoverage:.07,beadsSize:4,spaceSize:8,beadThickness:1,thickness:1,highlight:"red"}].concat(e))}return _createClass(BiChain,[{key:"stroke",value:function stroke(){return"blue"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),BiChain}(),P=function(){_inherits(DoubleNecklace,g);var n=_createSuper(DoubleNecklace);function DoubleNecklace(){_classCallCheck(this,DoubleNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,cleavageCoverageTop:.05,chain:!0,neckCoverage:.05,thickness:.7,highlight:""}].concat(e))}return _createClass(DoubleNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:p},{side:null,Part:s}]}}]),DoubleNecklace}(),b=function(){_inherits(MultiNecklace,g);var n=_createSuper(MultiNecklace);function MultiNecklace(){_classCallCheck(this,MultiNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,neckCoverage:.05,chain:!0,curveX:2,thickness:.7}].concat(e))}return _createClass(MultiNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:f}]}}]),MultiNecklace}(),v=function(){_inherits(PearlNecklace,g);var n=_createSuper(PearlNecklace);function PearlNecklace(){_classCallCheck(this,PearlNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.1,chain:!0,curveX:2,neckCoverage:.07,beadsSize:.3,beadThickness:2,spaceSize:8.8,thickness:.2,highlight:"white"}].concat(e))}return _createClass(PearlNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),PearlNecklace}(),_=function(){_inherits(SimpleChain,g);var n=_createSuper(SimpleChain);function SimpleChain(){_classCallCheck(this,SimpleChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.05,thickness:.6,dash:2.5}].concat(e))}return _createClass(SimpleChain,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),SimpleChain}(),m=function(){_inherits(StarNecklace,g);var n=_createSuper(StarNecklace);function StarNecklace(){_classCallCheck(this,StarNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{curveX:-1,cleavageCoverage:.13}].concat(e))}return _createClass(StarNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y},{side:null,Part:h}]}}]),StarNecklace}(),S=function(){_inherits(TNecklace,g);var n=_createSuper(TNecklace);function TNecklace(){_classCallCheck(this,TNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.05,thickness:.7}].concat(e))}return _createClass(TNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:d}]}}]),TNecklace}(),C=function(){_inherits(TearNecklace,g);var n=_createSuper(TearNecklace);function TearNecklace(){_classCallCheck(this,TearNecklace);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:0,neckCoverage:.05,thickness:.7}].concat(e))}return _createClass(TearNecklace,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y},{side:null,Part:s}]}}]),TearNecklace}(),O=function(){_inherits(ThickChain,g);var n=_createSuper(ThickChain);function ThickChain(){_classCallCheck(this,ThickChain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageCoverage:.13,chain:!0,curveX:2,neckCoverage:.1,thickness:1.5,dash:5}].concat(e))}return _createClass(ThickChain,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),ThickChain}()},function(t,e,r){"use strict";r.r(e),r.d(e,"TriangleEarringsPart",function(){return c}),r.d(e,"CrystalEarringsPart",function(){return s}),r.d(e,"LoopEarringsFrontPart",function(){return p}),r.d(e,"LoopEarringsBackPart",function(){return f}),r.d(e,"ChainEarringsPart",function(){return y}),r.d(e,"BallEarringsPart",function(){return h}),r.d(e,"RhombEarringsFrontPart",function(){return d}),r.d(e,"RhombEarringsBackPart",function(){return g}),r.d(e,"EarPiercingFrontPart",function(){return P}),r.d(e,"EarPiercingBackPart",function(){return b}),r.d(e,"Earrings",function(){return v}),r.d(e,"TriangleEarrings",function(){return n}),r.d(e,"CrystalEarrings",function(){return _}),r.d(e,"LoopEarrings",function(){return m}),r.d(e,"ChainEarrings",function(){return S}),r.d(e,"BallEarrings",function(){return C}),r.d(e,"RhombEarrings",function(){return O}),r.d(e,"EarPiercing",function(){return k});var l=r(1),o=r(2),u=(r(4),r(0)),a=r(13),i=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(TriangleEarringsPart,l["ClothingPart"]);var n=_createSuper(TriangleEarringsPart);function TriangleEarringsPart(){_classCallCheck(this,TriangleEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(TriangleEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=Object(u.adjust)(t.skull.bot,1.2,2.2),n=Object(u.adjust)(r,0,-this.hanger),o=Object(u.adjust)(n,this.width,-this.length),a=Object(u.adjust)(n,-this.width,-this.length);e.beginPath(),e.lineWidth=.5,Object(u.drawPoints)(e,r,{x:n.x,y:n.y-2}),e.stroke();var i=Object(u.drawCircle)(r,.3);e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(i))),e.stroke(),e.beginPath(),Object(u.drawPoints)(e,n,o,a),e.fill()}}]),TriangleEarringsPart}(),s=function(){_inherits(CrystalEarringsPart,l["ClothingPart"]);var n=_createSuper(CrystalEarringsPart);function CrystalEarringsPart(){_classCallCheck(this,CrystalEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(CrystalEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=Object(u.adjust)(t.skull.bot,1.2,2.2),n=Object(u.adjust)(r,0,-this.hanger),o=Object(u.adjust)(n,-this.width/2+.3,0),a=Object(u.adjust)(n,this.width/2,0),i=Object(u.adjust)(n,-this.width/2+.3,-this.length-this.alt),c=Object(u.adjust)(n,this.width/2,-this.length+this.alt);e.beginPath(),e.lineWidth=.5,Object(u.drawPoints)(e,r,n),e.stroke();var s=Object(u.drawCircle)(r,.3);e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(s))),e.stroke(),e.beginPath(),Object(u.drawPoints)(e,o,a,c,i),e.fill()}}]),CrystalEarringsPart}(),p=function(){_inherits(LoopEarringsFrontPart,l["ClothingPart"]);var n=_createSuper(LoopEarringsFrontPart);function LoopEarringsFrontPart(){_classCallCheck(this,LoopEarringsFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(LoopEarringsFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcLoop.call(this,t),n=r.a,o=r.b;e.beginPath(),Object(u.drawPoints)(e,o,n),e.stroke()}}]),LoopEarringsFrontPart}(),f=function(){_inherits(LoopEarringsBackPart,l["ClothingPart"]);var n=_createSuper(LoopEarringsBackPart);function LoopEarringsBackPart(){_classCallCheck(this,LoopEarringsBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(LoopEarringsBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcLoop.call(this,t),n=r.a,o=r.b;e.beginPath(),Object(u.drawPoints)(e,n,o),e.stroke()}}]),LoopEarringsBackPart}();function calcLoop(t){var e=Object(u.adjust)(t.skull.bot,1.2,3),r={x:e.x,y:e.y},n={x:e.x,y:e.y-this.length};return r.cp1={x:e.x-this.width,y:e.y-this.length/2},n.cp1={x:e.x+this.width,y:e.y-this.length/2},{a:r,b:n}}var y=function(){_inherits(ChainEarringsPart,l["ClothingPart"]);var n=_createSuper(ChainEarringsPart);function ChainEarringsPart(){_classCallCheck(this,ChainEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(ChainEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,a){l.Clothes.simpleStrokeFill(a,t,this);var i=Object(u.adjust)(t.skull.bot,1.2,2.2);function chain(t,e,r){var n=Object(u.adjust)(i,t,e),o=Object(u.adjust)(i,t,-r);a.setLineDash([2,2]),a.lineWidth=.4,a.beginPath(),Object(u.drawPoints)(a,n,o),a.stroke()}chain(0,0,this.length),chain(.8,0,this.length),chain(-.8,0,this.length);var e=Object(u.drawCircle)(i,1.2);a.beginPath(),u.drawPoints.apply(void 0,[a].concat(_toConsumableArray(e))),a.fillStyle=a.strokeStyle,a.fill()}}]),ChainEarringsPart}(),h=function(){_inherits(BallEarringsPart,l["ClothingPart"]);var n=_createSuper(BallEarringsPart);function BallEarringsPart(){_classCallCheck(this,BallEarringsPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(BallEarringsPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,o){l.Clothes.simpleStrokeFill(o,t,this);var e=Object(u.adjust)(t.skull.bot,1.2,2.2),r=Object(u.adjust)(e,0,-this.length/2),n=Object(u.adjust)(e,0,-this.length);function ball(t,e,r){var n=Object(u.drawCircle)(t,e);o.beginPath(),u.drawPoints.apply(void 0,[o].concat(_toConsumableArray(n))),o.fillStyle=r,o.fill()}o.beginPath(),o.lineWidth=this.thickness,Object(u.drawPoints)(o,e,n),o.stroke(),ball(e,this.size,o.fillStyle),ball(r,this.size-this.alt,o.fillStyle),ball(n,this.size+this.alt,o.fillStyle)}}]),BallEarringsPart}(),d=function(){_inherits(RhombEarringsFrontPart,l["ClothingPart"]);var n=_createSuper(RhombEarringsFrontPart);function RhombEarringsFrontPart(){_classCallCheck(this,RhombEarringsFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(RhombEarringsFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcRhomb.call(this,t),n=r.center,o=(r.inner,r.bottom),a=r.outer;e.beginPath(),e.lineWidth=this.thickness,Object(u.drawPoints)(e,n,a,o),e.stroke()}}]),RhombEarringsFrontPart}(),g=function(){_inherits(RhombEarringsBackPart,l["ClothingPart"]);var n=_createSuper(RhombEarringsBackPart);function RhombEarringsBackPart(){_classCallCheck(this,RhombEarringsBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+head",reflect:!0},{}].concat(e))}return _createClass(RhombEarringsBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcRhomb.call(this,t),n=r.center,o=r.inner,a=r.bottom;r.outer;e.beginPath(),e.lineWidth=this.thickness,Object(u.drawPoints)(e,n,o,a),e.stroke()}}]),RhombEarringsBackPart}();function calcRhomb(t){var e=Object(u.adjust)(t.skull.bot,1.2,2.2),r=Object(u.adjust)(e,0,-this.length),n=-this.length/2-this.length/2*this.alt;return{center:e,inner:Object(u.adjust)(e,-this.width/2,n),bottom:r,outer:Object(u.adjust)(e,this.width/2,n)}}var P=function(){_inherits(EarPiercingFrontPart,l["ClothingPart"]);var n=_createSuper(EarPiercingFrontPart);function EarPiercingFrontPart(){_classCallCheck(this,EarPiercingFrontPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+head",reflect:!1},{}].concat(e))}return _createClass(EarPiercingFrontPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcEarPiercing.call(this,t),n=r.a,o=r.b;e.beginPath(),Object(u.drawPoints)(e,o,n),e.stroke()}}]),EarPiercingFrontPart}(),b=function(){_inherits(EarPiercingBackPart,l["ClothingPart"]);var n=_createSuper(EarPiercingBackPart);function EarPiercingBackPart(){_classCallCheck(this,EarPiercingBackPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+head",reflect:!1},{}].concat(e))}return _createClass(EarPiercingBackPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=calcEarPiercing.call(this,t),n=r.a,o=r.b;e.beginPath(),Object(u.drawPoints)(e,n,o),e.stroke()}}]),EarPiercingBackPart}();function calcEarPiercing(t){var e=Object(u.adjust)(t.ear.mid,-.5+this.dx,3.5+this.dy),r={x:e.x,y:e.y},n=Object(i.polar2cartesian)(this.length,Object(u.rad)(this.rotation),r);return r.cp1=Object(i.perpendicularPoint)(r,n,.5,this.width),n.cp1=Object(i.perpendicularPoint)(r,n,.5,-this.width),{a:r,b:n}}var v=function(){_inherits(Earrings,a["Jewelry"]);var n=_createSuper(Earrings);function Earrings(){_classCallCheck(this,Earrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:l.Clothes.Layer.INNER,stroke:"#ebbc11",fill:"red"}].concat(e))}return Earrings}(),n=function(){_inherits(TriangleEarrings,v);var n=_createSuper(TriangleEarrings);function TriangleEarrings(){_classCallCheck(this,TriangleEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:7,width:2,hanger:2}].concat(e))}return _createClass(TriangleEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),TriangleEarrings}(),_=function(){_inherits(CrystalEarrings,v);var n=_createSuper(CrystalEarrings);function CrystalEarrings(){_classCallCheck(this,CrystalEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:2.6,hanger:3,alt:2}].concat(e))}return _createClass(CrystalEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s}]}}]),CrystalEarrings}(),m=function(){_inherits(LoopEarrings,v);var n=_createSuper(LoopEarrings);function LoopEarrings(){_classCallCheck(this,LoopEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:3}].concat(e))}return _createClass(LoopEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:p},{side:null,Part:f}]}}]),LoopEarrings}(),S=function(){_inherits(ChainEarrings,v);var n=_createSuper(ChainEarrings);function ChainEarrings(){_classCallCheck(this,ChainEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9}].concat(e))}return _createClass(ChainEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),ChainEarrings}(),C=function(){_inherits(BallEarrings,v);var n=_createSuper(BallEarrings);function BallEarrings(){_classCallCheck(this,BallEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:10,size:1,alt:-.2,thickness:.5}].concat(e))}return _createClass(BallEarrings,[{key:"partPrototypes",get:function get(){return[{side:null,Part:h}]}}]),BallEarrings}(),O=function(){_inherits(RhombEarrings,v);var n=_createSuper(RhombEarrings);function RhombEarrings(){_classCallCheck(this,RhombEarrings);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:9,width:2.6,alt:.8,thickness:.8}].concat(e))}return _createClass(RhombEarrings,[{key:"stroke",value:function stroke(){return"#13a700"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:d},{side:null,Part:g}]}}]),RhombEarrings}(),k=function(){_inherits(EarPiercing,v);var n=_createSuper(EarPiercing);function EarPiercing(){_classCallCheck(this,EarPiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{length:2.8,width:2.2,thickness:.6,rotation:46,dx:0,dy:0}].concat(e))}return _createClass(EarPiercing,[{key:"partPrototypes",get:function get(){return[{side:null,Part:P},{side:null,Part:b}]}}]),EarPiercing}()},function(t,e,r){"use strict";r.r(e),r.d(e,"Bodychain1Part",function(){return i}),r.d(e,"Bodychain2Part",function(){return c}),r.d(e,"Bodychain3Part",function(){return s}),r.d(e,"Bodychain",function(){return l}),r.d(e,"Bodychain1",function(){return n}),r.d(e,"Bodychain2",function(){return u}),r.d(e,"Bodychain3",function(){return p});var f=r(1),o=r(2),y=(r(4),r(0)),a=r(13),h=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(Bodychain1Part,f["ClothingPart"]);var n=_createSuper(Bodychain1Part);function Bodychain1Part(){_classCallCheck(this,Bodychain1Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!0},{cleavageCoverage:.2,cleavageCoverageBot:.6}].concat(e))}return _createClass(Bodychain1Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r,n={x:0,y:(r=Object(y.splitCurve)(this.cleavageCoverage,t.neck.cusp,t.groin)).left.p2.y},o=Object(y.drawCircle)(n,3);e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(o))),e.stroke();var a={x:0,y:(r=Object(y.splitCurve)(this.cleavageCoverageBot,t.neck.cusp,t.groin)).left.p2.y};o=Object(y.drawCircle)(a,3),e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(o))),e.stroke(),e.setLineDash([3,3]);var i=(r=Object(y.splitCurve)(.1,t.neck.cusp,t.collarbone)).left.p2,c=Object(h.polar2cartesian)(3,Object(y.rad)(50),n);e.beginPath(),Object(y.drawPoints)(e,i,c),e.stroke(),e.beginPath(),Object(y.drawPoints)(e,{x:0,y:n.y-3},{x:0,y:a.y+3}),e.stroke();var s=Object(h.polar2cartesian)(3,Object(y.rad)(0),a);r=Object(y.splitCurve)(.2,t.waist,t.hip);var l=Object(y.extractPoint)(r.left.p2);l.cp1={x:t.chest.nipples.x,y:l.y};var u=Object(h.polar2cartesian)(3,Object(y.rad)(-45),a);r=Object(y.splitCurve)(.8,t.waist,t.hip);var p=Object(y.extractPoint)(r.left.p2);p.cp1={x:t.chest.nipples.x,y:p.y},e.beginPath(),Object(y.drawPoints)(e,s,l,y.breakPoint,u,p),e.stroke()}}]),Bodychain1Part}(),c=function(){_inherits(Bodychain2Part,f["ClothingPart"]);var n=_createSuper(Bodychain2Part);function Bodychain2Part(){_classCallCheck(this,Bodychain2Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!0},{}].concat(e))}return _createClass(Bodychain2Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r={x:0,y:t.armpit.y+9},n=Object(y.drawCircle)(r,3);e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n))),e.stroke();var o={x:0,y:t.waist.y+12};e.setLineDash([3,3]);var a=Object(y.splitCurve)(.1,t.neck.cusp,t.collarbone).left.p2,i=Object(h.polar2cartesian)(3,Object(y.rad)(50),r);e.beginPath(),Object(y.drawPoints)(e,a,i),e.stroke();var c=Object(y.extractPoint)(t.hip);c.cp1={x:t.armpit.x-4,y:c.y},e.beginPath(),Object(y.drawPoints)(e,{x:0,y:r.y-3},o,c),e.stroke();var s=Object(y.splitCurve)(.1,o,c).left.p2,l={x:0,y:s.y-4};l.cp1={x:.5*l.x+.5*s.x,y:l.y},e.beginPath(),Object(y.drawPoints)(e,s,l),e.stroke();var u=Object(y.splitCurve)(.2,o,c).left.p2,p={x:0,y:u.y-4};Object(h.copyCurve)(s,l,u,p),e.beginPath(),Object(y.drawPoints)(e,u,p),e.stroke()}}]),Bodychain2Part}(),s=function(){_inherits(Bodychain3Part,f["ClothingPart"]);var n=_createSuper(Bodychain3Part);function Bodychain3Part(){_classCallCheck(this,Bodychain3Part);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!0},{}].concat(e))}return _createClass(Bodychain3Part,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r,n={x:0,y:t.armpit.y+10},o={x:0,y:t.waist.y+8},a=(r=Object(y.splitCurve)(.3,t.neck.cusp,t.collarbone)).left.p2;r=Object(y.splitCurve)(.2,t.waist,t.hip);var i=Object(y.extractPoint)(r.left.p2);i.cp1={x:t.chest.nipples.x,y:i.y};var c=Object(y.adjust)(o,0,-6);r=Object(y.splitCurve)(.4,t.waist,t.hip);var s=Object(y.extractPoint)(r.left.p2);Object(h.copyCurve)(o,i,c,s),e.setLineDash([3,3]),e.beginPath(),Object(y.drawPoints)(e,a,n,o,i,y.breakPoint,o,c,s),e.stroke()}}]),Bodychain3Part}(),l=function(){_inherits(Bodychain,a["Jewelry"]);var n=_createSuper(Bodychain);function Bodychain(){_classCallCheck(this,Bodychain);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:f.Clothes.Layer.BASE,stroke:"#9c8530",fill:"red",thickness:.7}].concat(e))}return Bodychain}(),n=function(){_inherits(Bodychain1,l);var n=_createSuper(Bodychain1);function Bodychain1(){_classCallCheck(this,Bodychain1);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(Bodychain1,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i}]}}]),Bodychain1}(),u=function(){_inherits(Bodychain2,l);var n=_createSuper(Bodychain2);function Bodychain2(){_classCallCheck(this,Bodychain2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(Bodychain2,[{key:"partPrototypes",get:function get(){return[{side:null,Part:c}]}}]),Bodychain2}(),p=function(){_inherits(Bodychain3,l);var n=_createSuper(Bodychain3);function Bodychain3(){_classCallCheck(this,Bodychain3);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(Bodychain3,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s}]}}]),Bodychain3}()},function(t,e,r){"use strict";r.r(e),r.d(e,"SimpleArmletPart",function(){return u}),r.d(e,"CrossedArmletPart",function(){return p}),r.d(e,"SpiralArmletPart",function(){return f}),r.d(e,"Armlet",function(){return y}),r.d(e,"SpiralArmlet",function(){return n}),r.d(e,"SimpleArmlet",function(){return h}),r.d(e,"CrossedArmlet",function(){return d});var i=r(1),o=r(2),a=r(4),c=r(0),s=r(13),l=r(5);function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function calcArmSquare(t){this.armCoverage-this.armCoverageTop<.03&&(this.armCoverageTop=this.armCoverage-.03);var e={y:Object(l.findBetween)(t.collarbone.y,t.hand.palm.y,this.armCoverageTop)},r=Object(l.getLimbPointsBellowPoint)(e,!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip),n=Object(l.getLimbPointsBellowPoint)(Object(c.adjust)(r[r.length-1],0,2),!1,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle),e={y:Object(l.findBetween)(t.collarbone.y,t.hand.palm.y,this.armCoverage)};return r.reverse(),r=l.getLimbPointsAbovePoint.apply(void 0,[e,!0].concat(_toConsumableArray(r))),(n=l.getLimbPointsAbovePoint.apply(void 0,[{y:e.y+2},!1].concat(_toConsumableArray(n))))[0]=Object(c.extractPoint)(n[0]),n[0].cp1={x:.5*(n[0].x+r[r.length-1].x),y:n[0].y-4+8*this.armCoverageTop},n[n.length-1]=Object(c.extractPoint)(n[n.length-1]),r[0]=Object(c.extractPoint)(r[0]),r[0].cp1={x:.5*(n[n.length-1].x+r[0].x),y:r[0].y-4+8*this.armCoverage},{inner:r,outer:n}}var u=function(){_inherits(SimpleArmletPart,i["ClothingPart"]);var n=_createSuper(SimpleArmletPart);function SimpleArmletPart(){_classCallCheck(this,SimpleArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverageTop:.8,armCoverage:.9,thickness:1}].concat(e))}return _createClass(SimpleArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){i.Clothes.simpleStrokeFill(e,t,this),e.lineWidth=this.thickness;var r=calcArmSquare.call(this,t),n=r.inner,o=r.outer;e.beginPath(),c.drawPoints.apply(void 0,[e].concat(_toConsumableArray(o),_toConsumableArray(n),[o[0]])),e.fill(),e.stroke()}}]),SimpleArmletPart}(),p=function(){_inherits(CrossedArmletPart,i["ClothingPart"]);var n=_createSuper(CrossedArmletPart);function CrossedArmletPart(){_classCallCheck(this,CrossedArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverageTop:.3,armCoverage:.3,crossings:3,thickness:.8,doubled:!0,fullArmlet:!1}].concat(e))}return _createClass(CrossedArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){i.Clothes.simpleStrokeFill(e,t,this),e.lineWidth=this.thickness;var r=calcArmSquare.call(this,t),n=r.inner,o=r.outer;this.fullArmlet&&(e.beginPath(),c.drawPoints.apply(void 0,[e].concat(_toConsumableArray(o),_toConsumableArray(n),[o[0]])),e.fill(),e.stroke()),o[o.length-1].cp1=n[0].cp1;var a=Object(l.getLacingPoints)(n[n.length-1],o[0],n[0],o[o.length-1],this.crossings);e.beginPath(),this.doubled?c.drawPoints.apply(void 0,[e].concat(_toConsumableArray(a.outer),[c.breakPoint],_toConsumableArray(a.inner))):c.drawPoints.apply(void 0,[e].concat(_toConsumableArray(a.outer))),e.stroke()}}]),CrossedArmletPart}(),f=function(){_inherits(SpiralArmletPart,i["ClothingPart"]);var n=_createSuper(SpiralArmletPart);function SpiralArmletPart(){_classCallCheck(this,SpiralArmletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ARMS,loc:"+arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.3,coils:3,distance:5}].concat(e))}return _createClass(SpiralArmletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(a,t){i.Clothes.simpleStrokeFill(t,a,this),t.lineWidth=this.thickness;for(var e=0,r={x:0,y:Object(l.findBetween)(a.collarbone.y,a.hand.palm.y,this.armCoverage)},n=1;n<=this.coils;n++)!function coil(t,e){var r=function calcArm(t,e){void 0!==e&&"object"!==_typeof(e)&&(e={x:0,y:e});var r=Object(l.getLimbPointsBellowPoint)(e,!0,t.armpit,t.elbow.in,t.wrist.in,t.thumb.out,t.thumb.tip),n=Object(c.extractPoint)(r[r.length-1]),r=Object(l.getLimbPointsBellowPoint)(Object(c.adjust)(n,0,2),!1,t.collarbone,t.deltoids,t.shoulder,t.elbow.out,t.wrist.out,t.hand.knuckle),o=Object(c.extractPoint)(r[0]);return o.cp1={x:.5*o.x+.5*n.x,y:o.y-3},{inner:n,outer:o}}.call(this,a,t),n=r.inner,o=r.outer;e.beginPath(),Object(c.drawPoints)(e,n,o),e.stroke()}(Object(c.adjust)(r,0,e),t),e-=this.distance}}]),SpiralArmletPart}(),y=function(){_inherits(Armlet,s["Jewelry"]);var n=_createSuper(Armlet);function Armlet(){_classCallCheck(this,Armlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:i.Clothes.Layer.BASE,stroke:"#9c8530",fill:"red"}].concat(e))}return Armlet}(),n=function(){_inherits(SpiralArmlet,y);var n=_createSuper(SpiralArmlet);function SpiralArmlet(){_classCallCheck(this,SpiralArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(SpiralArmlet,[{key:"partPrototypes",get:function get(){return[{side:a.Part.RIGHT,Part:f}]}}]),SpiralArmlet}(),h=function(){_inherits(SimpleArmlet,y);var n=_createSuper(SimpleArmlet);function SimpleArmlet(){_classCallCheck(this,SimpleArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(SimpleArmlet,[{key:"partPrototypes",get:function get(){return[{side:a.Part.RIGHT,Part:u}]}}]),SimpleArmlet}(),d=function(){_inherits(CrossedArmlet,y);var n=_createSuper(CrossedArmlet);function CrossedArmlet(){_classCallCheck(this,CrossedArmlet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(CrossedArmlet,[{key:"partPrototypes",get:function get(){return[{side:a.Part.RIGHT,Part:p}]}}]),CrossedArmlet}()},function(t,e,r){"use strict";r.r(e),r.d(e,"RestraintChainPart",function(){return c}),r.d(e,"BondageRopePart",function(){return s}),r.d(e,"ChestBondagePart",function(){return l}),r.d(e,"WaistBondagePart",function(){return f}),r.d(e,"ChestPentagramBondagePart",function(){return y}),r.d(e,"WristRestraintChainPart",function(){return h}),r.d(e,"AnkleRestraintChainPart",function(){return d}),r.d(e,"Restraints",function(){return g}),r.d(e,"Bondage",function(){return P}),r.d(e,"WristRestraints",function(){return b}),r.d(e,"AnkleRestraints",function(){return v}),r.d(e,"ChestBondage",function(){return _}),r.d(e,"ChestPentagramBondage",function(){return m}),r.d(e,"WaistBondage",function(){return S});var o=r(1),a=r(2),u=r(0),n=r(28),i=r(3),p=r(4);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(){_inherits(RestraintChainPart,o["ClothingPart"]);var n=_createSuper(RestraintChainPart);function RestraintChainPart(){_classCallCheck(this,RestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chainWidth:2,chainStroke:"#6d6d6d",chainDash:[3,7]}].concat(e))}return RestraintChainPart}(),s=function(){_inherits(BondageRopePart,c);var n=_createSuper(BondageRopePart);function BondageRopePart(){_classCallCheck(this,BondageRopePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{chainWidth:2.5,chainStroke:"#d92f43",chainDash:[1,6]}].concat(e))}return BondageRopePart}(),l=function(){_inherits(ChestBondagePart,s);var n=_createSuper(ChestBondagePart);function ChestBondagePart(){_classCallCheck(this,ChestBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+".concat(p.Location.CHEST),aboveParts:["parts ".concat(p.Location.CHEST),"decorativeParts ".concat(p.Location.CHEST)],reflect:!0,aboveSameLayerParts:["chest"]}].concat(e))}return _createClass(ChestBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTopBondage.call(this,t),n=r.top,o=r.center,a=r.bot,i=r.sideTop,c=r.sideBot;e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(u.drawPoints)(e,n,o,a,u.breakPoint,o,i,u.breakPoint,a,c),e.stroke()}}]),ChestBondagePart}(),f=function(){_inherits(WaistBondagePart,s);var n=_createSuper(WaistBondagePart);function WaistBondagePart(){_classCallCheck(this,WaistBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+".concat(p.Location.TORSO),aboveParts:["parts ".concat(p.Location.TORSO),"decorativeParts ".concat(p.Location.TORSO)],reflect:!0,belowSameLayerParts:["torso","groin"]}].concat(e))}return _createClass(WaistBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcTopBondage.call(this,t).bot,n={x:4,y:t.waist.y-2};n.cp1=Object(u.simpleQuadratic)(r,n,.5,.1*-Object(p.dist)(r,n));var o=Object(u.extractPoint)(t.waist);o.cp1=Object(u.simpleQuadratic)(n,o,.5,-1);var a={x:0,y:t.pelvis.y+10};a.cp1=Object(u.simpleQuadratic)(n,a,.5,.1*-Object(p.dist)(n,a));var i=Object(u.adjust)(Object(u.extractPoint)(t.groin),0,2);e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(u.drawPoints)(e,r,n,a,u.breakPoint,n,o,u.breakPoint,a,i),e.stroke()}}]),WaistBondagePart}(),y=function(){_inherits(ChestPentagramBondagePart,s);var n=_createSuper(ChestPentagramBondagePart);function ChestPentagramBondagePart(){_classCallCheck(this,ChestPentagramBondagePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+".concat(p.Location.CHEST),aboveParts:["parts ".concat(p.Location.CHEST),"decorativeParts ".concat(p.Location.CHEST)],reflect:!0,aboveSameLayerParts:["chest"]}].concat(e))}return _createClass(ChestPentagramBondagePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=function calcTopPentagramBondage(t){var e=Object(u.splitCurve)(.3,t.neck.cusp,t.collarbone),r=Object(u.adjust)(e.right.p1,0,-1.5),n={x:0,y:.7*t.armpit.y+.3*t.neck.cusp.y};n.cp1=Object(u.simpleQuadratic)(r,n,.5,.15*Object(p.dist)(r,n));var o={x:0,y:t.armpit.y-11},a=Object(u.extractPoint)(t.armpit);t.breast&&(a=Object(u.adjust)(Object(u.extractPoint)(t.breast.top),1.5,.5));a.cp1=Object(u.simpleQuadratic)(n,a,.5,.3);var i={x:null,y:o.y+1},c=_slicedToArray(Object(u.interpolateCurve)(t.armpit,t.waist,i),1)[0];c.x-=.5,c.cp1=Object(u.simpleQuadratic)(o,c,.5,-1);var s=Object(u.adjust)(o,0,6.66),l=Object(u.adjust)(Object(u.extractPoint)(n),0,8);return{top:r,center:n,bot:o,sideTop:a,sideBot:c,upperCenter:l,upperBot:s}}.call(this,t),n=r.top,o=r.center,a=r.bot,i=r.sideTop,c=r.sideBot,s=r.upperCenter,l=r.upperBot;e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(u.drawPoints)(e,n,l,a,u.breakPoint,o,i,u.breakPoint,a,c,u.breakPoint,i,s,u.breakPoint,n,s),e.stroke()}}]),ChestPentagramBondagePart}();function calcTopBondage(t){var e=Object(u.splitCurve)(.4,t.neck.cusp,t.collarbone),r=Object(u.adjust)(e.right.p1,0,-1.5),n={x:0,y:.7*t.armpit.y+.3*t.neck.cusp.y};n.cp1=Object(u.simpleQuadratic)(r,n,.5,.15*Object(p.dist)(r,n));var o={x:0,y:t.armpit.y-10},a=Object(u.extractPoint)(t.armpit);t.breast&&(a=Object(u.adjust)(Object(u.extractPoint)(t.breast.top),1.5,.5)),a.cp1=Object(u.simpleQuadratic)(n,a,.5,2);var i={x:null,y:o.y+1},c=_slicedToArray(Object(u.interpolateCurve)(t.armpit,t.waist,i),1)[0];return c.x-=.5,c.cp1=Object(u.simpleQuadratic)(o,c,.5,-1),{top:r,center:n,bot:o,sideTop:a,sideBot:c}}var h=function(){_inherits(WristRestraintChainPart,c);var n=_createSuper(WristRestraintChainPart);function WristRestraintChainPart(){_classCallCheck(this,WristRestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"+".concat(p.Location.ARM),aboveParts:["parts ".concat(p.Location.ARM),"decorativeParts ".concat(p.Location.ARM),"parts ".concat(p.Location.HAND)]}].concat(e))}return _createClass(WristRestraintChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(u.splitCurve)(.15,t.wrist.in,t.elbow.in),n=Object(u.adjust)(Object(u.extractPoint)(r.right.p1),1,0),o={x:-n.x,y:n.y};o.cp1=Object(u.simpleQuadratic)(n,o,.5,5),e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(u.drawPoints)(e,n,o),e.stroke()}}]),WristRestraintChainPart}(),d=function(){_inherits(AnkleRestraintChainPart,c);var n=_createSuper(AnkleRestraintChainPart);function AnkleRestraintChainPart(){_classCallCheck(this,AnkleRestraintChainPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"+".concat(p.Location.LEG),aboveParts:["parts ".concat(p.Location.LEG),"decorativeParts ".concat(p.Location.LEG)]}].concat(e))}return _createClass(AnkleRestraintChainPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(u.splitCurve)(this.startAlongLeg+.5*this.legCoverage,t.ankle.in,t.calf.in),n=Object(u.adjust)(Object(u.extractPoint)(r.right.p1),1,0),o={x:-n.x,y:n.y};e.lineWidth=this.chainWidth,e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(u.drawPoints)(e,n,Object(p.connectEndPoints)(n,o)),e.stroke()}}]),AnkleRestraintChainPart}(),g=function(){_inherits(Restraints,o["Clothing"]);var n=_createSuper(Restraints);function Restraints(){_classCallCheck(this,Restraints);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:o.Clothes.Layer.OUTER}].concat(e))}return Restraints}(),P=function(){_inherits(Bondage,o["Clothing"]);var n=_createSuper(Bondage);function Bondage(){_classCallCheck(this,Bondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:o.Clothes.Layer.BASE}].concat(e))}return Bondage}(),b=function(){_inherits(WristRestraints,g);var o=_createSuper(WristRestraints);function WristRestraints(){var t;_classCallCheck(this,WristRestraints);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{armCoverage:.75}].concat(r))).Mods=Object.assign({armRotation:-35,handRotation:12},t.Mods),t}return _createClass(WristRestraints,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:i.Part.LEFT,Part:n.BraceletPart},{side:i.Part.RIGHT,Part:n.BraceletPart},{side:i.Part.RIGHT,Part:h}]}}]),WristRestraints}(),v=function(){_inherits(AnkleRestraints,g);var n=_createSuper(AnkleRestraints);function AnkleRestraints(){_classCallCheck(this,AnkleRestraints);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{startAlongLeg:.25,legCoverage:.4}].concat(e))}return _createClass(AnkleRestraints,[{key:"fill",value:function fill(){return"#1e1e1e"}},{key:"partPrototypes",get:function get(){return[{side:i.Part.LEFT,Part:p.BandedAnkletPart},{side:i.Part.RIGHT,Part:p.BandedAnkletPart},{side:i.Part.RIGHT,Part:d}]}}]),AnkleRestraints}(),_=function(){_inherits(ChestBondage,P);var n=_createSuper(ChestBondage);function ChestBondage(){_classCallCheck(this,ChestBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(ChestBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:l}]}}]),ChestBondage}(),m=function(){_inherits(ChestPentagramBondage,P);var n=_createSuper(ChestPentagramBondage);function ChestPentagramBondage(){_classCallCheck(this,ChestPentagramBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(ChestPentagramBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),ChestPentagramBondage}(),S=function(){_inherits(WaistBondage,P);var n=_createSuper(WaistBondage);function WaistBondage(){_classCallCheck(this,WaistBondage);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(WaistBondage,[{key:"partPrototypes",get:function get(){return[{side:null,Part:f}]}}]),WaistBondage}()},function(t,e,r){"use strict";r.r(e),r.d(e,"AnkletPart",function(){return a}),r.d(e,"ChainAnkletPart",function(){return i}),r.d(e,"BandedAnkletPart",function(){return u}),r.d(e,"Anklet",function(){return p}),r.d(e,"ChainAnklet",function(){return n}),r.d(e,"BandedAnklet",function(){return f});var c=r(1),o=r(2),s=r(0),l=(r(3),r(4));function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(AnkletPart,c["ClothingPart"]);var n=_createSuper(AnkletPart);function AnkletPart(){_classCallCheck(this,AnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+".concat(l.Location.LEG),startAlongLeg:0,aboveParts:["parts ".concat(l.Location.LEG)]}].concat(e))}return AnkletPart}(),i=function(){_inherits(ChainAnkletPart,a);var n=_createSuper(ChainAnkletPart);function ChainAnkletPart(){_classCallCheck(this,ChainAnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{startAlongLeg:.28,chainWidth:2,chainDash:[3,7]}].concat(e))}return _createClass(ChainAnkletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(s.splitCurve)(this.startAlongLeg,t.ankle.in,t.calf.in).right.p1,n={x:null,y:r.y},o=_slicedToArray(Object(s.interpolateCurve)(t.calf.out,t.ankle.out,n),1)[0];c.Clothes.simpleStrokeFill(e,t,this),e.strokeStyle=this.chainStroke,e.setLineDash(this.chainDash),e.beginPath(),Object(s.drawPoints)(e,r,Object(l.connectEndPoints)(r,o,-.25)),e.stroke()}}]),ChainAnkletPart}(),u=function(){_inherits(BandedAnkletPart,a);var n=_createSuper(BandedAnkletPart);function BandedAnkletPart(){_classCallCheck(this,BandedAnkletPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.6}].concat(e))}return _createClass(BandedAnkletPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=Object(s.splitCurve)(.05+this.startAlongLeg,t.ankle.in,t.calf.in),n=r.right.p1,o=(r=Object(s.splitCurve)(this.legCoverage,n,r.right.p2)).left.p2,a=(r=Object(s.splitCurve)(1-.9*this.startAlongLeg,t.calf.out,t.ankle.out)).left.p2,i=(r=Object(s.splitCurve)(1-.9*this.legCoverage,t.calf.out,a)).right.p1;a.cp1=r.right.p2.cp1,a.cp2=r.right.p2.cp2,c.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(s.drawPoints)(e,n,o,Object(l.connectEndPoints)(o,i,-.25),a,Object(l.connectEndPoints)(a,n)),e.fill()}}]),BandedAnkletPart}(),p=function(){_inherits(Anklet,c["Clothing"]);var n=_createSuper(Anklet);function Anklet(){_classCallCheck(this,Anklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:c.Clothes.Layer.INNER}].concat(e))}return Anklet}(),n=function(){_inherits(ChainAnklet,p);var n=_createSuper(ChainAnklet);function ChainAnklet(){_classCallCheck(this,ChainAnklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(ChainAnklet,[{key:"stroke",value:function stroke(){return"gold"}},{key:"fill",value:function fill(){return"gold"}},{key:"partPrototypes",get:function get(){return[{side:this.side,Part:i}]}}]),ChainAnklet}(),f=function(){_inherits(BandedAnklet,p);var n=_createSuper(BandedAnklet);function BandedAnklet(){_classCallCheck(this,BandedAnklet);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this].concat(e))}return _createClass(BandedAnklet,[{key:"fill",value:function fill(){return"gold"}},{key:"partPrototypes",get:function get(){return[{side:this.side,Part:u}]}}]),BandedAnklet}()},function(t,e,r){"use strict";r.r(e),r.d(e,"LipstickPart",function(){return u}),r.d(e,"Lipstick",function(){return n});var o=r(1),a=r(2),i=r(0),c=r(4),s=r(3),l=r(48);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(){_inherits(LipstickPart,o["ClothingPart"]);var n=_createSuper(LipstickPart);function LipstickPart(){_classCallCheck(this,LipstickPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.BELOW_HAIR,loc:"".concat(c.Location.LIPS),reflect:!1,aboveParts:["faceParts lips"]},{fill:"#b91100"}].concat(e))}return _createClass(LipstickPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){o.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(i.drawPoints)(e,t.lips.top,t.lips.tip,t.lips.out,t.lips.bot,t.lips.bot.top,t.lips.out.in,t.lips.top.bot,t.lips.top),e.fill()}}]),LipstickPart}(),n=function(){_inherits(Lipstick,l["Makeup"]);var n=_createSuper(Lipstick);function Lipstick(){_classCallCheck(this,Lipstick);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(Lipstick,[{key:"partPrototypes",get:function get(){return[{side:s.Part.LEFT,Part:u},{side:s.Part.RIGHT,Part:u}]}}]),Lipstick}()},function(t,e,r){"use strict";r.r(e),r.d(e,"BellyPiercingSimplePart",function(){return s}),r.d(e,"BellyPiercingAdvancedPart",function(){return p}),r.d(e,"NipplePiercingPart",function(){return f}),r.d(e,"StudPart2",function(){return y}),r.d(e,"BridgePart",function(){return h}),r.d(e,"NipplePiercing",function(){return n}),r.d(e,"BellyPiercingSimple",function(){return d}),r.d(e,"BellyPiercingAdvanced",function(){return g}),r.d(e,"StudPiercing2",function(){return P}),r.d(e,"Bridge",function(){return b});var l=r(1),o=r(2),a=r(4),u=r(0),i=r(13),c=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(){_inherits(BellyPiercingSimplePart,l["ClothingPart"]);var n=_createSuper(BellyPiercingSimplePart);function BellyPiercingSimplePart(){_classCallCheck(this,BellyPiercingSimplePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!1,aboveParts:["parts torso","decorativeParts torso"]},{radius:1.3}].concat(e))}return _createClass(BellyPiercingSimplePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,n){l.Clothes.simpleStrokeFill(n,t,this);var e=t.bellybutton.bot,o=this.fill;!function circle(t,e){n.fillStyle=o;var r=Object(u.drawCircle)(t,e);n.beginPath(),u.drawPoints.apply(void 0,[n].concat(_toConsumableArray(r))),n.fill(),r=Object(u.drawCircle)(Object(u.adjust)(t,.3*e,.3*e),.3*e),n.fillStyle="white",n.beginPath(),u.drawPoints.apply(void 0,[n].concat(_toConsumableArray(r))),n.fill()}(e,this.radius)}}]),BellyPiercingSimplePart}(),p=function(){_inherits(BellyPiercingAdvancedPart,l["ClothingPart"]);var n=_createSuper(BellyPiercingAdvancedPart);function BellyPiercingAdvancedPart(){_classCallCheck(this,BellyPiercingAdvancedPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+torso",reflect:!1,aboveParts:["parts torso","decorativeParts torso"]},{thickness:.5,radius:1.3,secondaryRadius:1,distance:1,above:!0,above2:!0,bellow:!1,bellow2:!1,chain:!0,belt:!1,link:!1}].concat(e))}return _createClass(BellyPiercingAdvancedPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,i){l.Clothes.simpleStrokeFill(i,t,this);var e,r,n,o,a,c=t.bellybutton.bot,s=this.fill;function circle(t,e){i.fillStyle=s;var r=Object(u.drawCircle)(t,e);i.beginPath(),u.drawPoints.apply(void 0,[i].concat(_toConsumableArray(r))),i.fill(),r=Object(u.drawCircle)(Object(u.adjust)(t,.3*e,.3*e),.3*e),i.fillStyle="white",i.beginPath(),u.drawPoints.apply(void 0,[i].concat(_toConsumableArray(r))),i.fill()}function chain(t,e,r,n){t=Object(u.extractPoint)(t),i.setLineDash([2,2]),i.lineWidth=n;var o=Object(u.adjust)(t,e,0),a=Object(u.adjust)(t,e,r);i.beginPath(),Object(u.drawPoints)(i,o,a),i.stroke()}this.belt&&(e={x:t.bellybutton.bot.x,y:t.bellybutton.bot.y},r=Object(u.splitCurve)(.7,t.waist,t.hip),(n=Object(u.extractPoint)(r.left.p2)).cp1={x:.4*(n.x+e.x),y:t.hip.y},(o=Object(u.reflect)(n)).cp1=Object(u.reflect)(n.cp1),i.setLineDash([2,2]),i.lineWidth=.6,i.beginPath(),Object(u.drawPoints)(i,e,n,u.breakPoint,e,o),i.stroke()),this.chain&&(chain(c,.6,-7,this.thickness),chain(c,-.6,-9,this.thickness)),this.link&&(a=Object(u.extractPoint)(Object(u.adjust)(c,0,-6*this.distance)),i.lineWidth=.6,i.setLineDash([2,2]),i.beginPath(),Object(u.drawPoints)(i,c,a),i.stroke()),this.above&&circle(Object(u.adjust)(c,0,3.5*this.distance),.7*this.secondaryRadius),this.above2&&circle(Object(u.adjust)(c,0,6*this.distance),.5*this.secondaryRadius),this.bellow&&circle(Object(u.adjust)(c,0,-3.5*this.distance),.7*this.secondaryRadius),this.bellow2&&circle(Object(u.adjust)(c,0,-6*this.distance),.5*this.secondaryRadius),circle(c,this.radius)}}]),BellyPiercingAdvancedPart}(),f=function(){_inherits(NipplePiercingPart,l["ClothingPart"]);var n=_createSuper(NipplePiercingPart);function NipplePiercingPart(){_classCallCheck(this,NipplePiercingPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+torso",reflect:!1,aboveParts:["parts chest"]},{bar:!0,ring:!0,radius:.6,ringRadius:1.4,thickness:.3}].concat(e))}return _createClass(NipplePiercingPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r,n=Object(u.extractPoint)(t.chest.nipples);this.bar&&(circle(e,Object(u.adjust)(n,2,0),this.radius,this.fill),circle(e,Object(u.adjust)(n,-2,0),this.radius,this.fill)),this.ring&&(r=Object(u.drawCircle)(Object(u.adjust)(n,0,-this.ringRadius),this.ringRadius),e.lineWidth=this.thickness,e.beginPath(),u.drawPoints.apply(void 0,[e].concat(_toConsumableArray(r))),e.stroke())}}]),NipplePiercingPart}(),y=function(){_inherits(StudPart2,l["ClothingPart"]);var n=_createSuper(StudPart2);function StudPart2(){_classCallCheck(this,StudPart2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"".concat(a.Location.NOSE),reflect:!1,aboveParts:["faceParts ".concat(a.Location.NOSE)]},{radius:.51}].concat(e))}return _createClass(StudPart2,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this),circle(e,Object(a.locateRelativeToDrawpoint)(t,this.relativeLocation),this.radius,this.fill)}}]),StudPart2}(),h=function(){_inherits(BridgePart,l["ClothingPart"]);var n=_createSuper(BridgePart);function BridgePart(){_classCallCheck(this,BridgePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"".concat(a.Location.NOSE),reflect:!1,aboveParts:["faceParts ".concat(a.Location.NOSE)]},{radius:.4,distance:.9}].concat(e))}return _createClass(BridgePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){l.Clothes.simpleStrokeFill(e,t,this);var r=Object(a.locateRelativeToDrawpoint)(t,this.relativeLocation);this.fill;circle(e,Object(c.polar2cartesian)(this.distance,Object(u.rad)(this.rotation),r),this.radius,this.fill),circle(e,Object(c.polar2cartesian)(this.distance,Object(u.rad)(this.rotation+180),r),this.radius,this.fill)}}]),BridgePart}();function circle(t,e,r,n){n&&(t.fillStyle=n);var o=Object(u.drawCircle)(e,r);t.beginPath(),u.drawPoints.apply(void 0,[t].concat(_toConsumableArray(o))),t.fill(),o=Object(u.drawCircle)(Object(u.adjust)(e,.3*r,.3*r),.3*r),t.fillStyle="white",t.beginPath(),u.drawPoints.apply(void 0,[t].concat(_toConsumableArray(o))),t.fill()}var n=function(){_inherits(NipplePiercing,i["Jewelry"]);var n=_createSuper(NipplePiercing);function NipplePiercing(){_classCallCheck(this,NipplePiercing);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:l.Clothes.Layer.BASE}].concat(e))}return _createClass(NipplePiercing,[{key:"stroke",value:function stroke(){return"blue"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:f}]}}]),NipplePiercing}(),d=function(){_inherits(BellyPiercingSimple,i["Jewelry"]);var n=_createSuper(BellyPiercingSimple);function BellyPiercingSimple(){_classCallCheck(this,BellyPiercingSimple);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(BellyPiercingSimple,[{key:"stroke",value:function stroke(){return"lime"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:s}]}}]),BellyPiercingSimple}(),g=function(){_inherits(BellyPiercingAdvanced,i["Jewelry"]);var n=_createSuper(BellyPiercingAdvanced);function BellyPiercingAdvanced(){_classCallCheck(this,BellyPiercingAdvanced);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(BellyPiercingAdvanced,[{key:"stroke",value:function stroke(){return"lime"}},{key:"fill",value:function fill(){return"red"}},{key:"partPrototypes",get:function get(){return[{side:null,Part:p}]}}]),BellyPiercingAdvanced}(),P=function(){_inherits(StudPiercing2,i["Piercing"]);var n=_createSuper(StudPiercing2);function StudPiercing2(){_classCallCheck(this,StudPiercing2);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.out",dx:-3,dy:1.15},loc:"+".concat(a.Location.NOSE),requiredParts:"faceParts"}].concat(e))}return _createClass(StudPiercing2,[{key:"partPrototypes",get:function get(){return[{side:null,Part:y}]}}]),StudPiercing2}(),b=function(){_inherits(Bridge,i["Piercing"]);var n=_createSuper(Bridge);function Bridge(){_classCallCheck(this,Bridge);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{relativeLocation:{drawpoint:"nose.top",dx:-.3,dy:-1.66},loc:"+".concat(a.Location.NOSE),requiredParts:"faceParts"}].concat(e))}return _createClass(Bridge,[{key:"partPrototypes",get:function get(){return[{side:null,Part:h}]}}]),Bridge}()},function(t,e,r){"use strict";r.r(e),r.d(e,"CuirassPart",function(){return l}),r.d(e,"CuirassBreastPart",function(){return u}),r.d(e,"GreavePart",function(){return p}),r.d(e,"VambracePart",function(){return d}),r.d(e,"Armor",function(){return g}),r.d(e,"Cuirass",function(){return n}),r.d(e,"Greaves",function(){return P}),r.d(e,"Vambraces",function(){return b});var f=r(1),o=r(3),a=r(2),i=r(9),y=r(0),c=r(28),s=r(5),h=r(27);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function _unsupportedIterableToArray(t,e){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(){_inherits(CuirassPart,f["ClothingPart"]);var n=_createSuper(CuirassPart);function CuirassPart(){_classCallCheck(this,CuirassPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"torso",reflect:!0,aboveParts:["parts neck","parts torso","decorativeParts torso","parts leg"]},{}].concat(e))}return _createClass(CuirassPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r=h.calcTee.call(this,t),n=r.cleavageBot,o=r.cleavageTop,a=r.neck,i=r.shoulder,c=r.armpit,s=r.waist,l=r.hip,u=r.out,p=r.bottom,o=Object(y.adjust)(o,0,.5),i=Object(y.adjust)(i,-1,.5);c.cp1={x:i.x-5,y:.5*(i.y-c.y)+c.y},c.cp2=void 0,(p={y:u.y-6,x:-.2}).cp1={x:.5*p.x+.5*u.x,y:p.y},e.beginPath(),Object(y.drawPoints)(e,n,o,a,i,c,s,l,u,p),e.fill(),e.stroke()}}]),CuirassPart}(),u=function(){_inherits(CuirassBreastPart,f["ClothingPart"]);var n=_createSuper(CuirassBreastPart);function CuirassBreastPart(){_classCallCheck(this,CuirassBreastPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.GENITALS,loc:"chest",reflect:!0,aboveParts:["parts chest","decorativeParts chest"]},{}].concat(e))}return _createClass(CuirassBreastPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r;f.Clothes.simpleStrokeFill(e,t,this),Object(i.coverNipplesIfHaveNoBreasts)(t,e,this)||(r=t.breast,e.beginPath(),Object(y.drawPoints)(e,r.top,r.tip,r.bot,r.in,r.cleavage,r.top),e.fill(),e.beginPath(),Object(y.drawPoints)(e,r.top,r.tip,r.bot),e.stroke(),e.strokeStyle=e.fillStyle,e.beginPath(),Object(y.drawPoints)(e,r.bot,r.in,r.cleavage,r.top),e.stroke())}}]),CuirassBreastPart}(),p=function(){_inherits(GreavePart,f["ClothingPart"]);var n=_createSuper(GreavePart);function GreavePart(){_classCallCheck(this,GreavePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.FRONT,loc:"feet",aboveParts:["parts feet","parts leg"],reflect:!1},{}].concat(e))}return _createClass(GreavePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r=[];void 0!==t.quads&&(r[0]=Object(y.clone)(t.quads.top),r[0].x=t.thigh.out.x,r[1]=Object(y.clone)(t.quads.out));var n=s.getLimbPointsNegative.apply(void 0,[t.hip,t.ankle.out,this.legCoverage,t.hip,t.thigh.out].concat(r,[t.knee.out,t.calf.out,t.ankle.out])),o=Object(s.getLimbPointsBellowPoint)(n[0],!0,t.groin,t.thigh.in,t.knee.intop,t.knee.in,t.calf.in,t.ankle.in);n[1]&&(n[1]=Object(y.extractPoint)(n[1])),n[0]=Object(y.extractPoint)(n[0]),n[0].cp1={x:Object(s.findBetween)(o[o.length-1].x,n[0].x,.5),y:n[0].y+16},o[0]=Object(y.extractPoint)(o[0]),o[0].cp1={x:Object(s.findBetween)(n[n.length-1].x,o[0].x,.5),y:o[0].y+6},e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),_toConsumableArray(o),[n[0]])),e.fill(),e.stroke()}}]),GreavePart}(),d=function(){_inherits(VambracePart,f["ClothingPart"]);var n=_createSuper(VambracePart);function VambracePart(){_classCallCheck(this,VambracePart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:a.Layer.ARMS,loc:"arm",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{armCoverage:.5}].concat(e))}return _createClass(VambracePart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){f.Clothes.simpleStrokeFill(e,t,this);var r=c.calcGlove.call(this,t),n=r.outerArmPoints,o=r.innerArmPoints;e.beginPath(),y.drawPoints.apply(void 0,[e].concat(_toConsumableArray(n),[Object(y.extractPoint)(t.wrist.out),t.wrist.in],_toConsumableArray(o),[Object(y.extractPoint)(n[0])])),e.fill(),e.stroke()}}]),VambracePart}(),g=function(){_inherits(Armor,f["Clothing"]);var n=_createSuper(Armor);function Armor(){_classCallCheck(this,Armor);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:f.Clothes.Layer.OUTER}].concat(e))}return _createClass(Armor,[{key:"stroke",value:function stroke(){return"#252539"}},{key:"fill",value:function fill(){return"#8b8e91"}}]),Armor}(),n=function(){_inherits(Cuirass,g);var n=_createSuper(Cuirass);function Cuirass(){_classCallCheck(this,Cuirass);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{cleavageOpeness:.055,cleavageCoverage:.1,sideLoose:.3,waistCoverage:.5,curveCleavageX:1,curveCleavageY:-4,legCoverage:1}].concat(e))}return _createClass(Cuirass,[{key:"partPrototypes",get:function get(){return[{side:null,Part:u},{side:null,Part:l}]}}]),Cuirass}(),P=function(){_inherits(Greaves,g);var n=_createSuper(Greaves);function Greaves(){_classCallCheck(this,Greaves);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{legCoverage:.54}].concat(e))}return _createClass(Greaves,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:p},{side:o.Part.RIGHT,Part:p}]}}]),Greaves}(),b=function(){_inherits(Vambraces,g);var n=_createSuper(Vambraces);function Vambraces(){_classCallCheck(this,Vambraces);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{armCoverage:.6}].concat(e))}return _createClass(Vambraces,[{key:"partPrototypes",get:function get(){return[{side:o.Part.LEFT,Part:d},{side:o.Part.RIGHT,Part:d}]}}]),Vambraces}()},function(t,e,r){"use strict";r.r(e),r.d(e,"ThumbPart",function(){return i}),r.d(e,"FingerPart",function(){return u}),r.d(e,"BodyMakeup",function(){return p}),r.d(e,"Nails",function(){return n});var c=r(1),o=r(2),s=r(0),a=(r(4),r(3)),l=r(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=function(){_inherits(ThumbPart,c["ClothingPart"]);var n=_createSuper(ThumbPart);function ThumbPart(){_classCallCheck(this,ThumbPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ARMS,loc:"+hand",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{}].concat(e))}return _createClass(ThumbPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){c.Clothes.simpleStrokeFill(e,t,this);var r=t.thumb.tip,n=t.thumb.out,o=Object(s.splitCurve)(-.08,r,n),a=Object(s.extractPoint)(o.left.p2);o=Object(s.splitCurve)(.15,r,n);var i=Object(s.extractPoint)(o.left.p2);i.x+=.2,a.cp1=Object(l.perpendicularPoint)(i,a,.7,.8),i.cp1=Object(l.perpendicularPoint)(i,a,.7,-1),e.beginPath(),Object(s.drawPoints)(e,i,a,i),e.fill()}}]),ThumbPart}(),u=function(){_inherits(FingerPart,c["ClothingPart"]);var n=_createSuper(FingerPart);function FingerPart(){_classCallCheck(this,FingerPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.ARMS,loc:"+hand",aboveParts:["parts arm","decorativeParts arm","parts hand"]},{}].concat(e))}return _createClass(FingerPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){c.Clothes.simpleStrokeFill(e,t,this);var r=t.hand.tip,n=t.hand.knuckle,o=Object(s.splitCurve)(-.08,r,n),a=Object(s.extractPoint)(o.left.p2);o=Object(s.splitCurve)(.15,r,n);var i=Object(s.extractPoint)(o.left.p2);i.x-=.2,a.x-=.6,a.cp1=Object(l.perpendicularPoint)(i,a,.7,.8),i.cp1=Object(l.perpendicularPoint)(i,a,.7,-1),e.beginPath(),Object(s.drawPoints)(e,i,a,i),e.fill()}}]),FingerPart}(),p=function(){_inherits(BodyMakeup,c["Clothing"]);var n=_createSuper(BodyMakeup);function BodyMakeup(){_classCallCheck(this,BodyMakeup);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:c.Clothes.Layer.BASE}].concat(e))}return _createClass(BodyMakeup,[{key:"fill",value:function fill(){return"hsla(0, 0%, 28%, 1)"}}]),BodyMakeup}(),n=function(){_inherits(Nails,p);var n=_createSuper(Nails);function Nails(){_classCallCheck(this,Nails);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:c.Clothes.Layer.BASE}].concat(e))}return _createClass(Nails,[{key:"fill",value:function fill(){return"#b91100"}},{key:"partPrototypes",get:function get(){return[{side:a.Part.LEFT,Part:u},{side:a.Part.LEFT,Part:i},{side:a.Part.RIGHT,Part:u},{side:a.Part.RIGHT,Part:i}]}}]),Nails}()},function(t,e,r){"use strict";r.r(e),r.d(e,"StrapPart",function(){return a}),r.d(e,"ChestStrapPart",function(){return i}),r.d(e,"UnderChestStrapPart",function(){return c}),r.d(e,"ChestChainStrapPart",function(){return s}),r.d(e,"CrotchStrapPart",function(){return l}),r.d(e,"WaistStrapPart",function(){return u}),r.d(e,"HipChainStrapPart",function(){return p}),r.d(e,"LeashPart",function(){return f}),r.d(e,"Harness",function(){return y}),r.d(e,"FullLeatherHarness",function(){return h}),r.d(e,"MetalChainHarness",function(){return d});var v=r(1),o=r(2),_=r(0),m=r(4),n=r(26);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(t){return typeof t}:function _typeof(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(t,e)||_unsupportedIterableToArray(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function _createSuperInternal(){var t,e=_getPrototypeOf(r);return function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var a=function(){_inherits(StrapPart,v["ClothingPart"]);var n=_createSuper(StrapPart);function StrapPart(){_classCallCheck(this,StrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{strapWidth:3,thickness:.5,stroke:"#111",fill:"#444",studColor:"silver",studSize:.5}].concat(e))}return StrapPart}(),i=function(){_inherits(ChestStrapPart,a);var n=_createSuper(ChestStrapPart);function ChestStrapPart(){_classCallCheck(this,ChestStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+".concat(m.Location.CHEST),aboveParts:["parts ".concat(m.Location.CHEST),"decorativeParts ".concat(m.Location.CHEST)],reflect:!0}].concat(e))}return _createClass(ChestStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){v.Clothes.simpleStrokeFill(e,t,this);var r=calcTopStrap.call(this,t),n=r.midRightTop,o=r.midRightBot,a=r.midLeftBot,i=r.midLeftTop,c=r.topRightTop,s=r.topRightBot,l=r.topLeftBot,u=r.topLeftTop;e.beginPath(),Object(_.drawPoints)(e,n,o,a,i,n),Object(_.drawPoints)(e,c,s,l,u,c),e.stroke(),e.fill()}}]),ChestStrapPart}(),c=function(){_inherits(UnderChestStrapPart,a);var n=_createSuper(UnderChestStrapPart);function UnderChestStrapPart(){_classCallCheck(this,UnderChestStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.FRONT,loc:"+".concat(m.Location.CHEST),aboveParts:["parts ".concat(m.Location.CHEST),"decorativeParts ".concat(m.Location.CHEST)],reflect:!0,aboveSameLayerParts:["chest"]}].concat(e))}return _createClass(UnderChestStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){v.Clothes.simpleStrokeFill(e,t,this);var r=calcTopStrap.call(this,t),n=r.underRightTop,o=r.underRightBot,a=r.underLeftBot,i=r.underLeftTop;e.beginPath(),Object(_.drawPoints)(e,n,o,a,i,n),e.stroke(),e.fill()}}]),UnderChestStrapPart}(),s=function(){_inherits(ChestChainStrapPart,a);var n=_createSuper(ChestChainStrapPart);function ChestChainStrapPart(){_classCallCheck(this,ChestChainStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.GENITALS,loc:"+".concat(m.Location.CHEST),aboveParts:["parts ".concat(m.Location.CHEST),"decorativeParts ".concat(m.Location.CHEST)],reflect:!0,aboveSameLayerParts:["chest"],chains:13,chainDrape:1,chainThickness:1}].concat(e))}return _createClass(ChestChainStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){v.Clothes.simpleStrokeFill(e,t,this);var r=m.calcCollar.call(this,t),n=r.botOut,o=r.botIn,a=.2*this.strapWidth,i=Object(_.splitCurve)(Object(_.clamp)(1-a,.2,.9),n,o),c=i.right.p1,s=(i=Object(_.splitCurve)(Object(_.clamp)(a,.2,.8),i.right.p1,i.right.p2)).left.p2,o=Object(_.extractPoint)(t.waist);t.breast&&t.breast.bot.y<o.y&&(o.y=t.breast.bot.y),n=Object(_.adjust)(o,.4*this.strapWidth,.7*this.strapWidth);var l=t.breast?t.breast.top.y-t.chest.nipples.y:0;o.cp1=Object(_.adjust)(s,0,.9*-l),o.cp2=Object(_.adjust)(t.chest.nipples,.75*l+2,.1*l+3),c.cp1=Object(_.adjust)(o.cp2,1,.8*this.strapWidth),c.cp2=Object(_.adjust)(o.cp1,1,.8*this.strapWidth),e.beginPath(),Object(_.drawPoints)(e,c,s,o,n,c),e.fill(),e.stroke();for(var u=this.chains,p=0,f=0,y=[],h=.35;h<.9;h+=1/u){var d=Object(_.clamp)(3*Math.abs(h-.56)+.32,0,1);d-=.2*(.7-Math.abs(d-.7));var g=Object(_.splitCurve)(h,s,o),P=Object(_.adjust)(g.left.p2,p,f),b={x:0,y:P.y-P.x*this.chainDrape*d*(h+.2)};b.cp1={x:.7*P.x,y:b.y*d+(P.y+.5*l)*(1-d)},y.push(P,b,_.breakPoint)}e.lineWidth=this.chainThickness,e.setLineDash([3,5*this.chainThickness]),e.beginPath(),_.drawPoints.apply(void 0,[e].concat(y)),e.stroke()}}]),ChestChainStrapPart}(),l=function(){_inherits(CrotchStrapPart,a);var n=_createSuper(CrotchStrapPart);function CrotchStrapPart(){_classCallCheck(this,CrotchStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.MIDRIFT,loc:"+".concat(m.Location.GROIN),aboveParts:["parts ".concat(m.Location.GROIN),"decorativeParts ".concat(m.Location.GROIN)],reflect:!0,ringColor:"silver",ringWidth:3,ringThickness:1}].concat(e))}return _createClass(CrotchStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r=calcBotStrap.call(this,t),n=r.top,o=r.right,a=r.bot,i=r.leftTop,c=r.leftCenter,s=r.leftBot,l=r.rightBot,u=r.rightTop,p=r.botTopRight,f=r.botTopLeft,y=r.botBotLeft,h=r.botBotRight;Object(m.setStrokeAndFill)(e,{stroke:this.ringColor},t),e.lineWidth=this.ringThickness,e.beginPath(),Object(_.drawPoints)(e,n,o,a),e.stroke(),v.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(_.drawPoints)(e,i,c,s,l,u,i),Object(_.drawPoints)(e,p,f,y,h,p),e.stroke(),e.fill();var d=drawStuds.call(this,f,y,2);d.push.apply(d,_toConsumableArray(drawStuds.call(this,s,l,3,{x:0,y:.3*this.strapWidth}))),Object(m.setStrokeAndFill)(e,{fill:this.studColor},t),e.beginPath(),_.drawPoints.apply(void 0,[e].concat(_toConsumableArray(d))),e.fill()}}]),CrotchStrapPart}(),u=function(){_inherits(WaistStrapPart,a);var n=_createSuper(WaistStrapPart);function WaistStrapPart(){_classCallCheck(this,WaistStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.MIDRIFT,loc:"+".concat(m.Location.TORSO),reflect:!0,aboveParts:["parts ".concat(m.Location.CHEST),"decorativeParts ".concat(m.Location.CHEST)],aboveSameLayerParts:["chest"],chains:5}].concat(e))}return _createClass(WaistStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){v.Clothes.simpleStrokeFill(e,t,this);var r=calcWaistStrap.call(this,t),n=r.topRight,o=r.topLeft,a=r.botLeft,i=r.botRight,c=r.midRight;e.beginPath(),Object(_.drawPoints)(e,n,o,a,i,c,n),e.stroke(),e.fill();var s=drawStuds.call(this,o,a,this.studs);Object(m.setStrokeAndFill)(e,{fill:this.studColor},t),e.beginPath(),_.drawPoints.apply(void 0,[e].concat(_toConsumableArray(s))),e.fill()}}]),WaistStrapPart}(),p=function(){_inherits(HipChainStrapPart,a);var n=_createSuper(HipChainStrapPart);function HipChainStrapPart(){_classCallCheck(this,HipChainStrapPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.MIDRIFT,loc:"+".concat(m.Location.TORSO),reflect:!0,aboveParts:["parts ".concat(m.Location.TORSO),"decorativeParts ".concat(m.Location.TORSO)],aboveSameLayerParts:["".concat(m.Location.TORSO)],studs:5,ringColor:"#DAA520",ringWidth:3,ringThickness:1}].concat(e))}return _createClass(HipChainStrapPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){var r={x:.5*t.hip.x,y:t.hip.y-3},n=drawRing(r,{strapWidth:this.strapWidth,ringWidth:this.ringWidth,shiftUpRight:.15,shiftUpLeft:-.1}),o=n.ring,a=n.ringRight,i=n.ringLeft,c=Object(_.splitCurve)(Object(_.clamp)(1-.02*this.strapWidth,0,1),t.waist,t.hip),s=Object(_.reverseDrawPoint)(c.right.p1,c.right.p2),l=Object(_.extractPoint)(c.right.p2);l.cp1=Object(_.simpleQuadratic)(a.bot,l,.5,-1.5),a.top.cp1=Object(_.adjust)(l.cp1,-.5,this.strapWidth);var u={x:-2,y:r.y-1.5+.5*this.strapWidth},p={x:u.x,y:u.y-this.strapWidth};p.cp1=Object(_.simpleQuadratic)(u,p,.5,-1),u.cp1=Object(_.simpleQuadratic)(i.top,u,.5,.6),i.bot.cp1=Object(_.adjust)(u.cp1,0,-this.strapWidth),Object(m.setStrokeAndFill)(e,{stroke:this.ringColor},t),e.lineWidth=this.ringThickness,e.beginPath(),Object(_.drawPoints)(e,o.top,o.right,o.bot,o.left,o.top),e.stroke(),v.Clothes.simpleStrokeFill(e,t,this),e.beginPath(),Object(_.drawPoints)(e,a.top,a.center,a.bot,l,s,a.top),Object(_.drawPoints)(e,i.bot,i.center,i.top,u,p,i.bot),e.fill(),e.stroke();for(var f=.6*this.chains,y=[],h=.15;h<.7;h+=1/f){var d=Object(_.splitCurve)(h,t.hip,t.thigh.out).right.p1;d.cp1={x:o.bot.x*(1-.7)+.7*d.x,y:d.y-.1*d.x*this.chainDrape},y.push(o.bot,d,_.breakPoint)}e.lineWidth=this.chainThickness,e.setLineDash([3,5*this.chainThickness]),e.beginPath(),_.drawPoints.apply(void 0,[e].concat(y)),e.stroke()}}]),HipChainStrapPart}(),f=function(){_inherits(LeashPart,a);var n=_createSuper(LeashPart);function LeashPart(){_classCallCheck(this,LeashPart);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{layer:o.Layer.BELOW_HAIR,loc:"+".concat(m.Location.TORSO),reflect:!1,aboveParts:["parts ".concat(m.Location.CHEST),"decorativeParts ".concat(m.Location.CHEST)],aboveSameLayerParts:["chest"]}].concat(e))}return _createClass(LeashPart,[{key:"renderClothingPoints",value:function renderClothingPoints(t,e){v.Clothes.simpleStrokeFill(e,t,this);var r=calcWaistStrap.call(this,t),n=r.topRight,o=r.topLeft,a={x:10,y:180};a.cp1={x:o.x+10,y:o.y-80},a.cp2={x:a.x+5,y:a.y+20},n.cp2=Object(_.adjust)(a.cp1,2,0),n.cp1=Object(_.adjust)(a.cp2,1,0),e.beginPath(),Object(_.drawPoints)(e,n,o,a,n),e.stroke(),e.fill()}}]),LeashPart}();function drawRing(t,e){var r=e.strapWidth,n=e.ringWidth,o=e.shiftUpRight,a=e.shiftUpLeft,i=_slicedToArray(Object(_.drawCircle)(t,n),4),c=i[0],s=i[1],l=i[2],u=i[3],p={top:c,right:s,bot:l,left:u},f={},o=o||0,y=.15*r-.04*n,h=Object(_.splitCurve)(Object(_.clamp)(1-o-y,0,1),c,s);f.top=h.right.p1,f.center=h.right.p2,h=Object(_.splitCurve)(Object(_.clamp)(y-o,0,1-o),s,l),f.bot=h.left.p2;var d={},a=a||0,h=Object(_.splitCurve)(Object(_.clamp)(1-y+a,0,1),l,u);return d.bot=h.right.p1,d.center=h.right.p2,h=Object(_.splitCurve)(Object(_.clamp)(y+a,a,1),u,c),d.top=h.left.p2,{ring:p,ringRight:f,ringLeft:d}}function drawStuds(t,e,r,n){n=n||{x:0,y:0};for(var o=[],a=.1;a<1;a+=1/r){var i=Object(_.splitCurve)(a,t,e),c=Object(_.adjust)(i.left.p2,n.x,n.y);o.push.apply(o,_toConsumableArray(Object(_.drawCircle)(c,this.studSize)).concat([_.breakPoint]))}return o}function calcBotStrap(t){var e=drawRing(Object(_.adjust)(t.pelvis,0,-5),{strapWidth:this.strapWidth,ringWidth:this.ringWidth,shiftUpRight:.35}),r=e.ring,n=e.ringRight,o=r.top,a=r.right,i=r.bot,c=r.left,s=n.top,l=n.center,u=n.bot,p=Object(_.splitCurve)(1-Object(_.clamp)(.02*this.strapWidth,0,.3),t.waist,t.hip),f=p.right.p1,y=p.right.p2,f=Object(_.reverseDrawPoint)(f,y);y.cp1=Object(_.simpleQuadratic)(u,y,.5,2.5),s.cp1=Object(_.adjust)(y.cp1,-.5,.7*this.strapWidth);var h=.15*this.strapWidth-.04*this.ringWidth,d=(p=Object(_.splitCurve)(Object(_.clamp)(1-h,.05,.95),a,i)).right.p1,g=p.right.p2,P=Object(_.adjust)(t.groin,0,0);return{top:o,right:a,bot:i,left:c,leftTop:s,leftCenter:l,leftBot:u,rightBot:y,rightTop:f,botTopRight:d,botTopLeft:g,botBotLeft:P,botBotRight:Object(_.adjust)(P,Object(_.clamp)(.5*this.strapWidth,0,2.5),.5)}}function calcTopStrap(t){var e,r,n,o=Object(_.adjust)(Object(_.extractPoint)(t.armpit),-.5,-1),a=Object(_.adjust)(o,-.5,.5*-this.strapWidth),i={x:0,y:t.chest.nipples.y},c={x:0,y:i.y+this.strapWidth},s=_.breakPoint,l=_.breakPoint,u=_.breakPoint,p=_.breakPoint,f=_.breakPoint,y=_.breakPoint,h=_.breakPoint,d=_.breakPoint;return!t.breast||t.breast.top.y-t.chest.nipples.y<2?(e=o.y-t.chest.nipples.y,i.cp1=Object(_.simpleQuadratic)(o,i,.5,e),o.cp1=Object(_.adjust)(i.cp1,0,this.strapWidth+1.5)):(n=Object(_.splitCurve)(.7,t.breast.top,t.breast.tip),r=t.breast.top.y-t.chest.nipples.y,o=Object(_.adjust)(n.right.p1,0,0),a=(n=Object(_.splitCurve)(Object(_.clamp)(.1*this.strapWidth,.05,.6),n.right.p1,n.right.p2)).left.p2,i.cp1=Object(_.adjust)(t.chest.nipples,0,.7*-this.strapWidth-.19*r),o.cp1=Object(_.adjust)(i.cp1,-.5,1.2*this.strapWidth),n=Object(_.splitCurve)(.3,t.breast.top,t.breast.tip),s=Object(_.adjust)(n.right.p1,0,0),l=(n=Object(_.splitCurve)(Object(_.clamp)(.05*this.strapWidth,.05,.4),n.right.p1,n.right.p2)).left.p2,u={x:0,y:i.y+.5*this.strapWidth},p=Object(_.adjust)(u,0,this.strapWidth),u.cp1=Object(_.adjust)(t.chest.nipples,0,.15*this.strapWidth+.6*r),s.cp1=Object(_.adjust)(u.cp1,-.5,.7*this.strapWidth),n=Object(_.splitCurve)(.4,t.breast.tip,t.breast.bot),f=Object(_.adjust)(n.right.p1,-0,.5),y=Object(_.adjust)(f,-.7,-2-.2*this.strapWidth),h={x:0,y:i.y-this.strapWidth},d=Object(_.adjust)(h,0,this.strapWidth),h.cp1=Object(_.simpleQuadratic)(y,h,.5,.4*r+3),f.cp1=Object(_.adjust)(h.cp1,-.5,.7*this.strapWidth)),{midRightTop:o,midRightBot:a,midLeftBot:i,midLeftTop:c,topRightTop:s,topRightBot:l,topLeftBot:u,topLeftTop:p,underRightTop:f,underRightBot:y,underLeftBot:h,underLeftTop:d}}function calcWaistStrap(t){var e=m.calcCollarRing.call(this,t),r=calcBotStrap.call(this,t),n=1-.15*this.strapWidth+.045*this.ringWidth,o=(i=Object(_.splitCurve)(Object(_.clamp)(n,0,1),e.right,e.bot)).right.p1,a=i.right.p2,i=Object(_.splitCurve)(Object(_.clamp)(1-n,0,1),r.top,r.right),c=Object(_.adjust)(Object(_.extractPoint)(r.top),0,0),s=i.left.p2,l={x:null,y:t.chest.nipples.y};return i=_slicedToArray(Object(_.interpolateCurve)(s,o,l),1)[0],{topRight:o,topLeft:a,botLeft:c,botRight:s,midRight:Object(_.adjust)(i,-1,0)}}var y=function(){_inherits(Harness,v["Clothing"]);var n=_createSuper(Harness);function Harness(){_classCallCheck(this,Harness);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{clothingLayer:v.Clothes.Layer.OUTER}].concat(e))}return Harness}(),h=function(){_inherits(FullLeatherHarness,y);var n=_createSuper(FullLeatherHarness);function FullLeatherHarness(){_classCallCheck(this,FullLeatherHarness);for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.call.apply(n,[this,{}].concat(e))}return _createClass(FullLeatherHarness,[{key:"partPrototypes",get:function get(){return[{side:null,Part:i},{side:null,Part:c},{side:null,Part:l},{side:null,Part:u},{side:null,Part:f},{side:null,Part:m.CollarPart},{side:null,Part:m.ChokerPart}]}}]),FullLeatherHarness}(),d=function(){_inherits(MetalChainHarness,y);var o=_createSuper(MetalChainHarness);function MetalChainHarness(){var t;_classCallCheck(this,MetalChainHarness);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this,{stroke:"#DAA520",fill:"#FFD700",waistCoverage:.8}].concat(r))).beltWidth=t.strapWidth,t.neckCoverage=.075*t.strapWidth,t}return _createClass(MetalChainHarness,[{key:"partPrototypes",get:function get(){return[{side:null,Part:s},{side:null,Part:n.SimpleBeltPart},{side:null,Part:p},{side:null,Part:m.ChokerPart}]}}]),MetalChainHarness}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(42),o=r(3),a=r(92),i=r(91),c=r(94),s=r(88),l=r(90),u=r(82),p=r(87),f=r(93),y=r(89),h=r(86),d=r(83),g=r(84),P=r(85),b=r(71),v=r(75),_=r(78),m=r(77),S=r(79),C=r(80),O=r(76),k=r(74),w=r(73),j=r(72),x=r(70);n.Skeleton.human.maleParts=[{partGroup:"parts",side:null,part:a.TesticlesHuman},{partGroup:"parts",side:null,part:i.PenisHuman},{partGroup:"decorativeParts",side:null,part:i.PenisHeadHuman}],n.Skeleton.human.femaleParts=[{partGroup:"parts",side:null,part:c.VaginaHuman}],n.Skeleton.human.defaultParts=[{side:null,part:s.HeadHuman},{side:null,part:l.NeckHuman},{side:o.Part.LEFT,part:u.ArmHuman},{side:o.Part.RIGHT,part:u.ArmHuman},{side:o.Part.LEFT,part:p.HandHuman},{side:o.Part.RIGHT,part:p.HandHuman},{side:null,part:f.TorsoHuman},{side:o.Part.LEFT,part:y.LegHuman},{side:o.Part.RIGHT,part:y.LegHuman},{side:o.Part.LEFT,part:P.FeetHuman},{side:o.Part.RIGHT,part:P.FeetHuman},{side:null,part:h.GroinHuman},{side:null,part:d.ButtHuman},{side:null,part:g.ChestHuman},{side:null,part:g.NipplesHuman}],n.Skeleton.human.defaultFaceParts=[{side:o.Part.LEFT,part:b.EarsHuman},{side:o.Part.RIGHT,part:b.EarsHuman},{side:null,part:S.NoseHuman},{side:null,part:m.LipsHuman},{side:null,part:_.MouthHuman},{side:o.Part.LEFT,part:v.EyesHuman},{side:o.Part.RIGHT,part:v.EyesHuman},{side:o.Part.LEFT,part:O.IrisHuman},{side:o.Part.RIGHT,part:O.IrisHuman},{side:o.Part.LEFT,part:C.PupilHuman},{side:o.Part.RIGHT,part:C.PupilHuman},{side:o.Part.LEFT,part:k.EyelidHuman},{side:o.Part.RIGHT,part:k.EyelidHuman},{side:o.Part.LEFT,part:w.EyelashHuman},{side:o.Part.RIGHT,part:w.EyelashHuman},{side:o.Part.LEFT,part:j.BrowHuman},{side:o.Part.RIGHT,part:j.BrowHuman}],n.Skeleton.human.defaultDecorativeParts=[{side:null,part:x.BellyButtonOutline},{side:o.Part.LEFT,part:x.DeltoidsOutline},{side:o.Part.RIGHT,part:x.DeltoidsOutline},{side:null,part:x.CollarboneOutline},{side:null,part:x.PectoralOutline},{side:null,part:x.AbdominalOutline},{side:o.Part.LEFT,part:x.QuadricepsOutline},{side:o.Part.RIGHT,part:x.QuadricepsOutline}]}],d={},__webpack_require__.m=c,__webpack_require__.c=d,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)__webpack_require__.d(r,n,function(t){return e[t]}.bind(null,n));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="/",__webpack_require__(__webpack_require__.s=4);function __webpack_require__(t){if(d[t])return d[t].exports;var e=d[t]={i:t,l:!1,exports:{}};return c[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}var c,d});